import{b as ij,_ as W,a as K}from"./defineProperty-75c483e5.js";import{r as U,R as _u}from"./index-76fb7be0.js";import{j,a as Ar,F as d8}from"./jsx-runtime-29545a09.js";import{c as q}from"./clsx.m-1229b3e0.js";import{_ as f8}from"./extends-98964cd2.js";import{g as h8}from"./_commonjsHelpers-de833af9.js";function p8(t){if(Array.isArray(t))return t}function g8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(l){s=!0,o=l}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b8(t,e){if(t){if(typeof t=="string")return pO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(t,e)}}function m8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yh(t,e){return p8(t)||g8(t,e)||b8(t,e)||m8()}function v8(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ct(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function zt(t){Ct(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ij(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function y8(t,e){Ct(2,arguments);var r=zt(t),n=Je(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function aj(t,e){Ct(2,arguments);var r=zt(t),n=Je(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var a=i.getDate();return o>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function x8(t,e){Ct(2,arguments);var r=zt(t).getTime(),n=Je(e);return new Date(r+n)}var w8={};function bs(){return w8}function cj(t,e){var r,n,o,i,a,c,u,s;Ct(1,arguments);var l=bs(),d=Je((r=(n=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:l.weekStartsOn)!==null&&n!==void 0?n:(u=l.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=zt(t),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function k8(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function _0(t){Ct(1,arguments);var e=zt(t);return e.setHours(0,0,0,0),e}function _8(t,e){Ct(2,arguments);var r=Je(e),n=r*7;return y8(t,n)}function O8(t,e){Ct(2,arguments);var r=Je(e);return aj(t,r*12)}var uj=6e4,sj=36e5;function Um(t,e){Ct(2,arguments);var r=_0(t),n=_0(e);return r.getTime()===n.getTime()}function E8(t){return Ct(1,arguments),t instanceof Date||ij(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function S8(t){if(Ct(1,arguments),!E8(t)&&typeof t!="number")return!1;var e=zt(t);return!isNaN(Number(e))}function gO(t){Ct(1,arguments);var e=zt(t);return e.setHours(23,59,59,999),e}function lj(t,e){var r;Ct(1,arguments);var n=t||{},o=zt(n.start),i=zt(n.end),a=i.getTime();if(!(o.getTime()<=a))throw new RangeError("Invalid interval");var c=[],u=o;u.setHours(0,0,0,0);var s=Number((r=e==null?void 0:e.step)!==null&&r!==void 0?r:1);if(s<1||isNaN(s))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=a;)c.push(zt(u)),u.setDate(u.getDate()+s),u.setHours(0,0,0,0);return c}function $8(t){Ct(1,arguments);var e=zt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dj(t,e){var r,n,o,i,a,c,u,s;Ct(1,arguments);var l=bs(),d=Je((r=(n=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:l.weekStartsOn)!==null&&n!==void 0?n:(u=l.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=zt(t),h=f.getDay(),p=(h<d?-7:0)+6-(h-d);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function C8(t,e){Ct(2,arguments);var r=Je(e);return x8(t,-r)}var A8=864e5;function P8(t){Ct(1,arguments);var e=zt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),o=r-n;return Math.floor(o/A8)+1}function Vh(t){Ct(1,arguments);var e=1,r=zt(t),n=r.getUTCDay(),o=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function fj(t){Ct(1,arguments);var e=zt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=Vh(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var a=Vh(i);return e.getTime()>=o.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function N8(t){Ct(1,arguments);var e=fj(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Vh(r);return n}var D8=6048e5;function j8(t){Ct(1,arguments);var e=zt(t),r=Vh(e).getTime()-N8(e).getTime();return Math.round(r/D8)+1}function Xh(t,e){var r,n,o,i,a,c,u,s;Ct(1,arguments);var l=bs(),d=Je((r=(n=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:l.weekStartsOn)!==null&&n!==void 0?n:(u=l.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=zt(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function hj(t,e){var r,n,o,i,a,c,u,s;Ct(1,arguments);var l=zt(t),d=l.getUTCFullYear(),f=bs(),h=Je((r=(n=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var g=Xh(p,e),b=new Date(0);b.setUTCFullYear(d,0,h),b.setUTCHours(0,0,0,0);var m=Xh(b,e);return l.getTime()>=g.getTime()?d+1:l.getTime()>=m.getTime()?d:d-1}function T8(t,e){var r,n,o,i,a,c,u,s;Ct(1,arguments);var l=bs(),d=Je((r=(n=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:l.firstWeekContainsDate)!==null&&n!==void 0?n:(u=l.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=hj(t,e),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=Xh(h,e);return p}var M8=6048e5;function F8(t,e){Ct(1,arguments);var r=zt(t),n=Xh(r,e).getTime()-T8(r,e).getTime();return Math.round(n/M8)+1}function kt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var z8={y:function(e,r){var n=e.getUTCFullYear(),o=n>0?n:1-n;return kt(r==="yy"?o%100:o,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):kt(n+1,2)},d:function(e,r){return kt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return kt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return kt(e.getUTCHours(),r.length)},m:function(e,r){return kt(e.getUTCMinutes(),r.length)},s:function(e,r){return kt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,o=e.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,n-3));return kt(i,r.length)}};const wi=z8;var Jc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R8={G:function(e,r,n){var o=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var o=e.getUTCFullYear(),i=o>0?o:1-o;return n.ordinalNumber(i,{unit:"year"})}return wi.y(e,r)},Y:function(e,r,n,o){var i=hj(e,o),a=i>0?i:1-i;if(r==="YY"){var c=a%100;return kt(c,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):kt(a,r.length)},R:function(e,r){var n=fj(e);return kt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return kt(n,r.length)},Q:function(e,r,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return kt(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,r,n){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return kt(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,r,n){var o=e.getUTCMonth();switch(r){case"M":case"MM":return wi.M(e,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,r,n){var o=e.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return kt(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,r,n,o){var i=F8(e,o);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):kt(i,r.length)},I:function(e,r,n){var o=j8(e);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):kt(o,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wi.d(e,r)},D:function(e,r,n){var o=P8(e);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):kt(o,r.length)},E:function(e,r,n){var o=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,r,n,o){var i=e.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return kt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,o){var i=e.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return kt(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var o=e.getUTCDay(),i=o===0?7:o;switch(r){case"i":return String(i);case"ii":return kt(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,r,n){var o=e.getUTCHours(),i=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var o=e.getUTCHours(),i;switch(o===12?i=Jc.noon:o===0?i=Jc.midnight:i=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var o=e.getUTCHours(),i;switch(o>=17?i=Jc.evening:o>=12?i=Jc.afternoon:o>=4?i=Jc.morning:i=Jc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return wi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wi.H(e,r)},K:function(e,r,n){var o=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):kt(o,r.length)},k:function(e,r,n){var o=e.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):kt(o,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wi.s(e,r)},S:function(e,r){return wi.S(e,r)},X:function(e,r,n,o){var i=o._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return mO(a);case"XXXX":case"XX":return Ba(a);case"XXXXX":case"XXX":default:return Ba(a,":")}},x:function(e,r,n,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(r){case"x":return mO(a);case"xxxx":case"xx":return Ba(a);case"xxxxx":case"xxx":default:return Ba(a,":")}},O:function(e,r,n,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+bO(a,":");case"OOOO":default:return"GMT"+Ba(a,":")}},z:function(e,r,n,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+bO(a,":");case"zzzz":default:return"GMT"+Ba(a,":")}},t:function(e,r,n,o){var i=o._originalDate||e,a=Math.floor(i.getTime()/1e3);return kt(a,r.length)},T:function(e,r,n,o){var i=o._originalDate||e,a=i.getTime();return kt(a,r.length)}};function bO(t,e){var r=t>0?"-":"+",n=Math.abs(t),o=Math.floor(n/60),i=n%60;if(i===0)return r+String(o);var a=e||"";return r+String(o)+a+kt(i,2)}function mO(t,e){if(t%60===0){var r=t>0?"-":"+";return r+kt(Math.abs(t)/60,2)}return Ba(t,e)}function Ba(t,e){var r=e||"",n=t>0?"-":"+",o=Math.abs(t),i=kt(Math.floor(o/60),2),a=kt(o%60,2);return n+i+r+a}const L8=R8;var vO=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},pj=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},I8=function(e,r){var n=e.match(/(P+)(p+)?/)||[],o=n[1],i=n[2];if(!i)return vO(e,r);var a;switch(o){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",vO(o,r)).replace("{{time}}",pj(i,r))},B8={p:pj,P:I8};const U8=B8;var q8=["D","DD"],W8=["YY","YYYY"];function H8(t){return q8.indexOf(t)!==-1}function G8(t){return W8.indexOf(t)!==-1}function yO(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Y8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V8=function(e,r,n){var o,i=Y8[e];return typeof i=="string"?o=i:r===1?o=i.one:o=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};const X8=V8;function qm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var K8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z8={date:qm({formats:K8,defaultWidth:"full"}),time:qm({formats:Q8,defaultWidth:"full"}),dateTime:qm({formats:J8,defaultWidth:"full"})};const t9=Z8;var e9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r9=function(e,r,n,o){return e9[e]};const n9=r9;function Us(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{var c=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;o=t.values[u]||t.values[c]}var s=t.argumentCallback?t.argumentCallback(e):e;return o[s]}}var o9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},l9=function(e,r){var n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},d9={ordinalNumber:l9,era:Us({values:o9,defaultWidth:"wide"}),quarter:Us({values:i9,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Us({values:a9,defaultWidth:"wide"}),day:Us({values:c9,defaultWidth:"wide"}),dayPeriod:Us({values:u9,defaultWidth:"wide",formattingValues:s9,defaultFormattingWidth:"wide"})};const f9=d9;function qs(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?p9(c,function(d){return d.test(a)}):h9(c,function(d){return d.test(a)}),s;s=t.valueCallback?t.valueCallback(u):u,s=r.valueCallback?r.valueCallback(s):s;var l=e.slice(a.length);return{value:s,rest:l}}}function h9(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function p9(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function g9(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var o=n[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var c=e.slice(o.length);return{value:a,rest:c}}}var b9=/^(\d+)(th|st|nd|rd)?/i,m9=/\d+/i,v9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},y9={any:[/^b/i,/^(a|c)/i]},x9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w9={any:[/1/i,/2/i,/3/i,/4/i]},k9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},O9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},S9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C9={ordinalNumber:g9({matchPattern:b9,parsePattern:m9,valueCallback:function(e){return parseInt(e,10)}}),era:qs({matchPatterns:v9,defaultMatchWidth:"wide",parsePatterns:y9,defaultParseWidth:"any"}),quarter:qs({matchPatterns:x9,defaultMatchWidth:"wide",parsePatterns:w9,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qs({matchPatterns:k9,defaultMatchWidth:"wide",parsePatterns:_9,defaultParseWidth:"any"}),day:qs({matchPatterns:O9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:S9,defaultMatchWidth:"any",parsePatterns:$9,defaultParseWidth:"any"})};const A9=C9;var P9={code:"en-US",formatDistance:X8,formatLong:t9,formatRelative:n9,localize:f9,match:A9,options:{weekStartsOn:0,firstWeekContainsDate:1}};const gj=P9;var N9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j9=/^'([^]*?)'?$/,T9=/''/g,M9=/[a-zA-Z]/;function Ws(t,e,r){var n,o,i,a,c,u,s,l,d,f,h,p,g,b,m,v,y,x;Ct(2,arguments);var k=String(e),_=bs(),w=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:_.locale)!==null&&n!==void 0?n:gj,O=Je((i=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&a!==void 0?a:(d=_.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Je((h=(p=(g=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(m=r.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&g!==void 0?g:_.weekStartsOn)!==null&&p!==void 0?p:(y=_.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var S=zt(t);if(!S8(S))throw new RangeError("Invalid time value");var A=k8(S),T=C8(S,A),$={firstWeekContainsDate:O,weekStartsOn:C,locale:w,_originalDate:S},P=k.match(D9).map(function(E){var N=E[0];if(N==="p"||N==="P"){var D=U8[N];return D(E,w.formatLong)}return E}).join("").match(N9).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return F9(E);var D=L8[N];if(D)return!(r!=null&&r.useAdditionalWeekYearTokens)&&G8(E)&&yO(E,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&H8(E)&&yO(E,e,String(t)),D(T,E,w.localize,$);if(N.match(M9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return P}function F9(t){var e=t.match(j9);return e?e[1].replace(T9,"'"):t}function z9(t,e){var r,n;Ct(1,arguments);var o=zt(t);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((r=e==null?void 0:e.format)!==null&&r!==void 0?r:"extended"),a=String((n=e==null?void 0:e.representation)!==null&&n!==void 0?n:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",u="",s=i==="extended"?"-":"",l=i==="extended"?":":"";if(a!=="time"){var d=kt(o.getDate(),2),f=kt(o.getMonth()+1,2),h=kt(o.getFullYear(),4);c="".concat(h).concat(s).concat(f).concat(s).concat(d)}if(a!=="date"){var p=o.getTimezoneOffset();if(p!==0){var g=Math.abs(p),b=kt(Math.floor(g/60),2),m=kt(g%60,2),v=p<0?"+":"-";u="".concat(v).concat(b,":").concat(m)}else u="Z";var y=kt(o.getHours(),2),x=kt(o.getMinutes(),2),k=kt(o.getSeconds(),2),_=c===""?"":"T",w=[y,x,k].join(l);c="".concat(c).concat(_).concat(w).concat(u)}return c}function R9(t){Ct(1,arguments);var e=zt(t),r=e.getFullYear(),n=e.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function L9(t){return Ct(1,arguments),zt(t).getFullYear()}function I9(t,e){Ct(2,arguments);var r=zt(t),n=zt(e);return r.getTime()>n.getTime()}function B9(t,e){Ct(2,arguments);var r=zt(t),n=zt(e);return r.getTime()<n.getTime()}function U9(t,e){Ct(2,arguments);var r=zt(t),n=zt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function q9(t,e){var r;Ct(1,arguments);var n=Je((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=Y9(t),i;if(o.date){var a=V9(o.date,n);i=X9(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var c=i.getTime(),u=0,s;if(o.time&&(u=K9(o.time),isNaN(u)))return new Date(NaN);if(o.timezone){if(s=Q9(o.timezone),isNaN(s))return new Date(NaN)}else{var l=new Date(c+u),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(c+u+s)}var Nf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,H9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,G9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Y9(t){var e={},r=t.split(Nf.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Nf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var o=Nf.timezone.exec(n);o?(e.time=n.replace(o[1],""),e.timezone=o[1]):e.time=n}return e}function V9(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var o=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function X9(t,e){if(e===null)return new Date(NaN);var r=t.match(W9);if(!r)return new Date(NaN);var n=!!r[4],o=Hs(r[1]),i=Hs(r[2])-1,a=Hs(r[3]),c=Hs(r[4]),u=Hs(r[5])-1;if(n)return r7(e,c,u)?J9(e,c,u):new Date(NaN);var s=new Date(0);return!t7(e,i,a)||!e7(e,o)?new Date(NaN):(s.setUTCFullYear(e,i,Math.max(o,a)),s)}function Hs(t){return t?parseInt(t):1}function K9(t){var e=t.match(H9);if(!e)return NaN;var r=Wm(e[1]),n=Wm(e[2]),o=Wm(e[3]);return n7(r,n,o)?r*sj+n*uj+o*1e3:NaN}function Wm(t){return t&&parseFloat(t.replace(",","."))||0}function Q9(t){if(t==="Z")return 0;var e=t.match(G9);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return o7(n,o)?r*(n*sj+o*uj):NaN}function J9(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var o=n.getUTCDay()||7,i=(e-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+i),n}var Z9=[31,null,31,30,31,30,31,31,30,31,30,31];function bj(t){return t%400===0||t%4===0&&t%100!==0}function t7(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Z9[e]||(bj(t)?29:28))}function e7(t,e){return e>=1&&e<=(bj(t)?366:365)}function r7(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function n7(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function o7(t,e){return e>=0&&e<=59}function i7(t,e){Ct(2,arguments);var r=zt(t),n=Je(e),o=r.getFullYear(),i=r.getDate(),a=new Date(0);a.setFullYear(o,n,15),a.setHours(0,0,0,0);var c=R9(a);return r.setMonth(n,Math.min(i,c)),r}function a7(t,e){Ct(2,arguments);var r=zt(t),n=Je(e);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var xO=1/0,mj=9007199254740991,c7=17976931348623157e292,wO=0/0,u7="[object Function]",s7="[object GeneratorFunction]",l7="[object Symbol]",d7=/^\s+|\s+$/g,f7=/^[-+]0x[0-9a-f]+$/i,h7=/^0b[01]+$/i,p7=/^0o[0-7]+$/i,g7=/^(?:0|[1-9]\d*)$/,b7=parseInt,m7=Object.prototype,vj=m7.toString,v7=Math.ceil,y7=Math.max;function x7(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function w7(t,e){return e=e??mj,!!e&&(typeof t=="number"||g7.test(t))&&t>-1&&t%1==0&&t<e}function k7(t,e,r){if(!Kh(r))return!1;var n=typeof e;return(n=="number"?E7(r)&&w7(e,r.length):n=="string"&&e in r)?O7(r[e],t):!1}function _7(t,e,r){(r?k7(t,e,r):e===void 0)?e=1:e=y7(N7(e),0);var n=t?t.length:0;if(!n||e<1)return[];for(var o=0,i=0,a=Array(v7(n/e));o<n;)a[i++]=x7(t,o,o+=e);return a}function O7(t,e){return t===e||t!==t&&e!==e}function E7(t){return t!=null&&$7(t.length)&&!S7(t)}function S7(t){var e=Kh(t)?vj.call(t):"";return e==u7||e==s7}function $7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mj}function Kh(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function C7(t){return!!t&&typeof t=="object"}function A7(t){return typeof t=="symbol"||C7(t)&&vj.call(t)==l7}function P7(t){if(!t)return t===0?t:0;if(t=D7(t),t===xO||t===-xO){var e=t<0?-1:1;return e*c7}return t===t?t:0}function N7(t){var e=P7(t),r=e%1;return e===e?r?e-r:e:0}function D7(t){if(typeof t=="number")return t;if(A7(t))return wO;if(Kh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Kh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(d7,"");var r=h7.test(t);return r||p7.test(t)?b7(t.slice(2),r?2:8):f7.test(t)?wO:+t}var j7=_7;const T7=h8(j7);function nt(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var M7=`.utrecht-accordion__section{margin-block-end:var(--utrecht-accordion-section-margin-block-end);margin-block-start:var(--utrecht-accordion-section-margin-block-start)}.utrecht-accordion__button{--utrecht-button-focus-scale:1;--utrecht-button-hover-scale:1;--utrecht-button-inline-size:100%;--utrecht-button-subtle-background-color:var(--utrecht-accordion-button-background-color);--utrecht-button-subtle-padding-inline-start:var(--utrecht-accordion-button-padding-inline-start);--utrecht-button-subtle-padding-inline-end:var(--utrecht-accordion-button-padding-inline-end);--utrecht-button-subtle-padding-block-start:var(--utrecht-accordion-button-padding-block-start);--utrecht-button-subtle-padding-block-end:var(--utrecht-accordion-button-padding-block-end);--utrecht-button-subtle-color:var(--utrecht-accordion-button-color);--utrecht-button-subtle-hover-background-color:var(--utrecht-accordion-button-hover-background-color);--utrecht-button-subtle-hover-border-color:var(--utrecht-accordion-button-hover-border-color);--utrecht-button-subtle-hover-color:var(--utrecht-accordion-button-hover-color);--utrecht-button-subtle-active-background-color:var(--utrecht-accordion-button-active-background-color);--utrecht-button-subtle-active-border-color:var(--utrecht-accordion-button-active-border-color);--utrecht-button-subtle-active-color:var(--utrecht-accordion-button-active-color);--utrecht-button-subtle-focus-background-color:var(--utrecht-accordion-button-focus-background-color);--utrecht-button-subtle-focus-border-color:var(--utrecht-accordion-button-focus-border-color);--utrecht-button-subtle-focus-color:var(--utrecht-accordion-button-focus-color);--utrecht-button-subtle-border-color:var(--utrecht-accordion-button-border-color);--utrecht-button-subtle-border-width:var(--utrecht-accordion-button-border-width);justify-content:start!important;position:relative}.utrecht-accordion__button[aria-expanded]:after{background-color:var(--utrecht-accordion-button-icon-background-color);background-position:50%;background-repeat:no-repeat;block-size:var(--utrecht-accordion-button-icon-size);content:"";inline-size:var(--utrecht-accordion-button-icon-size);inset-block-start:0;inset-inline-end:0;position:absolute}.utrecht-accordion__button[aria-expanded=false]:after{background-image:var(--utrecht-accordion-icon-arrow-down,url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21.39' height='14.39'%3E%3Cpath fill='none' stroke='%231D1D1D' stroke-width='3' stroke-miterlimit='10' d='m15.866 4.135-5.32 5.322-5.322-5.322'/%3E%3C/svg%3E"))}.utrecht-accordion__button[aria-expanded=true]:after{background-image:var(--utrecht-accordion-icon-arrow-up,url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21.39' height='14.39'%3E%3Cpath fill='none' stroke='%231D1D1D' stroke-width='3' stroke-miterlimit='10' d='m5.223 9.457 5.32-5.322 5.322 5.322'/%3E%3C/svg%3E"));background-position:50%;background-repeat:no-repeat;content:""}.utrecht-accordion__panel{border-block-start:none;border-color:var(--utrecht-accordion-panel-border-color);border-style:solid;border-width:var(--utrecht-accordion-panel-border-width);padding-block-end:var(--utrecht-accordion-panel-padding-block-end);padding-block-start:var(--utrecht-accordion-panel-padding-block-start);padding-inline-end:var(--utrecht-accordion-panel-padding-inline-end);padding-inline-start:var(--utrecht-accordion-panel-padding-inline-start)}`;nt(M7);var F7=["appearance","busy","disabled","children","className","hint","pressed","type"];function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zd=U.forwardRef(function(t,e){var r=t.appearance,n=t.busy,o=t.disabled,i=t.children,a=t.className,c=t.hint,u=t.pressed,s=t.type,l=W(t,F7);return j("button",Qh(Qh({ref:e,className:q("utrecht-button",n&&"utrecht-button--busy",o&&"utrecht-button--disabled",s==="submit"&&"utrecht-button--submit",r==="primary-action-button"&&"utrecht-button--primary-action",r==="secondary-action-button"&&"utrecht-button--secondary-action",r==="subtle-button"&&"utrecht-button--subtle",c==="danger"&&"utrecht-button--danger",c==="warning"&&"utrecht-button--warning",c==="ready"&&"utrecht-button--ready",u===!0&&"utrecht-button--pressed",a),"aria-busy":n||void 0,"aria-pressed":typeof u=="boolean"?u:void 0,disabled:o,type:s||"button"},l),{},{children:i}))});zd.displayName="Button";var z7=function(e){var r=f8({},(v8(e),e));return j(zd,Qh(Qh({},r),{},{appearance:"primary-action-button"}))};z7.displayName="PrimaryActionButton";var R7=["appearance","className","level"];function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function OO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zg=U.forwardRef(function(t,e){var r=t.appearance,n=t.className,o=t.level,i=W(t,R7),a=["utrecht-heading-1","utrecht-heading-2","utrecht-heading-3","utrecht-heading-4","utrecht-heading-5","utrecht-heading-6"],c=o===2?"h2":o===3?"h3":o===4?"h4":o===5?"h5":o===6?"h6":"h1",u=r&&a.indexOf(r)!==-1?r:a[o-1]||"utrecht-heading-1";return j(c,OO(OO({className:q(u,n)},i),{},{ref:e}))});zg.displayName="Heading";var L7=["children","group","headingLevel","heading"];function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var I7=function(e){return e.length>=1?e[0]:void 0},B7=function(e){return e.length>=1?e[e.length-1]:void 0},U7=function(e,r){var n=r?e.indexOf(r):-1;return n>=0&&n+1<=e.length-1?e[n+1]:void 0},q7=function(e,r){var n=r?e.indexOf(r):-1;return n>=0&&n-1<=e.length-1?e[n-1]:void 0},yj=U.forwardRef(function(t,e){var r=t.id,n=t.label,o=t.headingLevel,i=o===void 0?1:o,a=t.expanded,c=a===void 0?!1:a,u=t.disabled,s=t.section,l=t.children,d=t.buttonRef,f=t.onActivate,h=t.onButtonBlur,p=t.onButtonFocus,g={className:q("utrecht-accordion__panel",{"utrecht-accordion__panel--expanded":c}),hidden:!c,"aria-hidden":!c},b="utrecht-accordion",m=r||U.useId(),v="".concat(b).concat(m,"-button"),y="".concat(b).concat(m,"-panel");return Ar("div",{className:q("utrecht-accordion__section"),id:r,ref:e,children:[j(zg,{level:i,className:q("utrecht-accordion__header"),children:j(zd,{className:q("utrecht-accordion__button"),appearance:"subtle-button","aria-expanded":c===!0,"aria-controls":y,disabled:u,id:v,onClick:function(){return typeof f=="function"&&f(e)},onFocus:function(){return typeof p=="function"&&p(e)},onBlur:function(){return typeof h=="function"&&h(e)},ref:d,children:n})}),s?j("section",io(io({id:y,"aria-labelledby":v},g),{},{children:l})):j("div",io(io({},g),{},{children:l}))]})});yj.displayName="AccordionSection";var xj=U.forwardRef(function(t,e){var r=t.children,n=t.group,o=t.headingLevel,i=t.heading,a=W(t,L7),c=U.useId();return Ar(d8,{children:[!!i&&typeof o=="number"&&j(zg,{level:o,children:i}),j("div",io(io({className:q("utrecht-accordion"),role:n?"group":void 0,"aria-labelledby":n?c:void 0},a),{},{ref:e,children:r}))]})});xj.displayName="Accordion";var W7=function(e,r){console.log("useAccordion");var n=e.map(function(i){return U.useRef(null)}),o=e.map(function(i){return U.useRef(null)});return{ref:r,refs:n,buttonRefs:o,activeElement:null,sections:e,focusNextSection:function(a){var c,u=n.indexOf(a),s=u>=0?o[u]:void 0,l=s?U7(o,s):void 0;l==null||(c=l.current)===null||c===void 0||c.focus()},focusFirstSection:function(){var a,c=I7(o);console.log(n),c==null||(a=c.current)===null||a===void 0||a.focus()},focusPreviousSection:function(a){var c,u=n.indexOf(a),s=u>=0?o[u]:void 0,l=s?q7(o,s):void 0;l==null||(c=l.current)===null||c===void 0||c.focus()},focusLastSection:function(){var a,c=B7(o);c==null||(a=c.current)===null||a===void 0||a.focus()}}},H7=function(e){var r=e.sections,n=U.useRef(null),o=W7(r,n),i=o.refs,a=o.buttonRefs,c=o.focusNextSection,u=o.focusFirstSection,s=o.focusLastSection,l=o.focusPreviousSection,d=U.useState(null),f=Yh(d,2),h=f[0],p=f[1],g=U.useState(r),b=Yh(g,2),m=b[0],v=b[1],y=function(w){p(w)},x=function(w){p(null)},k=function(w){if(w.code==="End")s();else if(w.code==="Home")u();else if(w.code==="ArrowDown")h&&c(h);else if(w.code==="ArrowUp")h&&l(h);else return;w.preventDefault()};return j(xj,{onKeyDown:k,ref:n,children:m.map(function(_,w){var O=function(S){var A=i.indexOf(S);v(m.map(function(T,$){return $===A?io(io({},T),{},{expanded:!T.expanded}):T}))};return U.createElement(yj,io(io({},_),{},{ref:i[w],buttonRef:a[w],key:w,onButtonFocus:y,onButtonBlur:x,onActivate:O}),_.body)})})};H7.displayName="AccordionProvider";var G7='.utrecht-alert{background-color:var(--_utrecht-alert-background-color,var(--utrecht-alert-background-color));border-color:var(--_utrecht-alert-border-color,var(--utrecht-alert-border-color));border-radius:var(--utrecht-alert-border-radius,0);border-style:solid;border-width:var(--_utrecht-alert-border-width,var(--utrecht-alert-border-width,0));color:var(--_utrecht-alert-color,var(--utrecht-alert-color));display:grid;gap:var(--utrecht-alert-icon-gap);grid-template-areas:"icon message";grid-template-columns:0fr 100fr;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-alert-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-alert-margin-block-start, 0));padding-block-end:var(--utrecht-alert-padding-block-end);padding-block-start:var(--utrecht-alert-padding-block-start);padding-inline-end:var(--utrecht-alert-padding-inline-end);padding-inline-start:var(--utrecht-alert-padding-inline-start)}.utrecht-alert__icon{--utrecht-icon-color:var(--_utrecht-alert-icon-color,var(--utrecht-alert-icon-color));grid-area:icon}.utrecht-alert__message{grid-area:message}.utrecht-alert--info{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-info-color);--_utrecht-alert-background-color:var(--utrecht-alert-info-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-info-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-info-border-width);--_utrecht-alert-color:var(--utrecht-alert-info-color)}.utrecht-alert--ok{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-ok-color);--_utrecht-alert-background-color:var(--utrecht-alert-ok-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-ok-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-ok-border-width);--_utrecht-alert-color:var(--utrecht-alert-ok-color)}.utrecht-alert--warning{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-warning-color);--_utrecht-alert-background-color:var(--utrecht-alert-warning-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-warning-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-warning-border-width);--_utrecht-alert-color:var(--utrecht-alert-warning-color)}.utrecht-alert--error{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-error-color);--_utrecht-alert-background-color:var(--utrecht-alert-error-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-error-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-error-border-width);--_utrecht-alert-color:var(--utrecht-alert-error-color)}';nt(G7);var Y7=["children","className","icon","type"];function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var V7=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.icon,i=t.type,a=W(t,Y7);return Ar("div",$O($O({},a),{},{ref:e,className:q("utrecht-alert",{"utrecht-alert--error":i==="error","utrecht-alert--info":i==="info","utrecht-alert--ok":i==="ok","utrecht-alert--warning":i==="warning"},n),children:[o&&j("div",{className:"utrecht-alert__icon",children:o}),j("div",{className:"utrecht-alert__message",children:r})]}))});V7.displayName="Alert";var X7='.utrecht-alert-dialog:not(dialog:not([open])){--utrecht-alert-dialog-margin-block-start:auto;--utrecht-alert-dialog-margin-block-end:auto;background-color:var(--_utrecht-alert-background-color,var(--utrecht-alert-background-color));border-color:var(--utrecht-alert-dialog-border-color);border-radius:var(--utrecht-alert-border-radius,0);border-radius:var(--utrecht-alert-dialog-border-radius,0);border-style:solid;border-width:var(--utrecht-alert-dialog-border-width,0);box-shadow:var(--utrecht-alert-dialog-box-shadow);color:var(--_utrecht-alert-color,var(--utrecht-alert-color));display:grid;gap:var(--utrecht-alert-icon-gap);grid-template-areas:"icon message";grid-template-columns:0fr 100fr;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-alert-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-alert-margin-block-start, 0));max-block-size:var(--utrecht-alert-dialog-max-block-size);max-inline-size:var(--utrecht-alert-dialog-max-inline-size);min-block-size:var(--utrecht-alert-dialog-min-block-size);min-inline-size:var(--utrecht-alert-dialog-min-inline-size);padding-block-end:var(--utrecht-alert-padding-block-end);padding-block-start:var(--utrecht-alert-padding-block-start);padding-inline-end:var(--utrecht-alert-padding-inline-end);padding-inline-start:var(--utrecht-alert-padding-inline-start)}.utrecht-alert-dialog::backdrop{--_utrecht-backdrop-opacity:var(--utrecht-backdrop-opacity);--_utrecht-backdrop-fade-in-animation-duration:var(--utrecht-backdrop-fade-in-animation-duration,0);animation-duration:min(var(--utrecht-motion-max-animation-duration,var(--_utrecht-backdrop-fade-in-animation-duration)),var(--_utrecht-backdrop-fade-in-animation-duration,0));animation-name:utrecht-backdrop-fade-in;animation-timing-function:ease-in-out;background-color:var(--utrecht-backdrop-background-color);color:var(--utrecht-backdrop-color);opacity:var(--_utrecht-backdrop-opacity);-webkit-user-select:none;user-select:none}@keyframes utrecht-backdrop-fade-in{0%{opacity:0}to{opacity:var(--_utrecht-backdrop-opacity)}}@media (prefers-reduced-motion:reduce){.utrecht-alert-dialog::backdrop{--_utrecht-backdrop-fade-in-animation-duration:0}}@media (prefers-reduced-transparency:reduce){.utrecht-alert-dialog::backdrop{--_utrecht-backdrop-opacity:var(--utrecht-backdrop-reduced-transparency-opacity,100%)}}.utrecht-alert-dialog__icon{--utrecht-icon-color:var(--_utrecht-alert-icon-color,var(--utrecht-alert-icon-color));grid-area:icon}.utrecht-alert-dialog__message{grid-area:message}.utrecht-alert-dialog--error{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-error-color);--_utrecht-alert-background-color:var(--utrecht-alert-error-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-error-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-error-border-width);--_utrecht-alert-color:var(--utrecht-alert-error-color)}.utrecht-alert-dialog--info{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-info-color);--_utrecht-alert-background-color:var(--utrecht-alert-info-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-info-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-info-border-width);--_utrecht-alert-color:var(--utrecht-alert-info-color)}.utrecht-alert-dialog--warning{--_utrecht-alert-icon-color:var(--utrecht-alert-icon-warning-color);--_utrecht-alert-background-color:var(--utrecht-alert-warning-background-color);--_utrecht-alert-border-color:var(--utrecht-alert-warning-border-color);--_utrecht-alert-border-width:var(--utrecht-alert-warning-border-width);--_utrecht-alert-color:var(--utrecht-alert-warning-color)}';nt(X7);var K7=["children","className","icon","type"];function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function AO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Q7=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.icon,i=t.type,a=W(t,K7);return Ar("dialog",AO(AO({},a),{},{ref:e,className:q("utrecht-alert-dialog",{"utrecht-alert-dialog--error":i==="error","utrecht-alert-dialog--info":i==="info","utrecht-alert-dialog--warning":i==="warning",className:n}),children:[o&&j("div",{className:"utrecht-alert-dialog__icon",children:o}),j("div",{className:"utrecht-alert-dialog__message",children:r})]}))});Q7.displayName="AlertDialog";var J7=".utrecht-index-char-nav{--utrecht-button-padding-inline-start:1ch;--utrecht-button-padding-inline-end:1ch;display:flex;flex-wrap:wrap;gap:var(--utrecht-index-char-nav-gap);margin-block-end:var(--utrecht-index-char-nav-margin-block-end);margin-block-start:var(--utrecht-index-char-nav-margin-block-start)}.utrecht-index-char-nav__link--current{--utrecht-button-primary-action-font-weight:var(--utrecht-index-char-nav-link-current-font-weight);--utrecht-button-link-primary-action-font-weight:var(--utrecht-index-char-nav-link-current-font-weight)}.utrecht-index-char-nav__link--disabled{pointer-events:none}";nt(J7);var Z7=["appearance","children","className","external","href","placeholder","role"];function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Df(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tB=function(e){var r;e.key===" "&&typeof((r=e.target)===null||r===void 0?void 0:r.click)=="function"&&(e.preventDefault(),e.target.click())},wj=U.forwardRef(function(t,e){var r=t.appearance,n=t.children,o=t.className,i=t.external,a=t.href,c=t.placeholder,u=t.role,s=W(t,Z7),l=s;return u==="button"&&(l=Df(Df({},s),{},{onKeyDown:tB})),j("a",Df(Df({href:c?void 0:a,ref:e,role:u||(c?"link":void 0),className:q("utrecht-button-link","utrecht-button-link--html-a",{"utrecht-button-link--external":i,"utrecht-button-link--primary-action":r==="primary-action-button","utrecht-button-link--secondary-action":r==="secondary-action-button","utrecht-button-link--subtle":r==="subtle-button","utrecht-button-link--placeholder":c},o),rel:i?"external noopener noreferrer":void 0,"aria-disabled":c?"true":void 0},l),{},{children:n}))});wj.displayName="ButtonLink";var eB=["component","currentChar","characters","onLinkClick","Link"];function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function jf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rB=U.forwardRef(function(t,e){var r=t.component,n=t.currentChar,o=t.characters,i=t.onLinkClick,a=t.Link,c=W(t,eB),u=a||wj,s=[];return r==="button"?s=o.map(function(l){var d=l.char,f=l.disabled,h=n===d;return U.createElement(zd,jf(jf({},c),{},{className:q({"utrecht-index-char-nav__link--current":h}),ref:e,key:d,appearance:h?"primary-action-button":"secondary-action-button",disabled:f,onClick:function(){return typeof i=="function"&&i(d)},pressed:h}),d)}):s=o.map(function(l){var d=l.char,f=l.disabled,h=l.href,p=n===d,g=q("utrecht-button-link","utrecht-button-link--html-a","utrecht-index-char-nav__link",{"utrecht-index-char-nav__link--current":p,"utrecht-button-link--primary-action":p,"utrecht-button-link--secondary-action":!p,"utrecht-index-char-nav__link--disabled":f,"utrecht-button-link--placeholder":f});return j(u,jf(jf({ref:e,appearance:a?void 0:p?"primary-action-button":"secondary-action-button",href:h,className:q(a&&g,"utrecht-index-char-nav__link",{"utrecht-index-char-nav__link--disabled":f,"utrecht-index-char-nav__link--current":p}),"aria-current":p?"page":void 0,"aria-disabled":f,placeholder:a?void 0:f,onClick:function(){return typeof i=="function"&&i(d)}},c),{},{children:d}),d)}),j("div",{className:"utrecht-index-char-nav",role:"group",children:s})});rB.displayName="IndexCharNav";var nB=".utrecht-article{max-inline-size:var(--utrecht-article-max-inline-size)}";nt(nB);var oB=["children","className"];function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var iB=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,oB);return j("article",jO(jO({},o),{},{ref:e,className:q("utrecht-article",n),children:r}))});iB.displayName="Article";var aB=".utrecht-backdrop{--_utrecht-backdrop-opacity:var(--utrecht-backdrop-opacity);--_utrecht-backdrop-fade-in-animation-duration:var(--utrecht-backdrop-fade-in-animation-duration,0);animation-duration:min(var(--utrecht-motion-max-animation-duration,var(--_utrecht-backdrop-fade-in-animation-duration)),var(--_utrecht-backdrop-fade-in-animation-duration,0));animation-name:utrecht-backdrop-fade-in;animation-timing-function:ease-in-out;background-color:var(--utrecht-backdrop-background-color);color:var(--utrecht-backdrop-color);display:block;inset-block-end:0;inset-block-start:0;inset-inline-end:0;inset-inline-start:0;opacity:var(--_utrecht-backdrop-opacity);position:absolute;-webkit-user-select:none;user-select:none;z-index:var(--utrecht-backdrop-z-index)}@keyframes utrecht-backdrop-fade-in{0%{opacity:0}to{opacity:var(--_utrecht-backdrop-opacity)}}@media (prefers-reduced-motion:reduce){.utrecht-backdrop{--_utrecht-backdrop-fade-in-animation-duration:0}}@media (prefers-reduced-transparency:reduce){.utrecht-backdrop{--_utrecht-backdrop-opacity:var(--utrecht-backdrop-reduced-transparency-opacity,100%)}}.utrecht-backdrop--reduced-motion{--_utrecht-backdrop-fade-in-animation-duration:0}.utrecht-backdrop--reduced-transparency{--_utrecht-backdrop-opacity:var(--utrecht-backdrop-reduced-transparency-opacity,100%)}.utrecht-backdrop--viewport{position:fixed}";nt(aB);var cB=["children","className"];function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uB=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,cB);return j("div",MO(MO({},o),{},{ref:e,className:q("utrecht-backdrop",n),children:r}))});uB.displayName="Backdrop";var sB=".utrecht-badge-counter{background-color:var(--utrecht-badge-counter-background-color,var(--utrecht-badge-background-color,#000));border-radius:var(--utrecht-badge-counter-border-radius,var(--utrecht-badge-border-radius,.5ch));color:var(--utrecht-badge-counter-color,var(--utrecht-badge-color,#fff));display:inline-block;font-family:var(--utrecht-document-font-family,sans-serif);font-size:var(--utrecht-badge-counter-font-size);font-style:var(--utrecht-badge-counter-font-style,normal);font-weight:var(--utrecht-badge-counter-font-weight,var(--utrecht-badge-font-weight,bold));line-height:1;max-block-size:max-content;max-inline-size:max-content;min-block-size:var(--utrecht-badge-counter-min-size,1em);min-inline-size:var(--utrecht-badge-counter-min-size,1em);padding-block-end:var(--utrecht-badge-counter-padding-block,var(--utrecht-badge-padding-block,.5ex));padding-block-start:var(--utrecht-badge-counter-padding-block,var(--utrecht-badge-padding-block,.5ex));padding-inline-end:var(--utrecht-badge-counter-padding-inline,var(--utrecht-badge-padding-inline,.5ch));padding-inline-start:var(--utrecht-badge-counter-padding-inline,var(--utrecht-badge-padding-inline,.5ch));text-align:center;text-decoration:none;white-space:nowrap}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-badge-counter{border:1px solid}}";nt(sB);var lB=["children","className","value"];function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dB=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.value,i=W(t,lB),a=Gs({children:r,className:q("utrecht-badge-counter",n)},i);return typeof o<"u"?j("data",Gs(Gs({},a),{},{value:o,ref:e})):j("span",Gs(Gs({},a),{},{ref:e}))});dB.displayName="BadgeCounter";var fB=".utrecht-badge-list{display:flex;flex-wrap:wrap;gap:var(--utrecht-badge-list-item-margin-block) var(--utrecht-badge-list-item-margin-inline)}";nt(fB);var hB=["children","className"];function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function RO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pB=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,hB);return j("div",RO(RO({},o),{},{ref:e,className:q("utrecht-badge-list",n),children:r}))});pB.displayName="BadgeList";var gB='.utrecht-breadcrumb{--utrecht-focus-background-color:var(--utrecht-breadcrumb-link-focus-background-color);--utrecht-link-background-color:var(--utrecht-breadcrumb-link-background-color);--utrecht-link-focus-color:var(--utrecht-breadcrumb-link-focus-color,var(--utrecht-breadcrumb-link-color));--utrecht-link-focus-text-decoration:var(--utrecht-link-text-decoration);--utrecht-link-hover-color:var(--utrecht-breadcrumb-link-color);--utrecht-link-hover-text-decoration:var(--utrecht-link-text-decoration);--utrecht-link-visited-color:var(--utrecht-breadcrumb-link-color);--utrecht-link-visited-text-decoration:var(--utrecht-link-text-decoration);--utrecht-link-color:var(--utrecht-breadcrumb-link-color);--utrecht-link-placeholder-color:var(--utrecht-link-breadcrumb-link-disabled-color);font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-breadcrumb-font-size);text-transform:var(--utrecht-document-text-transform,inherit)}.utrecht-breadcrumb__heading{display:none}.utrecht-breadcrumb__list{display:flex;flex-wrap:wrap;min-block-size:var(--utrecht-breadcrumb-min-block-size)}.utrecht-breadcrumb__list--html-ol{list-style:none;padding-inline-start:0}.utrecht-breadcrumb__list--html-ol,.utrecht-breadcrumb__list--html-p{margin-block-end:0;margin-block-start:0}.utrecht-breadcrumb__item{block-size:100%}.utrecht-breadcrumb__link{--utrecht-icon-size:var(--utrecht-breadcrumb-link-icon-size);--utrecht-link-icon-size:var(--utrecht-breadcrumb-link-icon-size);background-color:var(--utrecht-breadcrumb-link-background-color);display:inline-block;padding-block-end:var(--utrecht-breadcrumb-item-padding-block-end,8px);padding-block-start:var(--utrecht-breadcrumb-item-padding-block-start,8px);padding-inline-end:var(--utrecht-breadcrumb-item-padding-inline-end,8px);padding-inline-start:var(--utrecht-breadcrumb-item-padding-inline-start,8px)}.utrecht-breadcrumb__link--disabled{--utrecht-link-placeholder-color:var(--utrecht-breadcrumb-link-disabled-color,var(--utrecht-breadcrumb-link-color));background-color:var(--utrecht-breadcrumb-link-disabled-background-color,var(--utrecht-breadcrumb-link-background-color));color:var(--utrecht-link-placeholder-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-breadcrumb__link--current:any-link{cursor:var(--utrecht-action-inert-cursor,default)}.utrecht-breadcrumb__separator,.utrecht-breadcrumb__separator--html-li{--_utrecht-breadcrumb-separator-display:inline-flex;--utrecht-icon-size:var(--utrecht-breadcrumb-separator-icon-size);--utrecht-icon-color:var(--utrecht-breadcrumb-separator-icon-color);align-items:center;display:var(--_utrecht-breadcrumb-separator-display);inline-size:fit-content}.utrecht-breadcrumb--arrows{--utrecht-breadcrumb-arrow-size:24px;min-block-size:var(--utrecht-breadcrumb-min-block-size);overflow:hidden}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link{background-color:var(--utrecht-breadcrumb-arrows-link-background-color);padding-inline-end:0;position:relative}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:after,.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:before{block-size:0;border-block-end-width:var(--utrecht-breadcrumb-min-block-size);border-block-start-width:var(--utrecht-breadcrumb-min-block-size);border-color:transparent;border-style:solid;content:" ";display:block;inline-size:0;inset-block-start:50%;inset-inline-start:100%;margin-block-start:calc(var(--utrecht-breadcrumb-min-block-size)*-1);position:absolute}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:after{border-inline-start-color:var(--utrecht-breadcrumb-arrows-link-background-color);border-inline-start-width:var(--utrecht-breadcrumb-arrow-size);z-index:2}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:before{border-inline-start-color:var(--utrecht-document-background-color);border-inline-start-width:var(--utrecht-breadcrumb-arrow-size);margin-block-start:calc(var(--utrecht-breadcrumb-min-block-size)*-1);margin-inline-start:1px;z-index:1}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link--focus,.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:focus{--utrecht-link-focus-background-color:var(--utrecht-breadcrumb-arrows-link-focus-background-color);background-color:var(--utrecht-breadcrumb-arrows-link-focus-background-color)}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link--focus:after,.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link:focus:after{border-inline-start-color:var(--utrecht-breadcrumb-arrows-link-focus-background-color)}.utrecht-breadcrumb--arrows .utrecht-breadcrumb__item~.utrecht-breadcrumb__item .utrecht-breadcrumb__link,.utrecht-breadcrumb--arrows .utrecht-breadcrumb__link~.utrecht-breadcrumb__link{padding-inline-start:calc(var(--utrecht-breadcrumb-item-padding-inline-start) + var(--utrecht-breadcrumb-arrow-size))}.utrecht-breadcrumb__item~.utrecht-breadcrumb__item{margin-inline-start:var(--utrecht-breadcrumb-item-divider-inline-size)}';nt(gB);var bB=["boxContent","children","className","external","href","placeholder","role"];function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function IO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var kj=U.forwardRef(function(t,e){var r=t.boxContent,n=t.children,o=t.className,i=t.external,a=t.href,c=t.placeholder,u=t.role,s=W(t,bB);return j("a",IO(IO({href:c?void 0:a,ref:e,role:u||(c?"link":void 0),className:q("utrecht-link","utrecht-link--html-a",{"utrecht-link--box-content":r,"utrecht-link--external":i,"utrecht-link--placeholder":c},o),"aria-disabled":c?"true":void 0,rel:i?"external noopener noreferrer":void 0},s),{},{children:n}))});kj.displayName="Link";var mB=["appearance","children","className","headingLevel","label"],vB=["className","children"],yB=["className","children"],xB=["children","disabled","current","href","index","rel","role","Link","className"];function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _j=function(e){var r=e.prop,n=e.type;return{itemScope:!0,itemType:n,itemProp:r}},Hm=function(e){return{itemProp:e}},wB=U.forwardRef(function(t,e){var r=t.appearance,n=t.children,o=t.className,i=t.headingLevel,a=i===void 0?2:i,c=t.label,u=W(t,mB),s=c?U.useId():void 0;return Ar("nav",qe(qe({},u),{},{ref:e,className:q("utrecht-breadcrumb","utrecht-breadcrumb--html-ol",{"utrecht-breadcrumb--arrows":r==="arrows"},o),"aria-labelledby":s,children:[c&&j(zg,{id:s,className:"utrecht-breadcrumb__heading",level:a,"aria-hidden":"true",children:c}),j("ol",qe(qe({className:"utrecht-breadcrumb__list utrecht-breadcrumb__list--html-ol"},_j({type:"https://schema.org/BreadcrumbList"})),{},{children:n}))]}))});wB.displayName="BreadcrumbNav";var Oj=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=W(t,vB);return j("li",qe(qe(qe({className:q("utrecht-breadcrumb__item",r)},_j({type:"https://schema.org/ListItem",prop:"itemListElement"})),{},{ref:e},o),{},{children:n}))});Oj.displayName="BreadcrumbItem";var kB=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=W(t,yB);return j("li",qe(qe({"aria-hidden":"true",hidden:!0,style:{display:"var(--_utrecht-breadcrumb-separator-display, block)"},className:q("utrecht-breadcrumb__separator","utrecht-breadcrumb__separator--html-li",r),ref:e},o),{},{children:n}))});kB.displayName="BreadcrumbSeparator";var _B=U.forwardRef(function(t,e){var r=t.children,n=t.disabled,o=t.current,i=t.href,a=t.index,c=t.rel,u=t.role,s=t.Link,l=s===void 0?kj:s,d=t.className,f=W(t,xB),h=l,p=l||h;return j(Oj,{children:Ar(p,qe(qe(qe({className:q("utrecht-breadcrumb__link",d,{"utrecht-breadcrumb__link--current":o,"utrecht-breadcrumb__link--disabled":n}),href:n?void 0:i,rel:c,role:u||(n?"link":void 0),"aria-current":o&&"page","aria-disabled":n?"true":void 0},Hm("item")),f),{},{ref:e,children:[j("span",qe(qe({className:"utrecht-breadcrumb__text"},Hm("name")),{},{children:r})),typeof a=="number"?j("meta",qe(qe({},Hm("position")),{},{content:String(a+1)})):null]}))})});_B.displayName="BreadcrumbLink";var OB=`.utrecht-button{--_utrecht-button-background-color:var(
    --_utrecht-button-hint-background-color,var(--_utrecht-button-appearance-background-color,var(--utrecht-button-background-color))
  );--_utrecht-button-color:var(
    --_utrecht-button-hint-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-color))
  );--_utrecht-button-border-color:var(
    --_utrecht-button-hint-border-color,var(--_utrecht-button-appearance-border-color,var(--utrecht-button-border-color,transparent))
  );--_utrecht-button-border-bottom-color:var(
    --_utrecht-button-hint-border-bottom-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-border-bottom-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-border-bottom-color,var(--utrecht-button-border-color,transparent))
        )
      )
    )
  );--_utrecht-button-disabled-background-color:var(
    --_utrecht-button-hint-disabled-background-color,var(
      --_utrecht-button-appearance-disabled-background-color,var(--utrecht-button-disabled-background-color,var(--utrecht-button-background-color))
    )
  );--_utrecht-button-disabled-border-color:var(
    --_utrecht-button-hint-disabled-border-color,var(
      --_utrecht-button-appearance-disabled-border-color,var(--utrecht-button-disabled-border-color,var(--utrecht-button-border-color))
    )
  );--_utrecht-button-disabled-color:var(
    --_utrecht-button-hint-disabled-color,var(--_utrecht-button-appearance-disabled-color,var(--utrecht-button-disabled-color,var(--utrecht-button-color)))
  );--_utrecht-button-pressed-background-color:var(
    --_utrecht-button-hint-pressed-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-pressed-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-pressed-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-pressed-border-color:var(
    --_utrecht-button-hint-pressed-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-pressed-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-pressed-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-pressed-color:var(
    --_utrecht-button-hint-pressed-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-pressed-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-pressed-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-focus-background-color:var(
    --_utrecht-button-hint-focus-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-focus-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-focus-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-focus-border-color:var(
    --_utrecht-button-hint-focus-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-focus-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-focus-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-focus-color:var(
    --_utrecht-button-hint-focus-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-focus-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-focus-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-hover-background-color:var(
    --_utrecht-button-hint-hover-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-hover-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-hover-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-hover-border-color:var(
    --_utrecht-button-hint-hover-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-hover-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-hover-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-hover-color:var(
    --_utrecht-button-hint-hover-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-hover-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-hover-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-active-background-color:var(
    --_utrecht-button-hint-active-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-active-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-active-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-active-border-color:var(
    --_utrecht-button-hint-active-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-active-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-active-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-active-color:var(
    --_utrecht-button-hint-active-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-active-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-active-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-border-width:var(--_utrecht-button-appearance-border-width,var(--utrecht-button-border-width,0));--_utrecht-button-border-block-end-width:var(
    --utrecht-button-border-bottom-width,var(--_utrecht-button-border-width,0)
  );--utrecht-icon-size:var(--utrecht-button-icon-size,1em);align-items:center;background-color:var(--_utrecht-button-background-color);border-block-end-color:var(--_utrecht-button-border-bottom-color);border-block-end-width:var(--_utrecht-button-border-block-end-width);border-color:var(--_utrecht-button-border-color);border-radius:var(--utrecht-button-border-radius);border-style:solid;border-width:var(--_utrecht-button-border-width);box-sizing:border-box;color:var(--_utrecht-button-color);cursor:var(--utrecht-action-activate-cursor,revert);display:inline-flex;font-family:var(--utrecht-button-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-button-font-size,var(--utrecht-document-font-family,inherit));font-weight:var(--_utrecht-button-appearance-font-weight,var(--utrecht-button-font-weight));gap:var(--utrecht-button-icon-gap);inline-size:var(--utrecht-button-inline-size,auto);justify-content:center;line-height:var(--utrecht-button-line-height);min-block-size:var(--utrecht-button-min-block-size,44px);min-inline-size:var(--utrecht-button-min-inline-size,44px);padding-block-end:var(--utrecht-button-padding-block-end);padding-block-start:var(--utrecht-button-padding-block-start);padding-inline-end:var(--utrecht-button-padding-inline-end);padding-inline-start:var(--utrecht-button-padding-inline-start);text-transform:var(--utrecht-button-text-transform);-webkit-user-select:none;user-select:none}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-button{--_utrecht-button-disabled-border-color:GrayText;--_utrecht-button-disabled-color:GrayText;background-color:ButtonFace;border-color:buttonborder;color:ButtonText}}.utrecht-button--distanced{margin-block-end:var(--utrecht-button-margin-block-end);margin-block-start:var(--utrecht-button-margin-block-start);margin-inline-end:var(--utrecht-button-margin-inline-end);margin-inline-start:var(--utrecht-button-margin-inline-start)}.utrecht-button--submit{cursor:var(--utrecht-action-submit-cursor,revert)}.utrecht-button--busy{cursor:var(--utrecht-action-busy-cursor,wait)}.utrecht-button--pressed{background-color:var(--_utrecht-button-pressed-background-color);border-color:var(--_utrecht-button-pressed-border-color);color:var(--_utrecht-button-pressed-color)}.utrecht-button--disabled,.utrecht-button:disabled{background-color:var(--_utrecht-button-disabled-background-color);border-color:var(--_utrecht-button-disabled-border-color);color:var(--_utrecht-button-disabled-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-button--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-button--focus:not(.utrecht-button--disabled){background-color:var(--_utrecht-button-focus-background-color);border-color:var(--_utrecht-button-focus-border-color);color:var(--_utrecht-button-focus-color);scale:var(--utrecht-button-focus-scale,1)}.utrecht-button:focus,.utrecht-button:focus:not(:disabled,[aria-disabled=true],.utrecht-button--disabled){--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-button:focus:not(:disabled,[aria-disabled=true],.utrecht-button--disabled){background-color:var(--_utrecht-button-focus-background-color);border-color:var(--_utrecht-button-focus-border-color);color:var(--_utrecht-button-focus-color);scale:var(--utrecht-button-focus-scale,1)}.utrecht-button:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-button--hover:not(:disabled,.utrecht-button--disabled),.utrecht-button:hover:not(:disabled,[aria-disabled=true],.utrecht-button--disabled){background-color:var(--_utrecht-button-hover-background-color);border-color:var(--_utrecht-button-hover-border-color);color:var(--_utrecht-button-hover-color);scale:var(--utrecht-button-hover-scale,1)}.utrecht-button--active,.utrecht-button:active:not(:disabled,[aria-disabled=true],.utrecht-button--disabled){background-color:var(--_utrecht-button-active-background-color);border-color:var(--_utrecht-button-active-border-color);color:var(--_utrecht-button-active-color)}.utrecht-button--primary-action{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-primary-action-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-primary-action-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-primary-action-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-primary-action-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-primary-action-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-primary-action-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-primary-action-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-primary-action-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-primary-action-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-primary-action-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-primary-action-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-primary-action-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-primary-action-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-primary-action-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-primary-action-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-primary-action-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-primary-action-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-primary-action-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-primary-action-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-primary-action-pressed-color)}.utrecht-button--secondary-action{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-secondary-action-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-secondary-action-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-secondary-action-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-secondary-action-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-secondary-action-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-secondary-action-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-secondary-action-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-secondary-action-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-secondary-action-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-secondary-action-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-secondary-action-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-secondary-action-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-secondary-action-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-secondary-action-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-secondary-action-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-secondary-action-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-secondary-action-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-secondary-action-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-secondary-action-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-secondary-action-pressed-color)}.utrecht-button--subtle{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-subtle-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-subtle-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-subtle-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-subtle-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-subtle-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-subtle-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-subtle-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-subtle-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-subtle-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-subtle-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-subtle-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-subtle-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-subtle-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-subtle-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-subtle-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-subtle-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-subtle-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-subtle-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-subtle-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-subtle-pressed-color)}.utrecht-button--primary-action.utrecht-button--danger{--_utrecht-button-hint-active-background-color:var(--utrecht-button-primary-action-danger-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-primary-action-danger-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-primary-action-danger-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-primary-action-danger-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-primary-action-danger-border-color);--_utrecht-button-hint-color:var(--utrecht-button-primary-action-danger-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-primary-action-danger-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-primary-action-danger-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-primary-action-danger-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-primary-action-danger-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-primary-action-danger-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-primary-action-danger-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-primary-action-danger-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-primary-action-danger-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-primary-action-danger-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-primary-action-danger-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-primary-action-danger-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-primary-action-danger-pressed-color)}.utrecht-button--primary-action.utrecht-button--ready{--_utrecht-button-hint-active-background-color:var(--utrecht-button-primary-action-ready-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-primary-action-ready-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-primary-action-ready-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-primary-action-ready-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-primary-action-ready-border-color);--_utrecht-button-hint-color:var(--utrecht-button-primary-action-ready-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-primary-action-ready-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-primary-action-ready-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-primary-action-ready-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-primary-action-ready-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-primary-action-ready-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-primary-action-ready-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-primary-action-ready-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-primary-action-ready-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-primary-action-ready-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-primary-action-ready-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-primary-action-ready-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-primary-action-ready-pressed-color)}.utrecht-button--primary-action.utrecht-button--warning{--_utrecht-button-hint-active-background-color:var(--utrecht-button-primary-action-warning-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-primary-action-warning-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-primary-action-warning-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-primary-action-warning-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-primary-action-warning-border-color);--_utrecht-button-hint-color:var(--utrecht-button-primary-action-warning-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-primary-action-warning-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-primary-action-warning-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-primary-action-warning-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-primary-action-warning-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-primary-action-warning-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-primary-action-warning-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-primary-action-warning-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-primary-action-warning-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-primary-action-warning-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-primary-action-warning-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-primary-action-warning-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-primary-action-warning-pressed-color)}.utrecht-button--secondary-action.utrecht-button--danger{--_utrecht-button-hint-active-background-color:var(--utrecht-button-secondary-action-danger-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-secondary-action-danger-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-secondary-action-danger-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-secondary-action-danger-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-secondary-action-danger-border-color);--_utrecht-button-hint-color:var(--utrecht-button-secondary-action-danger-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-secondary-action-danger-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-secondary-action-danger-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-secondary-action-danger-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-secondary-action-danger-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-secondary-action-danger-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-secondary-action-danger-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-secondary-action-danger-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-secondary-action-danger-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-secondary-action-danger-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-secondary-action-danger-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-secondary-action-danger-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-secondary-action-danger-pressed-color)}.utrecht-button--secondary-action.utrecht-button--ready{--_utrecht-button-hint-active-background-color:var(--utrecht-button-secondary-action-ready-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-secondary-action-ready-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-secondary-action-ready-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-secondary-action-ready-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-secondary-action-ready-border-color);--_utrecht-button-hint-color:var(--utrecht-button-secondary-action-ready-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-secondary-action-ready-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-secondary-action-ready-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-secondary-action-ready-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-secondary-action-ready-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-secondary-action-ready-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-secondary-action-ready-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-secondary-action-ready-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-secondary-action-ready-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-secondary-action-ready-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-secondary-action-ready-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-secondary-action-ready-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-secondary-action-ready-pressed-color)}.utrecht-button--secondary-action.utrecht-button--warning{--_utrecht-button-hint-active-background-color:var(--utrecht-button-secondary-action-warning-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-secondary-action-warning-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-secondary-action-warning-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-secondary-action-warning-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-secondary-action-warning-border-color);--_utrecht-button-hint-color:var(--utrecht-button-secondary-action-warning-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-secondary-action-warning-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-secondary-action-warning-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-secondary-action-warning-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-secondary-action-warning-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-secondary-action-warning-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-secondary-action-warning-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-secondary-action-warning-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-secondary-action-warning-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-secondary-action-warning-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-secondary-action-warning-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-secondary-action-warning-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-secondary-action-warning-pressed-color)}.utrecht-button--subtle.utrecht-button--danger{--_utrecht-button-hint-active-background-color:var(--utrecht-button-subtle-danger-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-subtle-danger-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-subtle-danger-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-subtle-danger-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-subtle-danger-border-color);--_utrecht-button-hint-color:var(--utrecht-button-subtle-danger-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-subtle-danger-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-subtle-danger-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-subtle-danger-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-subtle-danger-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-subtle-danger-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-subtle-danger-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-subtle-danger-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-subtle-danger-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-subtle-danger-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-subtle-danger-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-subtle-danger-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-subtle-danger-pressed-color)}.utrecht-button--subtle.utrecht-button--ready{--_utrecht-button-hint-active-background-color:var(--utrecht-button-subtle-ready-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-subtle-ready-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-subtle-ready-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-subtle-ready-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-subtle-ready-border-color);--_utrecht-button-hint-color:var(--utrecht-button-subtle-ready-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-subtle-ready-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-subtle-ready-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-subtle-ready-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-subtle-ready-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-subtle-ready-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-subtle-ready-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-subtle-ready-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-subtle-ready-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-subtle-ready-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-subtle-ready-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-subtle-ready-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-subtle-ready-pressed-color)}.utrecht-button--subtle.utrecht-button--warning{--_utrecht-button-hint-active-background-color:var(--utrecht-button-subtle-warning-active-background-color);--_utrecht-button-hint-active-border-color:var(--utrecht-button-subtle-warning-active-border-color);--_utrecht-button-hint-active-color:var(--utrecht-button-subtle-warning-active-color);--_utrecht-button-hint-background-color:var(--utrecht-button-subtle-warning-background-color);--_utrecht-button-hint-border-color:var(--utrecht-button-subtle-warning-border-color);--_utrecht-button-hint-color:var(--utrecht-button-subtle-warning-color);--_utrecht-button-hint-disabled-background-color:var(
    --utrecht-button-subtle-warning-disabled-background-color
  );--_utrecht-button-hint-disabled-border-color:var(--utrecht-button-subtle-warning-disabled-border-color);--_utrecht-button-hint-disabled-color:var(--utrecht-button-subtle-warning-disabled-color);--_utrecht-button-hint-focus-background-color:var(--utrecht-button-subtle-warning-focus-background-color);--_utrecht-button-hint-focus-border-color:var(--utrecht-button-subtle-warning-focus-border-color);--_utrecht-button-hint-focus-color:var(--utrecht-button-subtle-warning-focus-color);--_utrecht-button-hint-hover-background-color:var(--utrecht-button-subtle-warning-hover-background-color);--_utrecht-button-hint-hover-border-color:var(--utrecht-button-subtle-warning-hover-border-color);--_utrecht-button-hint-hover-color:var(--utrecht-button-subtle-warning-hover-color);--_utrecht-button-hint-pressed-background-color:var(
    --utrecht-button-subtle-warning-pressed-background-color
  );--_utrecht-button-hint-pressed-border-color:var(--utrecht-button-subtle-warning-pressed-border-color);--_utrecht-button-hint-pressed-color:var(--utrecht-button-subtle-warning-pressed-color)}`;nt(OB);var EB=".utrecht-button-group,.utrecht-button-group--distanced{background-color:var(--utrecht-button-group-background-color);display:flex;flex-wrap:wrap;gap:var(--utrecht-button-group-inline-gap,1em);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-button-group-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-button-group-margin-block-start, 0));min-block-size:var(--utrecht-button-block-size);padding-block-end:var(--utrecht-button-group-padding-block-end);padding-block-start:var(--utrecht-button-group-padding-block-start)}.utrecht-button-group--horizontal .utrecht-link-button,.utrecht-button-group:not(.utrecht-button-group--vertical) .utrecht-link-button,.utrecht-button-group__link-button--horizontal{--utrecht-button-padding-inline-end:0;--utrecht-button-padding-inline-start:0}.utrecht-button-group--vertical{flex-direction:column;gap:var(--utrecht-button-group-block-gap,1em)}";nt(EB);var SB=["children","className"];function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function qO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $B=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,SB);return j("p",qO(qO({},o),{},{ref:e,className:q("utrecht-button-group",n),children:r}))});$B.displayName="ButtonGroup";var CB=`.utrecht-button-link{--_utrecht-button-background-color:var(
    --_utrecht-button-hint-background-color,var(--_utrecht-button-appearance-background-color,var(--utrecht-button-background-color))
  );--_utrecht-button-color:var(
    --_utrecht-button-hint-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-color))
  );--_utrecht-button-border-color:var(
    --_utrecht-button-hint-border-color,var(--_utrecht-button-appearance-border-color,var(--utrecht-button-border-color,transparent))
  );--_utrecht-button-border-bottom-color:var(
    --_utrecht-button-hint-border-bottom-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-border-bottom-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-border-bottom-color,var(--utrecht-button-border-color,transparent))
        )
      )
    )
  );--_utrecht-button-disabled-background-color:var(
    --_utrecht-button-hint-disabled-background-color,var(
      --_utrecht-button-appearance-disabled-background-color,var(--utrecht-button-disabled-background-color,var(--utrecht-button-background-color))
    )
  );--_utrecht-button-disabled-border-color:var(
    --_utrecht-button-hint-disabled-border-color,var(
      --_utrecht-button-appearance-disabled-border-color,var(--utrecht-button-disabled-border-color,var(--utrecht-button-border-color))
    )
  );--_utrecht-button-disabled-color:var(
    --_utrecht-button-hint-disabled-color,var(--_utrecht-button-appearance-disabled-color,var(--utrecht-button-disabled-color,var(--utrecht-button-color)))
  );--_utrecht-button-pressed-background-color:var(
    --_utrecht-button-hint-pressed-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-pressed-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-pressed-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-pressed-border-color:var(
    --_utrecht-button-hint-pressed-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-pressed-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-pressed-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-pressed-color:var(
    --_utrecht-button-hint-pressed-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-pressed-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-pressed-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-focus-background-color:var(
    --_utrecht-button-hint-focus-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-focus-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-focus-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-focus-border-color:var(
    --_utrecht-button-hint-focus-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-focus-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-focus-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-focus-color:var(
    --_utrecht-button-hint-focus-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-focus-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-focus-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-hover-background-color:var(
    --_utrecht-button-hint-hover-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-hover-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-hover-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-hover-border-color:var(
    --_utrecht-button-hint-hover-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-hover-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-hover-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-hover-color:var(
    --_utrecht-button-hint-hover-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-hover-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-hover-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-active-background-color:var(
    --_utrecht-button-hint-active-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-active-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-active-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-active-border-color:var(
    --_utrecht-button-hint-active-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-active-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-active-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-active-color:var(
    --_utrecht-button-hint-active-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-active-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-active-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-border-width:var(--_utrecht-button-appearance-border-width,var(--utrecht-button-border-width,0));--_utrecht-button-border-block-end-width:var(
    --utrecht-button-border-bottom-width,var(--_utrecht-button-border-width,0)
  );--utrecht-icon-size:var(--utrecht-button-icon-size,1em);align-items:center;background-color:var(--_utrecht-button-background-color);border-block-end-color:var(--_utrecht-button-border-bottom-color);border-block-end-width:var(--_utrecht-button-border-block-end-width);border-color:var(--_utrecht-button-border-color);border-radius:var(--utrecht-button-border-radius);border-style:solid;border-width:var(--_utrecht-button-border-width);box-sizing:border-box;color:var(--_utrecht-button-color);cursor:var(--utrecht-action-activate-cursor,revert);cursor:var(--utrecht-action-navigate-cursor,pointer);display:inline-flex;font-family:var(--utrecht-button-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-button-font-size,var(--utrecht-document-font-family,inherit));font-weight:var(--_utrecht-button-appearance-font-weight,var(--utrecht-button-font-weight));gap:var(--utrecht-button-icon-gap);inline-size:var(--utrecht-button-inline-size,auto);justify-content:center;line-height:var(--utrecht-button-line-height);min-block-size:var(--utrecht-button-min-block-size,44px);min-inline-size:var(--utrecht-button-min-inline-size,44px);padding-block-end:var(--utrecht-button-padding-block-end);padding-block-start:var(--utrecht-button-padding-block-start);padding-inline-end:var(--utrecht-button-padding-inline-end);padding-inline-start:var(--utrecht-button-padding-inline-start);text-decoration:none;text-transform:var(--utrecht-button-text-transform);-webkit-user-select:none;user-select:none}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-button-link{--_utrecht-button-disabled-border-color:GrayText;--_utrecht-button-disabled-color:GrayText;background-color:ButtonFace;border-color:buttonborder;color:ButtonText}}.utrecht-button-link--active{background-color:var(--_utrecht-button-active-background-color);border-color:var(--_utrecht-button-active-border-color);color:var(--_utrecht-button-active-color)}.utrecht-button-link--hover{background-color:var(--_utrecht-button-hover-background-color);border-color:var(--_utrecht-button-hover-border-color);color:var(--_utrecht-button-hover-color);scale:var(--utrecht-button-hover-scale,1)}.utrecht-button-link--focus{background-color:var(--_utrecht-button-focus-background-color);border-color:var(--_utrecht-button-focus-border-color);color:var(--_utrecht-button-focus-color);scale:var(--utrecht-button-focus-scale,1)}.utrecht-button-link--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-button-link--placeholder{background-color:var(--_utrecht-button-disabled-background-color);border-color:var(--_utrecht-button-disabled-border-color);color:var(--_utrecht-button-disabled-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-button-link--html-a:focus{background-color:var(--_utrecht-button-focus-background-color);border-color:var(--_utrecht-button-focus-border-color);color:var(--_utrecht-button-focus-color);scale:var(--utrecht-button-focus-scale,1)}.utrecht-button-link--html-a:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-button-link--html-a:hover{background-color:var(--_utrecht-button-hover-background-color);border-color:var(--_utrecht-button-hover-border-color);color:var(--_utrecht-button-hover-color);scale:var(--utrecht-button-hover-scale,1)}.utrecht-button-link--html-a:active{background-color:var(--_utrecht-button-active-background-color);border-color:var(--_utrecht-button-active-border-color);color:var(--_utrecht-button-active-color)}.utrecht-button-link--primary-action{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-primary-action-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-primary-action-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-primary-action-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-primary-action-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-primary-action-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-primary-action-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-primary-action-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-primary-action-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-primary-action-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-primary-action-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-primary-action-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-primary-action-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-primary-action-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-primary-action-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-primary-action-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-primary-action-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-primary-action-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-primary-action-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-primary-action-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-primary-action-pressed-color)}.utrecht-button-link--secondary-action{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-secondary-action-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-secondary-action-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-secondary-action-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-secondary-action-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-secondary-action-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-secondary-action-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-secondary-action-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-secondary-action-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-secondary-action-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-secondary-action-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-secondary-action-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-secondary-action-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-secondary-action-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-secondary-action-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-secondary-action-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-secondary-action-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-secondary-action-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-secondary-action-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-secondary-action-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-secondary-action-pressed-color)}.utrecht-button-link--subtle{--_utrecht-button-appearance-active-background-color:var(--utrecht-button-subtle-active-background-color);--_utrecht-button-appearance-active-border-color:var(--utrecht-button-subtle-active-border-color);--_utrecht-button-appearance-active-color:var(--utrecht-button-subtle-active-color);--_utrecht-button-appearance-background-color:var(--utrecht-button-subtle-background-color);--_utrecht-button-appearance-border-color:var(--utrecht-button-subtle-border-color);--_utrecht-button-appearance-border-width:var(--utrecht-button-subtle-border-width);--_utrecht-button-appearance-color:var(--utrecht-button-subtle-color);--_utrecht-button-appearance-font-weight:var(--utrecht-button-subtle-font-weight);--_utrecht-button-appearance-disabled-background-color:var(
    --utrecht-button-subtle-disabled-background-color
  );--_utrecht-button-appearance-disabled-border-color:var(--utrecht-button-subtle-disabled-border-color);--_utrecht-button-appearance-disabled-color:var(--utrecht-button-subtle-disabled-color);--_utrecht-button-appearance-focus-background-color:var(--utrecht-button-subtle-focus-background-color);--_utrecht-button-appearance-focus-border-color:var(--utrecht-button-subtle-focus-border-color);--_utrecht-button-appearance-focus-color:var(--utrecht-button-subtle-focus-color);--_utrecht-button-appearance-hover-background-color:var(--utrecht-button-subtle-hover-background-color);--_utrecht-button-appearance-hover-border-color:var(--utrecht-button-subtle-hover-border-color);--_utrecht-button-appearance-hover-color:var(--utrecht-button-subtle-hover-color);--_utrecht-button-appearance-pressed-background-color:var(--utrecht-button-subtle-pressed-background-color);--_utrecht-button-appearance-pressed-border-color:var(--utrecht-button-subtle-pressed-border-color);--_utrecht-button-appearance-pressed-color:var(--utrecht-button-subtle-pressed-color)}`;nt(CB);var AB=`.utrecht-calendar{background-color:var(--utrecht-calendar-background-color);inline-size:fit-content}.utrecht-calendar__table{margin-inline:auto;padding-block-end:var(--utrecht-calendar-table-padding-block-end);padding-block-start:var(--utrecht-calendar-table-padding-block-start)}.utrecht-calendar__table-weeks-item{inline-size:var(--utrecht-calendar-table-weeks-item-width);line-height:var(--utrecht-calendar-table-weeks-item-line-height,inherit);padding-block-end:var(--utrecht-calendar-table-weeks-item-padding-block-end);padding-block-start:var(--utrecht-calendar-table-weeks-item-padding-block-start)}.utrecht-calendar__table-days-item-day{--utrecht-calendar-button-border-color:var(--utrecht-calendar-table-days-item-day-border-color);--utrecht-calendar-button-border-width:var(--utrecht-calendar-table-days-item-day-border-width);--utrecht-calendar-button-color:var(--utrecht-calendar-table-days-item-day-color);block-size:var(--utrecht-calendar-table-days-item-day-size);inline-size:var(--utrecht-calendar-table-days-item-day-size)}.utrecht-calendar__table-days-item-day:hover{--utrecht-calendar-button-hover-background-color:var(--utrecht-calendar-table-days-item-day-hover-background-color);--utrecht-calendar-button-hover-border-color:var(--utrecht-calendar-table-days-item-day-hover-border-color);--utrecht-calendar-button-hover-color:var(--utrecht-calendar-table-days-item-day-hover-color)}.utrecht-calendar__table-days-item-day:focus{--utrecht-calendar-button-focus-background-color:var(--utrecht-calendar-table-days-item-day-focus-background-color);--utrecht-calendar-button-focus-border-color:var(--utrecht-calendar-table-days-item-day-focus-border-color);--utrecht-calendar-button-focus-color:var(--utrecht-calendar-table-days-item-day-focus-color)}.utrecht-calendar__table-days-item-day:active{--utrecht-calendar-button-active-background-color:var(
    --utrecht-calendar-table-days-item-day-active-background-color
  );--utrecht-calendar-button-active-border-color:var(--utrecht-calendar-table-days-item-day-active-border-color);--utrecht-calendar-button-active-color:var(--utrecht-calendar-table-days-item-day-active-color)}.utrecht-calendar__table-days-item-day:disabled{--utrecht-calendar-button-disabled-background-color:var(
    --utrecht-calendar-table-days-item-day-disabled-background-color
  );--utrecht-calendar-button-disabled-border-color:var(--utrecht-calendar-table-days-item-day-disabled-border-color);--utrecht-calendar-button-disabled-color:var(--utrecht-calendar-table-days-item-day-disabled-color)}.utrecht-calendar__table-days-item-day--out-of-the-month{--utrecht-calendar-button-background-color:var(
    --utrecht-calendar-table-days-item-day-out-of-the-month-background-color
  );--utrecht-calendar-button-border-color:var(--utrecht-calendar-table-days-item-day-out-of-the-month-border-color);--utrecht-calendar-button-color:var(--utrecht-calendar-table-days-item-day-out-of-the-month-color)}.utrecht-calendar__table-days-item-day--is-today{--utrecht-calendar-button-font-weight:var(--utrecht-calendar-table-days-item-day-is-today-font-weight);--utrecht-calendar-button-background-color:var(--utrecht-calendar-table-days-item-day-is-today-background-color);--utrecht-calendar-button-border-color:var(--utrecht-calendar-table-days-item-day-is-today-border-color);--utrecht-calendar-button-color:var(--utrecht-calendar-table-days-item-day-is-today-color)}.utrecht-calendar__table-days-item-day--emphasis{--utrecht-calendar-button-font-weight:var(--utrecht-calendar-table-days-item-day-emphasis-font-weight);--utrecht-calendar-button-background-color:var(--utrecht-calendar-table-days-item-day-emphasis-background-color);--utrecht-calendar-button-border-color:var(--utrecht-calendar-table-days-item-day-emphasis-border-color);--utrecht-calendar-button-color:var(--utrecht-calendar-table-days-item-day-emphasis-color)}.utrecht-calendar__table-days-item-day--selected{--utrecht-calendar-button-font-weight:var(--utrecht-calendar-table-days-item-day-selected-font-weight);--utrecht-calendar-button-background-color:var(--utrecht-calendar-table-days-item-day-selected-background-color);--utrecht-calendar-button-border-color:var(--utrecht-calendar-table-days-item-day-selected-border-color);--utrecht-calendar-button-color:var(--utrecht-calendar-table-days-item-day-selected-color)}.utrecht-calendar__navigation{background-color:var(--utrecht-calendar-navigation-background-color);color:var(--utrecht-calendar-navigation-color);padding-block-end:var(--utrecht-calendar-navigation-padding-block-end);padding-block-start:var(--utrecht-calendar-navigation-padding-block-start)}.utrecht-calendar__navigation-label{color:var(--utrecht-calendar-navigation-label-color);font-size:var(--utrecht-calendar-navigation-label-font-size);text-align:center}.utrecht-calendar__navigation-buttons{align-items:center;display:flex;flex-grow:1;justify-content:space-between}.utrecht-calendar__button{--utrecht-button-subtle-color:var(--utrecht-calendar-button-color,currentColor);--utrecht-button-subtle-background-color:var(--utrecht-calendar-button-background-color,transparent);--utrecht-button-subtle-border-color:var(--utrecht-calendar-button-border-color,transparent);--utrecht-button-subtle-border-width:var(--utrecht-calendar-button-border-width);--utrecht-button-font-weight:var(--utrecht-calendar-button-font-weight);--utrecht-button-subtle-focus-background-color:var(--utrecht-calendar-button-focus-background-color);--utrecht-button-subtle-focus-border-color:var(--utrecht-calendar-button-focus-border-color);--utrecht-button-subtle-focus-color:var(--utrecht-calendar-button-focus-color);--utrecht-button-subtle-active-background-color:var(--utrecht-calendar-button-active-background-color);--utrecht-button-subtle-active-border-color:var(--utrecht-calendar-button-active-border-color);--utrecht-button-subtle-active-color:var(--utrecht-calendar-button-active-color);--utrecht-button-subtle-hover-background-color:var(--utrecht-calendar-button-hover-background-color);--utrecht-button-subtle-hover-border-color:var(--utrecht-calendar-button-hover-border-color,transparent);--utrecht-button-subtle-hover-color:var(--utrecht-calendar-button-hover-color);--utrecht-button-subtle-disabled-background-color:var(--utrecht-calendar-button-disabled-background-color);--utrecht-button-subtle-disabled-border-color:var(--utrecht-calendar-button-disabled-border-color);--utrecht-button-subtle-disabled-color:var(--utrecht-calendar-button-disabled-color);--utrecht-button-padding-block-end:var(--utrecht-calendar-button-padding-block-end,0);--utrecht-button-padding-block-start:var(--utrecht-calendar-button-padding-block-start,0);--utrecht-button-padding-inline-end:var(--utrecht-calendar-button-padding-inline-end,0);--utrecht-button-padding-inline-start:var(--utrecht-calendar-button-padding-inline-start,0);cursor:pointer}.utrecht-calendar__icon{block-size:var(--utrecht-calendar-icon-size);inline-size:var(--utrecht-calendar-icon-size)}`;nt(AB);var PB=["children"];function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var NB=function(e){var r=e.children,n=W(e,PB);return j("div",HO(HO({className:"utrecht-calendar__navigation"},n),{},{children:r}))},DB=["children","className"];function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var O0=function(e){var r=e.children,n=e.className,o=W(e,DB);return j(zd,YO(YO({appearance:"subtle-button"},o),{},{className:q("utrecht-calendar__button",n),children:r}))},jB=["children"];function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KO=function(e){var r=e.children,n=W(e,jB);return j("div",XO(XO({className:q("utrecht-calendar__icon")},n),{},{children:r}))},TB=["onPreviousClick","onNextClick","previousIcon","nextIcon","children"];function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Tf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var JO=function(e){var r=e.onPreviousClick,n=e.onNextClick,o=e.previousIcon,i=e.nextIcon,a=e.children,c=W(e,TB);return Ar("div",{className:"utrecht-calendar__navigation-buttons",children:[j(O0,Tf(Tf({onClick:r},c),{},{children:j(KO,{children:o})})),a,j(O0,Tf(Tf({onClick:n},c),{},{children:j(KO,{children:i})}))]})},MB=["children"];function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function tE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FB=function(e){var r=e.children,n=W(e,MB);return j("time",tE(tE({className:"utrecht-calendar__navigation-label"},n),{},{children:r}))},zB=["children"];function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var RB=function(e){var r=e.children,n=W(e,zB);return j("tbody",rE(rE({},n),{},{className:"utrecht-calendar__table-days-container",children:r}))},LB=["children"];function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function oE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var IB=function(e){var r=e.children,n=W(e,LB);return j("tr",oE(oE({},n),{},{children:r}))},BB=["day","dayOutOfTheMonth","isToday","emphasis","selected","disabled"];function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UB=function(e){var r=e.day,n=e.dayOutOfTheMonth,o=e.isToday,i=e.emphasis,a=e.selected,c=e.disabled,u=W(e,BB);return j("td",{children:j(O0,aE(aE({className:q("utrecht-calendar__table-days-item-day",{"utrecht-calendar__table-days-item-day--out-of-the-month":n},{"utrecht-calendar__table-days-item-day--is-today":o},{"utrecht-calendar__table-days-item-day--emphasis":i},{"utrecht-calendar__table-days-item-day--selected":a}),disabled:c},u),{},{children:r}))})},qB=function(e){var r=e.children;return j("thead",{className:"utrecht-calendar__table-weeks-container",children:j("tr",{className:"utrecht-calendar__table-weeks-container-content",children:r})})},WB=["children"];function cE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function uE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var HB=function(e){var r=e.children,n=W(e,WB);return j("th",uE(uE({},n),{},{className:"utrecht-calendar__table-weeks-item",children:r}))},GB=["title","titleId"];function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function lE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YB=function(e){var r=e.title,n=e.titleId,o=W(e,GB);return Ar("svg",lE(lE({width:"100%",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),{},{children:[r?j("title",{id:n,children:r}):null,j("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41Z",fill:"currentColor"})]}))},VB=["title","titleId"];function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function fE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var XB=function(e){var r=e.title,n=e.titleId,o=W(e,VB);return Ar("svg",fE(fE({width:"100%",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),{},{children:[r?j("title",{id:n,children:r}):null,j("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6 6 6Z",fill:"currentColor"}),j("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6 6 6Z",fill:"currentColor"})]}))},KB=["title","titleId"];function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function pE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var QB=function(e){var r=e.title,n=e.titleId,o=W(e,KB);return Ar("svg",pE(pE({width:"100%",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),{},{children:[r?j("title",{id:n,children:r}):null,j("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41Z",fill:"currentColor"})]}))},JB=["title","titleId"];function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZB=function(e){var r=e.title,n=e.titleId,o=W(e,JB);return Ar("svg",bE(bE({fill:"none",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),{},{children:[r?j("title",{id:n,children:r}):null,j("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6-6-6Z",fill:"currentColor"}),j("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6-6-6Z",fill:"currentColor"})]}))};function tU(t){var e=cj($8(t),{weekStartsOn:1}),r=dj(_8(e,5),{weekStartsOn:1});return lj({start:e,end:r})}var w2t=function(e){var r=e.onCalendarClick,n=e.events,o=e.currentDate,i=e.locale,a=i===void 0?gj:i,c=e.previousYearButtonTitle,u=c===void 0?"Previous year":c,s=e.nextYearButtonTitle,l=s===void 0?"Next year":s,d=e.previousMonthButtonTitle,f=d===void 0?"Previous month":d,h=e.nextMonthButtonTitle,p=h===void 0?"Next month":h,g=e.minDate,b=e.maxDate,m=U.useState(o||new Date),v=Yh(m,2),y=v[0],x=v[1],k=U.useState(o),_=Yh(k,2),w=_[0],O=_[1],C=tU(y),S=cj(y,{weekStartsOn:1}),A=dj(y,{weekStartsOn:1}),T=lj({start:S,end:A}).map(function(E){return E}),$=T7(C,C.length/6),P=$.map(function(E){return E.map(function(N){var D=n&&n.length>0&&n.find(function(F){return Um(gO(q9(F.date)),N)});return D?{date:N,emphasis:D.emphasis,selected:D.selected,disabled:D.disabled}:{date:N,emphasis:!1,selected:!1,disabled:!1}})});return Ar("div",{className:"utrecht-calendar",children:[j(NB,{children:j(JO,{previousIcon:j(XB,{title:u}),nextIcon:j(ZB,{title:l}),onPreviousClick:function(){return x(a7(y,L9(y)-1))},onNextClick:function(){return x(O8(y,1))},children:j(JO,{previousIcon:j(YB,{title:f}),nextIcon:j(QB,{title:p}),onPreviousClick:function(){return x(i7(y,y.getMonth()-1))},onNextClick:function(){return x(aj(y,1))},children:j(FB,{dateTime:Ws(y,"yyyy-mm"),children:Ws(y,"LLLL Y",{locale:a})})})})}),Ar("table",{className:"utrecht-calendar__table",role:"grid",children:[j(qB,{children:T&&T.length>0&&T.map(function(E,N){return j(HB,{scope:"col",abbr:Ws(E,"EEEE",{locale:a}),children:Ws(E,"EEEEEE",{locale:a})},N)})}),j(RB,{children:P&&P.length>0&&P.map(function(E,N){return j(IB,{children:E.map(function(D,F){return j(UB,{isToday:Um(D.date,Date.now()),dayOutOfTheMonth:!U9(D.date,y),onClick:function(){x(D.date),O(D.date),r(z9(D.date))},"aria-label":Ws(D.date,"eeee dd LLLL Y",{locale:a}),day:D.date.getDate().toString(),emphasis:D.emphasis,selected:D.selected||w&&Um(D.date,w),disabled:D.disabled||g&&B9(D.date,_0(g))||b&&I9(D.date,gO(b))},F)})},N)})})]})]})},eU=".utrecht-checkbox{cursor:var(--utrecht-action-activate-cursor,revert);margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;-webkit-user-select:none;user-select:none}.utrecht-checkbox--disabled{cursor:var(--utrecht-action-disabled-cursor,revert)}.utrecht-checkbox--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-checkbox--html-input:disabled{cursor:var(--utrecht-action-disabled-cursor,revert)}.utrecht-checkbox--html-input:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-checkbox--html-input:focus:not(:focus-visible){box-shadow:none;outline-style:revert}";nt(eU);var rU=`.utrecht-checkbox--custom,.utrecht-custom-checkbox{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-position:50%;background-repeat:no-repeat;background-size:contain;block-size:var(--utrecht-checkbox-size,1em);border-color:var(--utrecht-checkbox-border-color);border-style:solid;border-width:var(--utrecht-checkbox-border-width);cursor:var(--utrecht-action-activate-cursor,revert);inline-size:var(--utrecht-checkbox-size,1em);margin-block-start:var(--utrecht-checkbox-margin-block-start);min-block-size:24px;min-inline-size:24px;-webkit-print-color-adjust:exact;print-color-adjust:exact;vertical-align:top}.utrecht-checkbox--custom.utrecht-checkbox--checked,.utrecht-custom-checkbox--checked{background-color:var(--utrecht-checkbox-checked-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-checked-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-checked-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--disabled,.utrecht-custom-checkbox--disabled{border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-disabled-border-width,var(--utrecht-checkbox-border-width));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-checkbox--custom.utrecht-checkbox--disabled:checked,.utrecht-custom-checkbox--disabled:checked{background-color:var(--utrecht-checkbox-disabled-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color))}.utrecht-checkbox--custom.utrecht-checkbox--disabled:active,.utrecht-custom-checkbox--disabled:active{border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color))}.utrecht-checkbox--custom.utrecht-checkbox--indeterminate,.utrecht-custom-checkbox--indeterminate{background-color:var(--utrecht-checkbox-indeterminate-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-indeterminate-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-indeterminate-border-width,var(--utrecht-checkbox-border-width));color:var(--utrecht-checkbox-indeterminate-color,var(--utrecht-checkbox-color))}.utrecht-checkbox--custom.utrecht-checkbox--invalid,.utrecht-custom-checkbox--invalid{border-color:var(--utrecht-checkbox-invalid-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-invalid-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--active,.utrecht-custom-checkbox--active{background-color:var(--utrecht-checkbox-active-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-active-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-active-border-width,var(--utrecht-checkbox-border-width));color:var(--utrecht-checkbox-active-color,var(--utrecht-checkbox-color))}.utrecht-checkbox--custom.utrecht-checkbox--hover,.utrecht-custom-checkbox--hover{background-color:var(--utrecht-checkbox-hover-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-hover-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-hover-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--focus,.utrecht-custom-checkbox--focus{background-color:var(--utrecht-checkbox-focus-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-focus-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-focus-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--focus-visible,.utrecht-custom-checkbox--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-checkbox--custom.utrecht-checkbox--html-input:disabled,.utrecht-custom-checkbox--html-input:disabled{border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-disabled-border-width,var(--utrecht-checkbox-border-width));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-checkbox--custom.utrecht-checkbox--html-input:disabled:checked,.utrecht-custom-checkbox--html-input:disabled:checked{background-color:var(--utrecht-checkbox-disabled-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:disabled:active,.utrecht-custom-checkbox--html-input:disabled:active{border-color:var(--utrecht-checkbox-disabled-border-color,var(--utrecht-checkbox-border-color))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:hover,.utrecht-custom-checkbox--html-input:hover{background-color:var(--utrecht-checkbox-hover-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-hover-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-hover-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:focus,.utrecht-custom-checkbox--html-input:focus{background-color:var(--utrecht-checkbox-focus-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-focus-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-focus-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:focus-visible,.utrecht-custom-checkbox--html-input:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-checkbox--custom.utrecht-checkbox--html-input:invalid,.utrecht-checkbox--custom.utrecht-checkbox--html-input[aria-invalid=true],.utrecht-custom-checkbox--html-input:invalid,.utrecht-custom-checkbox--html-input[aria-invalid=true]{border-color:var(--utrecht-checkbox-invalid-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-invalid-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:active,.utrecht-custom-checkbox--html-input:active{background-color:var(--utrecht-checkbox-active-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-active-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-active-border-width,var(--utrecht-checkbox-border-width));color:var(--utrecht-checkbox-active-color,var(--utrecht-checkbox-color))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:active,.utrecht-checkbox--custom.utrecht-checkbox--html-input:checked,.utrecht-custom-checkbox--html-input:active,.utrecht-custom-checkbox--html-input:checked{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3E%3C/svg%3E")}.utrecht-checkbox--custom.utrecht-checkbox--html-input:checked,.utrecht-custom-checkbox--html-input:checked{background-color:var(--utrecht-checkbox-checked-background-color,var(--utrecht-checkbox-background-color));border-color:var(--utrecht-checkbox-checked-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-checked-border-width,var(--utrecht-checkbox-border-width))}.utrecht-checkbox--custom.utrecht-checkbox--html-input:indeterminate,.utrecht-custom-checkbox--html-input:indeterminate{background-color:var(--utrecht-checkbox-indeterminate-background-color,var(--utrecht-checkbox-background-color));background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3E%3C/svg%3E");border-color:var(--utrecht-checkbox-indeterminate-border-color,var(--utrecht-checkbox-border-color));border-width:var(--utrecht-checkbox-indeterminate-border-width,var(--utrecht-checkbox-border-width));color:var(--utrecht-checkbox-indeterminate-color,var(--utrecht-checkbox-color))}`;nt(rU);var nU=["appearance","disabled","invalid","required","className"];function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function vE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oU=U.forwardRef(function(t,e){var r=t.appearance,n=r===void 0?"custom":r,o=t.disabled,i=t.invalid,a=t.required,c=t.className,u=W(t,nU);return j("input",vE(vE({},u),{},{ref:e,type:"checkbox",className:q("utrecht-checkbox","utrecht-checkbox--html-input",{"utrecht-checkbox--disabled":o,"utrecht-checkbox--custom":n==="custom","utrecht-checkbox--invalid":i,"utrecht-checkbox--required":a},c),"aria-invalid":i||void 0,disabled:o,required:a}))});oU.displayName="Checkbox";var iU=".utrecht-code{background-color:var(--utrecht-code-background-color);color:var(--utrecht-code-color);font-family:var(--utrecht-code-font-family,monospace),monospace;font-size:var(--utrecht-code-font-size);font-variant-ligatures:none;line-height:var(--utrecht-code-line-height)}";nt(iU);var aU=["children","className"];function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,aU);return j("code",xE(xE({ref:e,className:q("utrecht-code",n)},o),{},{children:r}))});cU.displayName="Code";var uU=".utrecht-code-block{--utrecht-code-color:var(--utrecht-code-block-color,inherit);--utrecht-code-background-color:var(--utrecht-code-block-background-color,inherit);--utrecht-code-font-weight:var(--utrecht-code-block-font-weight,inherit);--utrecht-code-font-size:var(--utrecht-code-block-font-size,inherit);--utrecht-code-font-family:var(--utrecht-code-block-font-family,monospace);background-color:var(--utrecht-code-background-color);background-color:var(--utrecht-code-block-background-color);color:var(--utrecht-code-color);display:block;font-family:var(--utrecht-code-font-family,monospace),monospace;font-size:var(--utrecht-code-font-size);font-size:var(--utrecht-code-block-font-size,var(--utrecht-code-font-size));font-variant-ligatures:none;line-height:var(--utrecht-code-line-height);line-height:var(--utrecht-code-block-line-height,var(--utrecht-code-line-height));margin-block-end:var(--utrecht-code-block-margin-block-end);margin-block-start:var(--utrecht-code-block-margin-block-start);margin-inline-end:var(--utrecht-code-block-margin-inline-end);margin-inline-start:var(--utrecht-code-block-margin-inline-start);padding-block-end:var(--utrecht-code-block-padding-block-end);padding-block-start:var(--utrecht-code-block-padding-block-start);padding-inline-end:var(--utrecht-code-block-padding-inline-end);padding-inline-start:var(--utrecht-code-block-padding-inline-start);white-space:pre}.utrecht-code-block__content{font-family:inherit;font-size:inherit}";nt(uU);var sU=["children","className"];function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function kE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,sU);return j("pre",kE(kE({ref:e,className:q("utrecht-code-block",n)},o),{},{children:j("code",{className:"utrecht-code-block__content",children:r})}))});lU.displayName="CodeBlock";var dU=".utrecht-color-sample{background-color:var(--utrecht-color-sample-background-color,currentColor);block-size:var(--utrecht-color-sample-block-size,2em);border-color:var(--utrecht-color-sample-border-color,var(--utrecht-color-sample-default-border-color));border-radius:var(--utrecht-color-sample-border-radius,0);border-style:solid;border-width:var(--utrecht-color-sample-border-width,0);box-sizing:border-box;display:inline-block;inline-size:var(--utrecht-color-sample-inline-size,2em);-webkit-print-color-adjust:exact;print-color-adjust:exact}@media (forced-colors:active){.utrecht-color-sample{forced-color-adjust:none}}@media (forced-colors:active) and (prefers-color-scheme:dark){.utrecht-color-sample{--utrecht-color-sample-default-border-color:var(--utrecht-color-sample-dark-border-color,#000)}}@media (forced-colors:active) and (prefers-color-scheme:light){.utrecht-color-sample{--utrecht-color-sample-default-border-color:var(--utrecht-color-sample-light-border-color,#fff)}}";nt(dU);var fU=["children","className","color","style"];function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Mf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var hU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.color,i=t.style,a=W(t,fU);return j("data",Mf(Mf({ref:e,className:q("utrecht-color-sample",n),style:Mf(Mf({},i),{},{color:o}),value:o},a),{},{children:r}))});hU.displayName="ColorSample";var pU=".utrecht-currency-data{font-variant-numeric:lining-nums tabular-nums;white-space:nowrap}";nt(pU);var gU=["children","currency","amount","locale","className"];function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function EE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bU=function(e,r,n){return new Intl.NumberFormat(e,{style:"currency",currency:r,minimumFractionDigits:Number.isInteger(n)?0:void 0,useGrouping:!1}).format(n).replace(/[\s]+/g,"").replace("-","−")},mU=function(e,r,n){var o=new Intl.NumberFormat(e,{style:"currency",currency:r}).format(n);return o=o.replace(/-/,"−"),(e==="nl"||e==="nl-NL")&&/\u2212/.test(o)&&(o=o.replace(/(.+)\u2212(.+)/,"− $1$2")),o=o.replace(/ /g," "),o},vU=U.forwardRef(function(t,e){var r=t.children,n=t.currency,o=n===void 0?"EUR":n,i=t.amount,a=t.locale,c=a===void 0?"nl-NL":a,u=t.className,s=W(t,gU),l=typeof i=="string"?parseFloat(i):i,d=bU(c,o,l),f=mU(c,o,l);return j("data",EE(EE({},s),{},{ref:e,value:"".concat(o," ").concat(i),className:q("utrecht-currency-data",l<0&&"utrecht-currency-data--negative",l>0&&"utrecht-currency-data--positive",u),"aria-label":d,children:r||f}))});vU.displayName="CurrencyData";var yU=".utrecht-badge-data{background-color:var(--utrecht-badge-background-color,#000);border-radius:var(--utrecht-badge-border-radius,.5ch);color:var(--utrecht-badge-color,#fff);display:inline-block;font-family:var(--utrecht-document-font-family,sans-serif);font-size:var(--utrecht-badge-font-size,inherit);font-style:var(--utrecht-badge-font-style,normal);font-weight:var(--utrecht-badge-font-weight,bold);letter-spacing:var(--utrecht-badge-data-letter-spacing,inherit);line-height:var(--utrecht-badge-line-height,1em);max-block-size:max-content;max-inline-size:max-content;min-block-size:1em;min-inline-size:1em;padding-block-end:var(--utrecht-badge-padding-block,.5ex);padding-block-start:var(--utrecht-badge-padding-block,.5ex);padding-inline-end:var(--utrecht-badge-padding-inline,.5ch);padding-inline-start:var(--utrecht-badge-padding-inline,.5ch);text-decoration:none;text-transform:var(--utrecht-badge-data-text-transform,inherit)}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-badge-data{border:1px solid}}";nt(yU);var xU=["children","className","dateTime","value"];function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.dateTime,i=t.value,a=W(t,xU),c=Aa({children:r,className:q("utrecht-badge-data",n)},a);return typeof o<"u"?j("time",Aa(Aa({},c),{},{dateTime:o,ref:e})):typeof i<"u"?j("data",Aa(Aa({},c),{},{value:i,ref:e})):j("span",Aa(Aa({},c),{},{ref:e}))});wU.displayName="DataBadge";var kU=".utrecht-document{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;color:var(--utrecht-document-color,inherit);font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-document-font-size,inherit);font-weight:var(--utrecht-document-font-weight,inherit);line-height:var(--utrecht-document-line-height,inherit);text-rendering:optimizeLegibility}.utrecht-document :lang(ar){letter-spacing:0!important}.utrecht-document--surface{background-color:var(--utrecht-document-background-color,inherit)}";nt(kU);var _U=["children","className"];function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function CE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,_U);return j("div",CE(CE({},o),{},{ref:e,className:q("utrecht-document",n),children:r}))});OU.displayName="Document";var EU=".utrecht-data-list{display:block;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-data-list-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-data-list-margin-block-start, 0))}.utrecht-data-list__item-key{color:var(--utrecht-data-list-item-key-color);font-size:var(--utrecht-data-list-item-key-font-size);font-weight:var(--utrecht-data-list-item-key-font-weight);line-height:var(--utrecht-data-list-item-key-line-height)}.utrecht-data-list__item-value{color:var(--utrecht-data-list-item-value-color);font-size:var(--utrecht-data-list-item-value-font-size);font-weight:var(--utrecht-data-list-item-value-font-weight);line-height:var(--utrecht-data-list-item-value-line-height);min-block-size:calc(var(--utrecht-data-list-item-value-line-height)*1rem)}.utrecht-data-list__actions--html-dd,.utrecht-data-list__item-value--html-dd{margin-inline-start:0}.utrecht-data-list__item-value--multiline{white-space:pre-line}.utrecht-data-list--rows .utrecht-data-list__actions{align-items:baseline;display:flex;grid-column:-1;grid-row:1;justify-content:flex-end}.utrecht-data-list--rows .utrecht-data-list__item{--_utrecht-minmax:max(var(--utrecht-data-list-rows-column-min-inline-size,25ch),var(--utrecht-data-list-rows-column-inline-size,80%));--_utrecht-auto-col:minmax(var(--_utrecht-minmax),max-content);border-block-end-color:var(--utrecht-data-list-rows-border-bottom-color,transparent);border-block-end-style:solid;border-block-end-width:var(--utrecht-data-list-rows-border-bottom-width,0);display:grid;gap:0 var(--utrecht-data-list-rows-gap);grid-auto-columns:1fr;grid-template-columns:repeat(auto-fit,var(--_utrecht-auto-col));margin-block-start:var(--utrecht-data-list-rows-item-margin-block-start)}.utrecht-data-list--rows .utrecht-data-list__item:first-of-type{margin-block-start:0}.utrecht-data-list--rows .utrecht-data-list__item-value{margin-block-start:var(--utrecht-data-list-rows-item-value-margin-block-start)}";nt(EU);var SU=["appearance","children","className"],$U=["children","className"],CU=["children","className"],AU=["children","className"];function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var PU=U.forwardRef(function(t,e){var r=t.appearance,n=t.children,o=t.className,i=W(t,SU);return j("dl",Xi(Xi({},i),{},{className:q("utrecht-data-list","utrecht-data-list--html-dl",r==="rows"&&"utrecht-data-list--rows",o),ref:e,children:n}))});PU.displayName="DataList";var NU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,$U);return j("div",Xi(Xi({},o),{},{className:q("utrecht-data-list__item",n),ref:e,children:r}))});NU.displayName="DataListItem";var DU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,CU);return j("dt",Xi(Xi({},o),{},{className:q("utrecht-data-list__item-key",n),ref:e,children:r}))});DU.displayName="DataListKey";var jU=U.forwardRef(function(t,e){var r=t.value,n=t.children,o=t.className,i=t.emptyDescription,a=t.multiline,c=t.notranslate,u=r===""||r===null;return j("dd",{className:q("utrecht-data-list__item-value","utrecht-data-list__item-value--html-dd",o,a&&"utrecht-data-list__item-value--multiline"),translate:typeof c=="boolean"?c?"no":"yes":void 0,ref:e,children:u?j("span",{"aria-label":i,children:"-"}):n})});jU.displayName="DataListValue";var TU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,AU);return j("dd",Xi(Xi({},o),{},{className:q("utrecht-data-list__actions","utrecht-data-list__actions--html-dd",n),ref:e,children:r}))});TU.displayName="DataListActions";var MU=".utrecht-emphasis--stressed{font-style:var(--utrecht-emphasis-stressed-font-style,italic)}.utrecht-emphasis--strong{font-weight:var(--utrecht-emphasis-strong-font-weight,bold)}";nt(MU);var FU=["children","className"];function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function NE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zU=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,FU);return j("em",NE(NE({ref:e,className:q("utrecht-emphasis","utrecht-emphasis--stressed",n)},o),{},{children:r}))});zU.displayName="Emphasis";var RU=".utrecht-form-fieldset{margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-margin-block-start, 0))}.utrecht-form-fieldset--html-fieldset,.utrecht-form-fieldset__fieldset--html-fieldset{all:revert;border:0;margin-inline-end:0;margin-inline-start:0;min-inline-size:0;padding-block-end:0;padding-block-start:.01em;padding-inline-end:0;padding-inline-start:0}.utrecht-form-fieldset__legend--html-legend{display:table;inline-size:100%;padding-inline-end:0;padding-inline-start:0}.utrecht-form-fieldset--distanced{--utrecht-space-around:1}.utrecht-form-fieldset--section{background-color:var(--utrecht-form-fieldset-section-background-color);color:var(--utrecht-form-fieldset-section-color)}.utrecht-form-fieldset__legend{color:var(--utrecht-form-fieldset-legend-color,var(--utrecht-document-color,inherit));font-family:var(--utrecht-form-fieldset-legend-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-form-fieldset-legend-font-size);font-weight:var(--utrecht-form-fieldset-legend-font-weight);line-height:var(--utrecht-form-fieldset-legend-line-height);page-break-after:avoid;page-break-inside:avoid}.utrecht-form-fieldset__legend--disabled{color:var(--utrecht-form-fieldset-legend-disabled-color,var(--utrecht-form-fieldset-legend-color,var(--utrecht-document-color,inherit)))}.utrecht-form-fieldset__legend--distanced{margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-legend-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-legend-margin-block-start, 0))}.utrecht-form-fieldset--invalid{border-inline-start-color:var(--utrecht-form-fieldset-invalid-border-inline-start-color,var(--utrecht-form-field-invalid-border-inline-start-color));border-inline-start-style:solid;border-inline-start-width:var(--utrecht-form-fieldset-invalid-border-inline-start-width,var(--utrecht-form-field-invalid-border-inline-start-width));padding-inline-start:var(--utrecht-form-fieldset-invalid-padding-inline-start,var(--utrecht-form-field-invalid-padding-inline-start))}";nt(RU);var LU=["aria-describedby","aria-label","aria-labelledby","className","children","disabled","form","invalid","name","role"],IU=["className","children","disabled","invalid"];function DE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BU=U.forwardRef(function(t,e){var r=t["aria-describedby"],n=t["aria-label"],o=t["aria-labelledby"],i=t.className,a=t.children,c=t.disabled,u=t.form,s=t.invalid,l=t.name,d=t.role,f=W(t,LU);return j("div",Jh(Jh({},f),{},{ref:e,className:q("utrecht-form-fieldset",c&&"utrecht-form-fieldset--disabled",s&&"utrecht-form-fieldset--invalid",i),children:j("fieldset",{"aria-describedby":r,"aria-label":n,"aria-labelledby":o,"aria-invalid":s||void 0,disabled:c,form:u,name:l,role:d,className:q("utrecht-form-fieldset__fieldset","utrecht-form-fieldset--html-fieldset"),children:a})}))});BU.displayName="Fieldset";var UU=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=t.disabled,i=t.invalid,a=W(t,IU);return j("fieldset",Jh(Jh({},a),{},{ref:e,"aria-invalid":i||void 0,disabled:o,className:q("utrecht-form-fieldset","utrecht-form-fieldset--html-fieldset",o&&"utrecht-form-fieldset--disabled",i&&"utrecht-form-fieldset--invalid",r),children:n}))});UU.displayName="Fieldset";var qU=["className","children"];function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function TE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WU=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=W(t,qU);return j("legend",TE(TE({},o),{},{ref:e,className:q("utrecht-form-fieldset__legend","utrecht-form-fieldset__legend--html-legend",r),children:n}))});WU.displayName="FieldsetLegend";var HU=".utrecht-figure{margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-figure-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-figure-margin-block-start, 0))}.utrecht-figure__caption{color:var(--utrecht-figure-caption-color);font-size:var(--utrecht-figure-caption-font-size);line-height:var(--utrecht-figure-caption-line-height)}";nt(HU);var GU=["className","children"];function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function FE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YU=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=W(t,GU);return j("figure",FE(FE({},o),{},{ref:e,className:q("utrecht-figure",r),children:n}))});YU.displayName="Figure";var VU=["className","children"];function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function RE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var XU=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=W(t,VU);return j("figcaption",RE(RE({},o),{},{ref:e,className:q("utrecht-figure__caption",r),children:n}))});XU.displayName="FigureCaption";var KU='.utrecht-form-field{font-family:var(--utrecht-document-font-family,inherit);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-field-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-field-margin-block-start, 0));max-inline-size:var(--utrecht-form-field-max-inline-size);page-break-inside:avoid}.utrecht-form-field--distanced{--utrecht-space-around:1}.utrecht-form-field--invalid{border-inline-start-color:var(--utrecht-form-field-invalid-border-inline-start-color);border-inline-start-style:solid;border-inline-start-width:var(--utrecht-form-field-invalid-border-inline-start-width);padding-inline-start:var(--utrecht-form-field-invalid-padding-inline-start)}.utrecht-form-field--checkbox{display:grid;gap:0 var(--utrecht-checkbox-margin-inline-end,12px);grid-template-areas:"input label" "input description" "input description-invalid";grid-template-columns:var(--utrecht-checkbox-size) 100fr}.utrecht-form-field--checkbox .utrecht-form-field__label:has(.utrecht-form-field__input){margin-inline-start:calc((var(--utrecht-checkbox-size) + var(--utrecht-checkbox-margin-inline-end, 12px))*-1)}.utrecht-form-field--checkbox .utrecht-form-field__label .utrecht-form-field__input{margin-inline-end:var(--utrecht-checkbox-margin-inline-end,12px)}.utrecht-form-field--radio{display:grid;gap:0 var(--utrecht-radio-button-margin-inline-end,12px);grid-template-areas:"input label" "input description" "input description-invalid";grid-template-columns:var(--utrecht-radio-button-size) 100fr}.utrecht-form-field--radio .utrecht-form-field__label:has(.utrecht-form-field__input){margin-inline-start:calc((var(--utrecht-radio-button-size) + var(--utrecht-radio-button-margin-inline-end, 12px))*-1)}.utrecht-form-field--radio .utrecht-form-field__label .utrecht-form-field__input{margin-inline-end:var(--utrecht-radio-button-margin-inline-end,12px)}.utrecht-form-field__input{grid-area:input;order:5}.utrecht-form-field__label{grid-area:label;margin-block-end:var(--utrecht-form-field-label-margin-block-end);margin-block-start:0;order:1}.utrecht-form-field .utrecht-form-field-description{grid-area:description;margin-block-end:var(--utrecht-form-field-description-margin-block-end);margin-block-start:var(--utrecht-form-field-description-margin-block-start);order:2}.utrecht-form-field .utrecht-form-field-description--invalid{grid-area:description-invalid;order:3}.utrecht-form-field__description{grid-area:description;margin-block-end:var(--utrecht-form-field-description-margin-block-end);margin-block-start:var(--utrecht-form-field-description-margin-block-start);order:2}.utrecht-form-field__description--before{grid-area:description-before;order:4}';nt(KU);var QU=["className","children","invalid","type"];function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function IE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var JU=U.forwardRef(function(t,e){var r=t.className,n=t.children,o=t.invalid,i=t.type,a=W(t,QU);return j("div",IE(IE({},a),{},{ref:e,className:q("utrecht-form-field",{"utrecht-form-field--invalid":o,"utrecht-form-field--checkbox":i==="checkbox","utrecht-form-field--radio":i==="radio","utrecht-form-field--text":!i||i==="text"},r),children:n}))});JU.displayName="FormField";var ZU=".utrecht-form-field-description{--utrecht-document-color:currentColor;color:var(--utrecht-form-field-description-color);font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-form-field-description-font-size,inherit);font-style:var(--utrecht-form-field-description-font-style);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-field-description-margin-block-end, var(--utrecht-paragraph-margin-block-end, 0)));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-field-description-margin-block-start, var(--utrecht-paragraph-margin-block-start, 0)))}.utrecht-form-field-description--distanced,.utrecht-form-field-description>*{--utrecht-space-around:1}.utrecht-form-field-description--invalid{color:var(--utrecht-form-field-description-invalid-color,var(--utrecht-feedback-invalid-color,var(--utrecht-feedback-danger-color)))}.utrecht-form-field-description--valid{color:var(--utrecht-form-field-description-valid-color,var(--utrecht-feedback-valid-color,var(--utrecht-feedback-safe-color)))}.utrecht-form-field-description--warning{color:var(--utrecht-form-field-description-warning-color,var(--utrecht-feedback-warning-color))}";nt(ZU);var tq=["invalid","valid","warning","className","children"];function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function UE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eq=U.forwardRef(function(t,e){var r=t.invalid,n=t.valid,o=t.warning,i=t.className,a=t.children,c=W(t,tq);return j("div",UE(UE({},c),{},{ref:e,className:q("utrecht-form-field-description",r&&"utrecht-form-field-description--invalid",n&&"utrecht-form-field-description--valid",o&&"utrecht-form-field-description--warning",i),children:a}))});eq.displayName="FormFieldDescription";var rq=".utrecht-form-label{color:var(--utrecht-form-label-color);font-size:var(--utrecht-form-label-font-size);font-weight:var(--utrecht-form-label-font-weight)}.utrecht-form-label--checkbox{color:var(--utrecht-form-label-checkbox-color,var(--utrecht-form-label-color));cursor:var(--utrecht-action-activate-cursor,revert);font-weight:var(--utrecht-form-label-checkbox-font-weight,var(--utrecht-form-label-font-weight))}.utrecht-form-label--checked{font-weight:var(--utrecht-form-label-checked-font-weight,var(--utrecht-form-label-font-weight))}.utrecht-form-label--disabled{cursor:var(--utrecht-action-disabled-cursor,revert);font-weight:var(--utrecht-form-label-disabled-color,var(--utrecht-form-label-color))}.utrecht-form-label--radio{color:var(--utrecht-form-label-checkbox-color,var(--utrecht-form-label-color));cursor:var(--utrecht-action-activate-cursor,revert);font-weight:var(--utrecht-form-label-radio-font-weight,var(--utrecht-form-label-font-weight))}";nt(rq);var nq=["children","className","type","disabled","checked"];function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function WE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.type,i=t.disabled,a=t.checked,c=W(t,nq);return j("label",WE(WE({},c),{},{ref:e,className:q("utrecht-form-label",o&&"utrecht-form-label--".concat(o),i&&"utrecht-form-label--disabled",a&&"utrecht-form-label--checked",n),children:r}))});oq.displayName="FormLabel";var iq=".utrecht-form-toggle{align-items:center;block-size:var(--utrecht-form-toggle-height,2em);border-color:var(--utrecht-form-toggle-border-color,currentColor);border-radius:var(--utrecht-form-toggle-border-radius,999rem);border-style:var(--utrecht-form-toggle-border-style,solid);border-width:var(--utrecht-form-toggle-border-width,1px);color:var(--utrecht-form-toggle-color);cursor:var(--utrecht-action-activate-cursor,revert);display:flex;inline-size:var(--utrecht-form-toggle-width,6em);padding-block-end:var(--utrecht-form-toggle-padding-block-end);padding-block-start:var(--utrecht-form-toggle-padding-block-start);padding-inline-end:var(--utrecht-form-toggle-padding-inline-end);padding-inline-start:var(--utrecht-form-toggle-padding-inline-start);position:relative;-webkit-user-select:none;user-select:none}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-form-toggle{--utrecht-form-toggle-background-color:ButtonFace;--utrecht-form-toggle-border-color:buttonborder;--utrecht-form-toggle-border-width:1px;--utrecht-form-toggle-border-radius:var(--utrecht-form-toggle-track-border-radius);--utrecht-form-toggle-thumb-background-color:ButtonText;--utrecht-form-toggle-thumb-disabled-background-color:GrayText;border-color:var(--utrecht-form-toggle-track-disabled-border-color,var(--utrecht-form-toggle-track-border-color));border-width:min(var(--utrecht-form-toggle-border-width,1px),1px)}}.utrecht-form-toggle--focus-visible,.utrecht-form-toggle--html-div:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-form-toggle--hover{background-color:var(--utrecht-form-toggle-hover-background-color,var(--utrecht-form-toggle-background-color));color:var(--utrecht-form-toggle-hover-color,var(--utrecht-form-toggle-color))}.utrecht-form-toggle--disabled,.utrecht-form-toggle--html-div:disabled{border-color:var(--utrecht-form-toggle-disabled-border-color,var(--utrecht-form-toggle-border-color,currentColor));border-style:var(--utrecht-form-toggle-disabled-border-style,var(--utrecht-form-toggle-border-style,solid));border-width:var(--utrecht-form-toggle-disabled-border-width,var(--utrecht-form-toggle-border-width,1px));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-form-toggle__thumb{background-color:var(--utrecht-form-toggle-thumb-background-color,currentColor);border-radius:var(--utrecht-form-toggle-thumb-border-radius,50%);box-shadow:var(--utrecht-form-toggle-thumb-box-shadow);margin-inline-end:var(--utrecht-form-toggle-thumb-margin-inline-end,0);margin-inline-start:var(--utrecht-form-toggle-thumb-margin-inline-start,0);min-block-size:var(--utrecht-form-toggle-thumb-min-inline-size,1.5em);min-inline-size:var(--utrecht-form-toggle-thumb-min-inline-size,1.5em);z-index:20}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:checked~.utrecht-form-toggle__track .utrecht-form-toggle__thumb,.utrecht-form-toggle__thumb--checked{margin-inline-start:auto}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:not(:checked)~.utrecht-form-toggle__track .utrecht-form-toggle__thumb,.utrecht-form-toggle__thumb--not-checked{margin-inline-end:auto}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:disabled~.utrecht-form-toggle__track .utrecht-form-toggle__thumb,.utrecht-form-toggle__thumb--disabled{background-color:var(--utrecht-form-toggle-thumb-disabled-background-color,#aaa);box-shadow:var(--utrecht-form-toggle-thumb-disabled-box-shadow,0)}.utrecht-form-toggle__track{align-items:center;background-color:var(--utrecht-form-toggle-accent-color);block-size:100%;border-radius:var(--utrecht-form-toggle-track-border-radius,var(--utrecht-form-toggle-border-radius));display:flex;inline-size:100%}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:checked~.utrecht-form-toggle__track,.utrecht-form-toggle__track--checked{background-color:var(--utrecht-form-toggle-checked-accent-color,var(--utrecht-form-toggle-accent-color))}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:disabled~.utrecht-form-toggle__track,.utrecht-form-toggle__track--disabled{background-color:var(--utrecht-form-toggle-background-disabled-background-color,#ddd);color:var(--utrecht-form-toggle-disabled-color,#000)}.utrecht-form-toggle__track--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox{clip:rect(1px,1px,1px,1px)!important;block-size:1px!important;border:0!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;inline-size:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important}.utrecht-form-toggle--html-checkbox .utrecht-form-toggle__checkbox:focus-visible~.utrecht-form-toggle__track{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}";nt(iq);var aq=["checked","disabled","invalid","id","hidden","required","role","tabIndex","className"];function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function cq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uq=U.forwardRef(function(t,e){var r=t.checked,n=t.disabled,o=t.invalid,i=t.id,a=t.hidden,c=t.required,u=t.role,s=t.tabIndex,l=t.className,d=W(t,aq);return Ar("div",{className:q("utrecht-form-toggle","utrecht-form-toggle--html-checkbox",{"utrecht-form-toggle--disabled":n,"utrecht-form-toggle--invalid":o,"utrecht-form-toggle--required":c},l),hidden:a,children:[j("input",cq({id:i,"aria-invalid":o||void 0,type:"checkbox",className:"utrecht-form-toggle__checkbox",defaultChecked:r||void 0,disabled:n||void 0,required:c,ref:e,role:u,tabIndex:s},d)),j("label",{htmlFor:i,className:"utrecht-form-toggle__track",children:j("div",{className:"utrecht-form-toggle__thumb"})})]})});uq.displayName="FormToggle";var sq=`@charset "UTF-8";.utrecht-html{--utrecht-space-around:1}.utrecht-html article{max-inline-size:var(--utrecht-article-max-inline-size)}.utrecht-html blockquote{--utrecht-document-color:var(--utrecht-blockquote-content-color,inherit);--utrecht-paragraph-font-size:var(--utrecht-blockquote-content-font-size,inherit);--utrecht-space-around:1;background-color:var(--utrecht-blockquote-background-color);color:var(--utrecht-blockquote-color);color:var(--utrecht-blockquote-content-color,inherit);font-family:var(--utrecht-document-font-family);font-size:var(--utrecht-blockquote-font-size);font-size:var(--utrecht-blockquote-content-font-size,inherit);font-style:var(--utrecht-blockquote-font-style);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-blockquote-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-blockquote-margin-block-start, 0));margin-inline-end:var(--utrecht-blockquote-margin-inline-end);margin-inline-start:var(--utrecht-blockquote-margin-inline-start);padding-block-end:var(--utrecht-blockquote-padding-block-end);padding-block-start:var(--utrecht-blockquote-padding-block-start);padding-inline-end:var(--utrecht-blockquote-padding-inline-end);padding-inline-start:var(--utrecht-blockquote-padding-inline-start)}.utrecht-html button,.utrecht-html input[type=button i],.utrecht-html input[type=reset i],.utrecht-html input[type=submit i]{--_utrecht-button-background-color:var(
    --_utrecht-button-hint-background-color,var(--_utrecht-button-appearance-background-color,var(--utrecht-button-background-color))
  );--_utrecht-button-color:var(
    --_utrecht-button-hint-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-color))
  );--_utrecht-button-border-color:var(
    --_utrecht-button-hint-border-color,var(--_utrecht-button-appearance-border-color,var(--utrecht-button-border-color,transparent))
  );--_utrecht-button-border-bottom-color:var(
    --_utrecht-button-hint-border-bottom-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-border-bottom-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-border-bottom-color,var(--utrecht-button-border-color,transparent))
        )
      )
    )
  );--_utrecht-button-disabled-background-color:var(
    --_utrecht-button-hint-disabled-background-color,var(
      --_utrecht-button-appearance-disabled-background-color,var(--utrecht-button-disabled-background-color,var(--utrecht-button-background-color))
    )
  );--_utrecht-button-disabled-border-color:var(
    --_utrecht-button-hint-disabled-border-color,var(
      --_utrecht-button-appearance-disabled-border-color,var(--utrecht-button-disabled-border-color,var(--utrecht-button-border-color))
    )
  );--_utrecht-button-disabled-color:var(
    --_utrecht-button-hint-disabled-color,var(--_utrecht-button-appearance-disabled-color,var(--utrecht-button-disabled-color,var(--utrecht-button-color)))
  );--_utrecht-button-pressed-background-color:var(
    --_utrecht-button-hint-pressed-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-pressed-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-pressed-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-pressed-border-color:var(
    --_utrecht-button-hint-pressed-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-pressed-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-pressed-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-pressed-color:var(
    --_utrecht-button-hint-pressed-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-pressed-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-pressed-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-focus-background-color:var(
    --_utrecht-button-hint-focus-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-focus-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-focus-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-focus-border-color:var(
    --_utrecht-button-hint-focus-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-focus-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-focus-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-focus-color:var(
    --_utrecht-button-hint-focus-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-focus-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-focus-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-hover-background-color:var(
    --_utrecht-button-hint-hover-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-hover-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-hover-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-hover-border-color:var(
    --_utrecht-button-hint-hover-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-hover-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-hover-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-hover-color:var(
    --_utrecht-button-hint-hover-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-hover-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-hover-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-active-background-color:var(
    --_utrecht-button-hint-active-background-color,var(
      --_utrecht-button-hint-background-color,var(
        --_utrecht-button-appearance-active-background-color,var(
          --_utrecht-button-appearance-background-color,var(--utrecht-button-active-background-color,var(--utrecht-button-background-color))
        )
      )
    )
  );--_utrecht-button-active-border-color:var(
    --_utrecht-button-hint-active-border-color,var(
      --_utrecht-button-hint-border-color,var(
        --_utrecht-button-appearance-active-border-color,var(
          --_utrecht-button-appearance-border-color,var(--utrecht-button-active-border-color,var(--utrecht-button-border-color))
        )
      )
    )
  );--_utrecht-button-active-color:var(
    --_utrecht-button-hint-active-color,var(
      --_utrecht-button-hint-color,var(
        --_utrecht-button-appearance-active-color,var(--_utrecht-button-appearance-color,var(--utrecht-button-active-color,var(--utrecht-button-color)))
      )
    )
  );--_utrecht-button-border-width:var(--_utrecht-button-appearance-border-width,var(--utrecht-button-border-width,0));--_utrecht-button-border-block-end-width:var(
    --utrecht-button-border-bottom-width,var(--_utrecht-button-border-width,0)
  );--utrecht-icon-size:var(--utrecht-button-icon-size,1em);align-items:center;background-color:var(--_utrecht-button-background-color);border-block-end-color:var(--_utrecht-button-border-bottom-color);border-block-end-width:var(--_utrecht-button-border-block-end-width);border-color:var(--_utrecht-button-border-color);border-radius:var(--utrecht-button-border-radius);border-style:solid;border-width:var(--_utrecht-button-border-width);box-sizing:border-box;color:var(--_utrecht-button-color);cursor:var(--utrecht-action-activate-cursor,revert);display:inline-flex;font-family:var(--utrecht-button-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-button-font-size,var(--utrecht-document-font-family,inherit));font-weight:var(--_utrecht-button-appearance-font-weight,var(--utrecht-button-font-weight));gap:var(--utrecht-button-icon-gap);inline-size:var(--utrecht-button-inline-size,auto);justify-content:center;line-height:var(--utrecht-button-line-height);margin-block-end:var(--utrecht-button-margin-block-end);margin-block-start:var(--utrecht-button-margin-block-start);margin-inline-end:var(--utrecht-button-margin-inline-end);margin-inline-start:var(--utrecht-button-margin-inline-start);min-block-size:var(--utrecht-button-min-block-size,44px);min-inline-size:var(--utrecht-button-min-inline-size,44px);padding-block-end:var(--utrecht-button-padding-block-end);padding-block-start:var(--utrecht-button-padding-block-start);padding-inline-end:var(--utrecht-button-padding-inline-end);padding-inline-start:var(--utrecht-button-padding-inline-start);text-transform:var(--utrecht-button-text-transform);-webkit-user-select:none;user-select:none}.utrecht-html button[type=submit i],.utrecht-html input[type=submit i]{cursor:var(--utrecht-action-submit-cursor,revert)}.utrecht-html button:disabled,.utrecht-html button[aria-disabled=true]{background-color:var(--_utrecht-button-disabled-background-color);border-color:var(--_utrecht-button-disabled-border-color);color:var(--_utrecht-button-disabled-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-html button:disabled[aria-busy=true],.utrecht-html button[aria-busy=true],.utrecht-html button[aria-disabled=true][aria-busy=true]{cursor:var(--utrecht-action-busy-cursor,wait)}.utrecht-html button:active:not([aria-disabled=true],:disabled){background-color:var(--_utrecht-button-active-background-color);border-color:var(--_utrecht-button-active-border-color);color:var(--_utrecht-button-active-color)}.utrecht-html button:hover:not([aria-disabled=true],:disabled){background-color:var(--_utrecht-button-hover-background-color);border-color:var(--_utrecht-button-hover-border-color);color:var(--_utrecht-button-hover-color);scale:var(--utrecht-button-hover-scale,1)}.utrecht-html button:focus:not([aria-disabled=true],:disabled){background-color:var(--_utrecht-button-focus-background-color);border-color:var(--_utrecht-button-focus-border-color);color:var(--_utrecht-button-focus-color);scale:var(--utrecht-button-focus-scale,1)}.utrecht-html button:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html input[type=checkbox i]{cursor:var(--utrecht-action-activate-cursor,revert);margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;-webkit-user-select:none;user-select:none}.utrecht-html input[type=checkbox i]:disabled{cursor:var(--utrecht-action-disabled-cursor,revert)}.utrecht-html input[type=checkbox i]:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html input[type=checkbox i]:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-html body{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;background-color:var(--utrecht-document-background-color,inherit);color:var(--utrecht-document-color,inherit);font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-document-font-size,inherit);font-weight:var(--utrecht-document-font-weight,inherit);line-height:var(--utrecht-document-line-height,inherit);text-rendering:optimizeLegibility}.utrecht-html body :lang(ar){letter-spacing:0!important}.utrecht-html code{background-color:var(--utrecht-code-background-color);color:var(--utrecht-code-color);font-family:var(--utrecht-code-font-family,monospace),monospace;font-size:var(--utrecht-code-font-size);font-variant-ligatures:none;line-height:var(--utrecht-code-line-height)}.utrecht-html em{font-style:var(--utrecht-emphasis-stressed-font-style,italic)}.utrecht-html strong{font-weight:var(--utrecht-emphasis-strong-font-weight,bold)}.utrecht-html fieldset{--utrecht-space-around:1;all:revert;border:0;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-margin-block-start, 0));margin-inline-end:0;margin-inline-start:0;min-inline-size:0;padding-block-end:0;padding-block-start:.01em;padding-inline-end:0;padding-inline-start:0}.utrecht-html figure{margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-figure-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-figure-margin-block-start, 0))}.utrecht-html figcaption{color:var(--utrecht-figure-caption-color);font-size:var(--utrecht-figure-caption-font-size);line-height:var(--utrecht-figure-caption-line-height)}.utrecht-html form{max-inline-size:var(--utrecht-form-max-inline-size)}.utrecht-html legend{color:var(--utrecht-form-fieldset-legend-color,var(--utrecht-document-color,inherit));display:table;font-family:var(--utrecht-form-fieldset-legend-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-form-fieldset-legend-font-size);font-weight:var(--utrecht-form-fieldset-legend-font-weight);inline-size:100%;line-height:var(--utrecht-form-fieldset-legend-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-legend-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-form-fieldset-legend-margin-block-start, 0));padding-inline-end:0;padding-inline-start:0;page-break-after:avoid;page-break-inside:avoid}.utrecht-html fieldset:disabled>legend{color:var(--utrecht-form-fieldset-legend-disabled-color,var(--utrecht-form-fieldset-legend-color,var(--utrecht-document-color,inherit)))}.utrecht-html label{color:var(--utrecht-form-label-color);font-size:var(--utrecht-form-label-font-size);font-weight:var(--utrecht-form-label-font-weight)}.utrecht-html input[type=checkbox i]~label{color:var(--utrecht-form-label-checkbox-color,var(--utrecht-form-label-color));cursor:var(--utrecht-action-activate-cursor,revert);font-weight:var(--utrecht-form-label-checkbox-font-weight,var(--utrecht-form-label-font-weight))}.utrecht-html input[type=radio i]~label{color:var(--utrecht-form-label-checkbox-color,var(--utrecht-form-label-color));cursor:var(--utrecht-action-activate-cursor,revert);font-weight:var(--utrecht-form-label-radio-font-weight,var(--utrecht-form-label-font-weight))}.utrecht-html mark{background-color:var(--utrecht-mark-background-color,revert);color:var(--utrecht-mark-color,revert)}@media print{.utrecht-html mark{outline-color:currentColor;outline-style:dotted;outline-width:.1em}}@media screen and (-ms-high-contrast:active){.utrecht-html mark{background-color:Highlight;color:HighlightText}}.utrecht-html h1{color:var(--utrecht-heading-1-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-1-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-1-font-size,revert);font-weight:var(--utrecht-heading-1-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-1-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-1-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-1-margin-block-start, 0))}.utrecht-html h1,.utrecht-html h2{--utrecht-space-around:1;page-break-after:avoid;page-break-inside:avoid}.utrecht-html h2{color:var(--utrecht-heading-2-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-2-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-2-font-size,revert);font-weight:var(--utrecht-heading-2-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-2-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-2-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-2-margin-block-start, 0))}.utrecht-html h3{color:var(--utrecht-heading-3-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-3-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-3-font-size,revert);font-weight:var(--utrecht-heading-3-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-3-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-3-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-3-margin-block-start, 0))}.utrecht-html h3,.utrecht-html h4{--utrecht-space-around:1;page-break-after:avoid;page-break-inside:avoid}.utrecht-html h4{color:var(--utrecht-heading-4-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-4-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-4-font-size,revert);font-weight:var(--utrecht-heading-4-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-4-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-4-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-4-margin-block-start, 0))}.utrecht-html h5{color:var(--utrecht-heading-5-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-5-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-5-font-size,revert);font-weight:var(--utrecht-heading-5-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-5-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-5-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-5-margin-block-start, 0))}.utrecht-html h5,.utrecht-html h6{--utrecht-space-around:1;page-break-after:avoid;page-break-inside:avoid}.utrecht-html h6{color:var(--utrecht-heading-6-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-6-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-6-font-size,revert);font-weight:var(--utrecht-heading-6-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-6-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-6-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-6-margin-block-start, 0))}.utrecht-html hgroup{--utrecht-pre-heading-order:-1;--utrecht-space-around:1;display:flex;flex-direction:column;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-group-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-group-margin-block-start, 0))}.utrecht-html hgroup>*{--utrecht-space-around:0}.utrecht-html a{--utrecht-icon-size:var(--utrecht-link-icon-size,1em);color:var(--_utrecht-link-state-color,var(--utrecht-link-color,var(--_utrecht-link-forced-colors-color)))}.utrecht-html a:visited{--_utrecht-link-forced-colors-color:visitedtext;--_utrecht-link-state-color:var(--utrecht-link-visited-color)}.utrecht-html a:hover{--_utrecht-link-forced-colors-color:linktext;--_utrecht-link-state-color:var(--utrecht-link-hover-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-hover-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-hover-text-decoration-thickness);text-decoration-skip:none;text-decoration-skip-ink:none}.utrecht-html a:active{--_utrecht-link-forced-colors-color:activetext;--_utrecht-link-state-color:var(--utrecht-link-active-color)}.utrecht-html a:focus{--_utrecht-link-state-color:var(--utrecht-link-focus-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-focus-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-focus-text-decoration-thickness);text-decoration-skip:none;--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-link-focus-background-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert);text-decoration-skip-ink:none;z-index:var(--utrecht-stack-focus-z-index,1)}.utrecht-html a:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-html a[href^="tel:" i]{white-space:nowrap}.utrecht-html ol{--utrecht-space-around:1;box-sizing:border-box;font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-ordered-list-font-size,var(--utrecht-unordered-list-font-size,var(--utrecht-document-font-size,inherit)));line-height:var(--utrecht-ordered-list-font-size,var(--utrecht-unordered-list-line-height,var(--utrecht-document-line-height,inherit)));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-ordered-list-margin-block-end, var(--utrecht-unordered-list-margin-block-end, 0)));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-ordered-list-margin-block-start, var(--utrecht-unordered-list-margin-block-start, 0)));padding-inline-start:var(--utrecht-ordered-list-padding-inline-start,var(--utrecht-unordered-list-padding-inline-start,2ch));text-align:start}.utrecht-html ol>li{margin-block-end:var(--utrecht-ordered-list-item-margin-block-end,var(--utrecht-unordered-list-item-margin-block-end));margin-block-start:var(--utrecht-ordered-list-item-margin-block-start,var(--utrecht-unordered-list-item-margin-block-start));padding-inline-start:var(--utrecht-ordered-list-item-padding-inline-start,var(--utrecht-unordered-list-item-padding-inline-start,1ch))}.utrecht-html ol:lang(ar){list-style:arabic-indic}.utrecht-html p{color:var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit));font-family:var(--utrecht-paragraph-font-family,var(--utrecht-document-font-family,inherit));font-size:var(--utrecht-paragraph-font-size,var(--utrecht-document-font-size,inherit));font-weight:var(--utrecht-paragraph-font-weight,inherit);line-height:var(--utrecht-paragraph-line-height,var(--utrecht-document-line-height,inherit));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-paragraph-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-paragraph-margin-block-start, 0))}.utrecht-html p.lead{color:var(--utrecht-paragraph-lead-color,var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit)));font-size:var(--utrecht-paragraph-lead-font-size,var(--utrecht-paragraph-font-size,inherit));font-weight:var(--utrecht-paragraph-lead-font-weight,var(--utrecht-paragraph-font-weight,inherit));line-height:var(--utrecht-paragraph-lead-line-height,var(--utrecht-paragraph-line-height,inherit))}.utrecht-html *~p{--utrecht-space-around:1}.utrecht-html p:has(>small:only-child){color:var(--utrecht-paragraph-small-color,var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit)));font-size:var(--utrecht-paragraph-small-font-size,var(--utrecht-paragraph-font-size,inherit));font-weight:var(--utrecht-paragraph-small-font-weight,var(--utrecht-paragraph-font-weight,inherit));line-height:var(--utrecht-paragraph-small-line-height,var(--utrecht-paragraph-line-height,inherit))}.utrecht-html p>small:only-child{font-size:inherit}.utrecht-html pre:has(>code:only-child){--utrecht-code-color:var(--utrecht-code-block-color,inherit);--utrecht-code-background-color:var(--utrecht-code-block-background-color,inherit);--utrecht-code-font-weight:var(--utrecht-code-block-font-weight,inherit);--utrecht-code-font-size:var(--utrecht-code-block-font-size,inherit);--utrecht-code-font-family:var(--utrecht-code-block-font-family,monospace);background-color:var(--utrecht-code-background-color);background-color:var(--utrecht-code-block-background-color);color:var(--utrecht-code-color);display:block;font-family:var(--utrecht-code-font-family,monospace),monospace;font-size:var(--utrecht-code-font-size);font-size:var(--utrecht-code-block-font-size,var(--utrecht-code-font-size));font-variant-ligatures:none;line-height:var(--utrecht-code-line-height);line-height:var(--utrecht-code-block-line-height,var(--utrecht-code-line-height));margin-block-end:var(--utrecht-code-block-margin-block-end);margin-block-start:var(--utrecht-code-block-margin-block-start);margin-inline-end:var(--utrecht-code-block-margin-inline-end);margin-inline-start:var(--utrecht-code-block-margin-inline-start);padding-block-end:var(--utrecht-code-block-padding-block-end);padding-block-start:var(--utrecht-code-block-padding-block-start);padding-inline-end:var(--utrecht-code-block-padding-inline-end);padding-inline-start:var(--utrecht-code-block-padding-inline-start);white-space:pre}.utrecht-html pre:has(>code:only-child)>code{display:contents}.utrecht-html input[type=radio i]{--_utrecht-radio-button-background-color:var(
    --_utrecht-radio-button-interactive-background-color,var(--_utrecht-radio-button-state-background-color,var(--utrecht-radio-button-background-color))
  );--_utrecht-radio-button-border-color:var(
    --_utrecht-radio-button-interactive-border-color,var(--_utrecht-radio-button-state-border-color,var(--utrecht-radio-button-border-color,currentColor))
  );--_utrecht-radio-button-border-width:var(
    --_utrecht-radio-button-interactive-border-width,var(--_utrecht-radio-button-state-border-width,var(--utrecht-radio-button-border-width))
  );--_utrecht-radio-button-color:var(
    --_utrecht-radio-button-interactive-color,var(--_utrecht-radio-button-state-color,var(--utrecht-radio-button-color,currentColor))
  );--_utrecht-radio-button-icon-size:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--_utrecht-radio-button-background-color);background-image:radial-gradient(circle,var(--_utrecht-radio-button-color,transparent) calc(var(--_utrecht-radio-button-icon-size, 50%) - 5%),var(--_utrecht-radio-button-background-color,currentColor) var(--_utrecht-radio-button-icon-size,50%));background-position:50%;background-repeat:no-repeat;background-size:contain;block-size:var(--utrecht-radio-button-size,1em);border-color:var(--_utrecht-radio-button-border-color);border-radius:50%;border-style:solid;border-width:var(--_utrecht-radio-button-border-width);cursor:var(--utrecht-action-activate-cursor,revert);inline-size:var(--utrecht-radio-button-size,1em);margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-end:var(--utrecht-radio-button-margin-inline-end);margin-inline-start:0;min-block-size:24px;min-inline-size:24px;-webkit-print-color-adjust:exact;print-color-adjust:exact;-webkit-user-select:none;user-select:none;vertical-align:top}.utrecht-html input[type=radio i]:checked{--_utrecht-radio-button-icon-size:var(--utrecht-radio-button-icon-size,50%);--_utrecht-radio-button-state-background-color:var(--utrecht-radio-button-checked-background-color);--_utrecht-radio-button-state-border-color:var(--utrecht-radio-button-checked-border-color);--_utrecht-radio-button-state-border-width:var(--utrecht-radio-button-checked-border-width);--_utrecht-radio-button-state-color:var(--utrecht-radio-button-checked-color);--_utrecht-radio-button-state-active-background-color:var(--utrecht-radio-button-checked-active-background-color);--_utrecht-radio-button-state-active-border-color:var(--utrecht-radio-button-checked-active-border-color);--_utrecht-radio-button-state-active-border-width:var(--utrecht-radio-button-checked-active-border-width);--_utrecht-radio-button-state-active-color:var(--utrecht-radio-button-checked-active-color);--_utrecht-radio-button-state-focus-background-color:var(--utrecht-radio-button-checked-focus-background-color);--_utrecht-radio-button-state-focus-border-color:var(--utrecht-radio-button-checked-focus-border-color);--_utrecht-radio-button-state-focus-border-width:var(--utrecht-radio-button-checked-focus-border-width);--_utrecht-radio-button-state-focus-color:var(--utrecht-radio-button-checked-focus-color);--_utrecht-radio-button-state-hover-background-color:var(--utrecht-radio-button-checked-hover-background-color);--_utrecht-radio-button-state-hover-border-color:var(--utrecht-radio-button-checked-hover-border-color);--_utrecht-radio-button-state-hover-border-width:var(--utrecht-radio-button-checked-hover-border-width);--_utrecht-radio-button-state-hover-color:var(--utrecht-radio-button-checked-hover-color)}.utrecht-html input[type=radio i]:disabled{--_utrecht-radio-button-background-color:var(--utrecht-radio-button-disabled-background-color);--_utrecht-radio-button-border-color:var(--utrecht-radio-button-disabled-border-color);--_utrecht-radio-button-border-width:var(--utrecht-radio-button-disabled-border-width);--_utrecht-radio-button-color:var(--utrecht-radio-button-disabled-color);--_utrecht-radio-button-focus-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-focus-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-focus-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-focus-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-active-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-active-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-active-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-active-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-hover-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-hover-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-hover-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-hover-color:var(--_utrecht-radio-button-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-html input[type=radio i]:invalid,.utrecht-html input[type=radio i][aria-invalid=true]{border-color:var(--utrecht-radio-button-invalid-border-color,var(--utrecht-radio-button-border-color));border-width:var(--utrecht-radio-button-invalid-border-width,var(--utrecht-radio-button-border-width));color:var(--utrecht-radio-button-invalid-color,var(--utrecht-radio-button-color))}.utrecht-html input[type=radio i]:focus:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --utrecht-radio-button-focus-background-color,var(--utrecht-radio-button-focus-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --utrecht-radio-button-focus-border-color,var(--utrecht-radio-button-focus-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --utrecht-radio-button-focus-border-width,var(--utrecht-radio-button-focus-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --utrecht-radio-button-focus-color,var(--utrecht-radio-button-focus-color)
  )}.utrecht-html input[type=radio i]:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html input[type=radio i]:hover:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-hover-background-color,var(--utrecht-radio-button-hover-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-hover-border-color,var(--utrecht-radio-button-hover-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-hover-border-width,var(--utrecht-radio-button-hover-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-hover-color,var(--utrecht-radio-button-hover-color)
  )}.utrecht-html input[type=radio i]:active:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-active-background-color,var(--utrecht-radio-button-active-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-active-border-color,var(--utrecht-radio-button-active-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-active-border-width,var(--utrecht-radio-button-active-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-active-color,var(--utrecht-radio-button-active-color)
  )}.utrecht-html select{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:var(--utrecht-select-background-color,var(--utrecht-form-control-background-color));background-image:var(--utrecht-select-background-image);background-position:100%;background-repeat:no-repeat;background-size:1.4em;border-block-end-width:var(--utrecht-select-border-block-end-width,var(--utrecht-select-border-width,var(--utrecht-form-control-border-width)));border-block-start-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-color:var(--utrecht-select-border-color,var(--utrecht-form-control-border-color));border-inline-end-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-inline-start-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-radius:var(--utrecht-select-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;color:var(--utrecht-select-color,var(--utrecht-form-control-color));font-family:var(--utrecht-select-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-select-font-size,var(--utrecht-form-control-font-size));inline-size:100%;max-inline-size:var(--utrecht-select-max-inline-size,var(--utrecht-form-control-max-inline-size));padding-block-end:var(--utrecht-select-padding-block-end,var(--utrecht-form-control-padding-block-end));padding-block-start:var(--utrecht-select-padding-block-start,var(--utrecht-form-control-padding-block-start));padding-inline-end:var(--utrecht-select-padding-inline-end,var(--utrecht-form-control-padding-inline-end));padding-inline-start:var(--utrecht-select-padding-inline-start,var(--utrecht-form-control-padding-inline-start))}.utrecht-html select:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-select-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-select-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-select-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html select:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-html select:disabled{background-color:var(--utrecht-select-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-select-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-select-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-html select[aria-invalid=true]{--_utrecht-select-border-width:var(
    --utrecht-select-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-select-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-select-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-select-border-width);border-block-end-width:var(--utrecht-select-invalid-border-block-end-width,var(--utrecht-form-control-invalid-border-block-end-width,var(--utrecht-select-border-block-end-width,var(--utrecht-form-control-border-block-end-width,var(--_utrecht-select-border-width)))));border-color:var(--utrecht-select-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))))}.utrecht-html hr{border-color:var(--utrecht-separator-color);border-width:0 0 var(--utrecht-separator-block-size) 0;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-separator-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-separator-margin-block-start, 0))}.utrecht-html hr,.utrecht-html table{--utrecht-space-around:1;border-style:solid}.utrecht-html table{border-collapse:separate;border-color:var(--utrecht-table-border-color,0);border-spacing:0;border-width:var(--utrecht-table-border-width,0);font-family:var(--utrecht-table-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-table-font-size,inherit);inline-size:100%;line-height:var(--utrecht-table-line-height,inherit);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-table-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-table-margin-block-start, 0))}.utrecht-html caption{color:var(--utrecht-table-caption-color);font-family:var(--utrecht-table-caption-font-family);font-size:var(--utrecht-table-caption-font-size);font-weight:var(--utrecht-table-caption-font-weight);line-height:var(--utrecht-table-caption-line-height);margin-block-end:var(--utrecht-table-caption-margin-block-end);page-break-after:avoid;text-align:var(--utrecht-table-caption-text-align,center)}.utrecht-html thead{--_utrecht-table-header-cell-vertical-align:bottom;--_utrecht-table-header-cell-z-index:8;background-color:var(--utrecht-table-header-background-color);color:var(--utrecht-table-header-color);font-weight:var(--utrecht-table-header-font-weight);page-break-inside:avoid;text-transform:var(--utrecht-table-header-text-transform)}.utrecht-html tbody{--_utrecht-table-header-cell-z-index:2}.utrecht-html th{color:var(--utrecht-table-header-cell-color);font-size:var(--utrecht-table-header-cell-font-size);font-weight:var(--utrecht-table-header-cell-font-weight,bold);text-transform:var(--utrecht-table-header-cell-text-transform);vertical-align:var(--_utrecht-table-header-cell-vertical-align,top);z-index:var(--_utrecht-table-header-cell-z-index)}.utrecht-html td,.utrecht-html th{--utrecht-icon-size:var(--utrecht-table-cell-icon-size);block-size:var(--utrecht-table-cell-line-height,1em);line-height:var(--utrecht-table-cell-line-height,inherit);padding-block-end:var(--utrecht-table-cell-padding-block-end,0);padding-block-start:var(--utrecht-table-cell-padding-block-start,0);padding-inline-end:var(--utrecht-table-cell-padding-inline-end,0);padding-inline-start:var(--utrecht-table-cell-padding-inline-start,0);text-align:start}.utrecht-html td,.utrecht-html th{border-block-end-color:var(--utrecht-table-row-border-block-end-color,transparent);border-block-end-style:solid;border-block-end-width:var(--utrecht-table-row-border-block-end-width,0);vertical-align:top}.utrecht-html td:first-child,.utrecht-html th:first-child{padding-inline-start:var(--utrecht-table-row-padding-inline-start,var(--utrecht-table-cell-padding-inline-start,0))}.utrecht-html td:last-child,.utrecht-html th:last-child{padding-inline-end:var(--utrecht-table-row-padding-inline-end,var(--utrecht-table-cell-padding-inline-end,0))}.utrecht-html thead tr:last-child th{border-block-end-color:var(--utrecht-table-header-border-block-end-color,transparent);border-block-end-style:solid;border-block-end-width:var(--utrecht-table-header-border-block-end-width,0)}.utrecht-html td.numeric,.utrecht-html tfoot>tr>th.numeric,.utrecht-html th[scope=column].numeric,.utrecht-html thead>tr>th.numeric{--_utrecht-table-cell-text-align:right;text-align:var(--_utrecht-table-cell-text-align)}.utrecht-html td.numeric{font-variant-numeric:lining-nums tabular-nums}.utrecht-html table.alternate-row-color>tr:nth-child(2n)>td,.utrecht-html table.alternate-row-color>tr:nth-child(2n)>th{background-color:var(--utrecht-table-row-alternate-even-background-color);color:var(--utrecht-table-row-alternate-even-color)}.utrecht-html table.alternate-row-color>tr:nth-child(odd)>td,.utrecht-html table.alternate-row-color>tr:nth-child(odd)>th{background-color:var(--utrecht-table-row-alternate-odd-background-color);color:var(--utrecht-table-row-alternate-odd-color)}.utrecht-html table.alternate-row-color>tbody>tr:nth-child(2n)>td,.utrecht-html table.alternate-row-color>tbody>tr:nth-child(2n)>th{background-color:var(--utrecht-table-row-alternate-even-background-color);color:var(--utrecht-table-row-alternate-even-color)}.utrecht-html table.alternate-row-color>tbody>tr:nth-child(odd)>td,.utrecht-html table.alternate-row-color>tbody>tr:nth-child(odd)>th{background-color:var(--utrecht-table-row-alternate-odd-background-color);color:var(--utrecht-table-row-alternate-odd-color)}.utrecht-html textarea{background-color:var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color));block-size:auto;border-width:var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width));border-block-end-width:var(--utrecht-textarea-border-bottom-width,var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width)));border-color:var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color));border-radius:var(--utrecht-textarea-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;box-sizing:border-box;color:var(--utrecht-textarea-color,var(--utrecht-form-control-color));font-family:var(--utrecht-textarea-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-textarea-font-size,var(--utrecht-form-control-font-size,inherit));font-weight:400;inline-size:100%;line-height:var(--utrecht-textarea-line-height,initial);max-inline-size:var(--utrecht-textarea-max-inline-size,var(--utrecht-form-control-max-inline-size));min-block-size:var(--utrecht-textarea-min-block-size);padding-block-end:var(--utrecht-textarea-padding-block-end,var(--utrecht-form-control-padding-block-end,0));padding-block-start:var(--utrecht-textarea-padding-block-start,var(--utrecht-form-control-padding-block-start,0));padding-inline-end:var(--utrecht-textarea-padding-inline-end,var(--utrecht-form-control-padding-inline-end,initial));padding-inline-start:var(--utrecht-textarea-padding-inline-start,var(--utrecht-form-control-padding-inline-start,initial));resize:vertical;resize:block}.utrecht-html textarea:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-textarea-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-textarea-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html textarea:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-html textarea:invalid,.utrecht-html textarea[aria-invalid=true]{--_utrecht-textarea-border-width:var(
    --utrecht-textarea-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textarea-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textarea-border-width);border-block-end-width:var(--utrecht-textarea-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textarea-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textarea-border-width)))));border-color:var(--utrecht-textarea-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-html textarea:read-only{background-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textarea-border,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textarea-border,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-html textarea:disabled{background-color:var(--utrecht-textarea-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-html textarea::placeholder{color:var(--utrecht-textarea-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}.utrecht-html input:not([type]),.utrecht-html input[type=date i],.utrecht-html input[type=datetime-local i],.utrecht-html input[type=email i],.utrecht-html input[type=month i],.utrecht-html input[type=number i],.utrecht-html input[type=password i],.utrecht-html input[type=search i],.utrecht-html input[type=tel i],.utrecht-html input[type=text i],.utrecht-html input[type=time i],.utrecht-html input[type=url i],.utrecht-html input[type=week i]{background-color:var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color));block-size:auto;border-width:var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width));border-block-end-width:var(--utrecht-textbox-border-bottom-width,var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width)));border-color:var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color));border-radius:var(--utrecht-textbox-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;box-sizing:border-box;color:var(--utrecht-textbox-color,var(--utrecht-form-control-color));font-family:var(--utrecht-textbox-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-textbox-font-size,var(--utrecht-form-control-font-size,inherit));font-weight:400;inline-size:100%;line-height:var(--utrecht-textbox-line-height,var(--utrecht-form-control-line-height,initial));max-inline-size:var(--utrecht-textbox-max-inline-size,var(--utrecht-form-control-max-inline-size));padding-block-end:var(--utrecht-textbox-padding-block-end,var(--utrecht-form-control-padding-block-end,0));padding-block-start:var(--utrecht-textbox-padding-block-start,var(--utrecht-form-control-padding-block-start,0));padding-inline-end:var(--utrecht-textbox-padding-inline-end,var(--utrecht-form-control-padding-inline-end,initial));padding-inline-start:var(--utrecht-textbox-padding-inline-start,var(--utrecht-form-control-padding-inline-start,initial))}.utrecht-html input:not([type]):focus,.utrecht-html input[type=date i]:focus,.utrecht-html input[type=datetime-local i]:focus,.utrecht-html input[type=email i]:focus,.utrecht-html input[type=month i]:focus,.utrecht-html input[type=number i]:focus,.utrecht-html input[type=password i]:focus,.utrecht-html input[type=search i]:focus,.utrecht-html input[type=tel i]:focus,.utrecht-html input[type=text i]:focus,.utrecht-html input[type=time i]:focus,.utrecht-html input[type=url i]:focus,.utrecht-html input[type=week i]:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-textbox-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-textbox-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-html input:not([type]):focus:not(:focus-visible),.utrecht-html input[type=date i]:focus:not(:focus-visible),.utrecht-html input[type=datetime-local i]:focus:not(:focus-visible),.utrecht-html input[type=email i]:focus:not(:focus-visible),.utrecht-html input[type=month i]:focus:not(:focus-visible),.utrecht-html input[type=number i]:focus:not(:focus-visible),.utrecht-html input[type=password i]:focus:not(:focus-visible),.utrecht-html input[type=search i]:focus:not(:focus-visible),.utrecht-html input[type=tel i]:focus:not(:focus-visible),.utrecht-html input[type=text i]:focus:not(:focus-visible),.utrecht-html input[type=time i]:focus:not(:focus-visible),.utrecht-html input[type=url i]:focus:not(:focus-visible),.utrecht-html input[type=week i]:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-html input:not([type]):invalid,.utrecht-html input:not([type])[aria-invalid=true],.utrecht-html input[type=date i]:invalid,.utrecht-html input[type=date i][aria-invalid=true],.utrecht-html input[type=datetime-local i]:invalid,.utrecht-html input[type=datetime-local i][aria-invalid=true],.utrecht-html input[type=email i]:invalid,.utrecht-html input[type=email i][aria-invalid=true],.utrecht-html input[type=month i]:invalid,.utrecht-html input[type=month i][aria-invalid=true],.utrecht-html input[type=number i]:invalid,.utrecht-html input[type=number i][aria-invalid=true],.utrecht-html input[type=password i]:invalid,.utrecht-html input[type=password i][aria-invalid=true],.utrecht-html input[type=search i]:invalid,.utrecht-html input[type=search i][aria-invalid=true],.utrecht-html input[type=tel i]:invalid,.utrecht-html input[type=tel i][aria-invalid=true],.utrecht-html input[type=text i]:invalid,.utrecht-html input[type=text i][aria-invalid=true],.utrecht-html input[type=time i]:invalid,.utrecht-html input[type=time i][aria-invalid=true],.utrecht-html input[type=url i]:invalid,.utrecht-html input[type=url i][aria-invalid=true],.utrecht-html input[type=week i]:invalid,.utrecht-html input[type=week i][aria-invalid=true]{--_utrecht-textbox-border-width:var(
    --utrecht-textbox-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textbox-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textbox-border-width);border-block-end-width:var(--utrecht-textbox-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textbox-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textbox-border-width)))));border-color:var(--utrecht-textbox-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-html input:not([type]):read-only,.utrecht-html input[type=date i]:read-only,.utrecht-html input[type=datetime-local i]:read-only,.utrecht-html input[type=email i]:read-only,.utrecht-html input[type=month i]:read-only,.utrecht-html input[type=number i]:read-only,.utrecht-html input[type=password i]:read-only,.utrecht-html input[type=search i]:read-only,.utrecht-html input[type=tel i]:read-only,.utrecht-html input[type=text i]:read-only,.utrecht-html input[type=time i]:read-only,.utrecht-html input[type=url i]:read-only,.utrecht-html input[type=week i]:read-only{background-color:var(--utrecht-textbox-read-only-background-color,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-read-only-border-color,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-html input:not([type]):disabled,.utrecht-html input[type=date i]:disabled,.utrecht-html input[type=datetime-local i]:disabled,.utrecht-html input[type=email i]:disabled,.utrecht-html input[type=month i]:disabled,.utrecht-html input[type=number i]:disabled,.utrecht-html input[type=password i]:disabled,.utrecht-html input[type=search i]:disabled,.utrecht-html input[type=tel i]:disabled,.utrecht-html input[type=text i]:disabled,.utrecht-html input[type=time i]:disabled,.utrecht-html input[type=url i]:disabled,.utrecht-html input[type=week i]:disabled{background-color:var(--utrecht-textbox-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-html input:not([type])::placeholder,.utrecht-html input[type=date i]::placeholder,.utrecht-html input[type=datetime-local i]::placeholder,.utrecht-html input[type=email i]::placeholder,.utrecht-html input[type=month i]::placeholder,.utrecht-html input[type=number i]::placeholder,.utrecht-html input[type=password i]::placeholder,.utrecht-html input[type=search i]::placeholder,.utrecht-html input[type=tel i]::placeholder,.utrecht-html input[type=text i]::placeholder,.utrecht-html input[type=time i]::placeholder,.utrecht-html input[type=url i]::placeholder,.utrecht-html input[type=week i]::placeholder{color:var(--utrecht-textbox-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}.utrecht-html input[autocomplete~=current-password i],.utrecht-html input[autocomplete~=new-password i],.utrecht-html input[type=password i]{font-variant-ligatures:none;font-variant-numeric:slashed-zero}.utrecht-html input[autocomplete~=bday i],.utrecht-html input[autocomplete~=bday-day i],.utrecht-html input[autocomplete~=bday-month i],.utrecht-html input[autocomplete~=bday-year i],.utrecht-html input[autocomplete~=cc-csc i],.utrecht-html input[autocomplete~=cc-exp i],.utrecht-html input[autocomplete~=cc-exp-month i],.utrecht-html input[autocomplete~=cc-exp-year i],.utrecht-html input[autocomplete~=cc-number i],.utrecht-html input[autocomplete~=one-time-code i],.utrecht-html input[autocomplete~=postal-code i],.utrecht-html input[autocomplete~=tel i],.utrecht-html input[autocomplete~=tel-area-code i],.utrecht-html input[autocomplete~=tel-country-code i],.utrecht-html input[autocomplete~=tel-extension i],.utrecht-html input[autocomplete~=tel-local i],.utrecht-html input[autocomplete~=tel-national i],.utrecht-html input[autocomplete~=transaction-amount i],.utrecht-html input[inputmode=decimal i],.utrecht-html input[inputmode=numeric i],.utrecht-html input[inputmode=tel i],.utrecht-html input[type=number i],.utrecht-html input[type=tel i]{-moz-appearance:textfield;font-variant-numeric:lining-nums tabular-nums}.utrecht-html input[inputmode=email i],.utrecht-html input[inputmode=url i],.utrecht-html input[type=email i],.utrecht-html input[type=url i]{font-variant-ligatures:none}.utrecht-html ul{--utrecht-space-around:1;box-sizing:border-box;font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-unordered-list-font-size,var(--utrecht-document-font-size,inherit));line-height:var(--utrecht-unordered-list-line-height,var(--utrecht-document-line-height,inherit));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-unordered-list-margin-block-end, var(--utrecht-paragraph-margin-block-end, 0)));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-unordered-list-margin-block-start, var(--utrecht-paragraph-margin-block-start, 0)));padding-inline-start:var(--utrecht-unordered-list-padding-inline-start,2ch);text-align:start}.utrecht-html ul>li{margin-block-end:var(--utrecht-unordered-list-item-margin-block-end);margin-block-start:var(--utrecht-unordered-list-item-margin-block-start);padding-inline-start:var(--utrecht-unordered-list-item-padding-inline-start,1ch)}.utrecht-html ul>li::marker{color:var(--utrecht-unordered-list-marker-color);content:"●"}`;nt(sq);var lq=["children","className"];function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function YE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,lq);return j("div",YE(YE({},o),{},{ref:e,className:q("utrecht-html",n),children:r}))});dq.displayName="HTMLContent";var fq=".utrecht-heading-1{color:var(--utrecht-heading-1-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-1-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-1-font-size,revert);font-weight:var(--utrecht-heading-1-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-1-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-1-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-1-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-1--distanced{--utrecht-space-around:1}";nt(fq);var hq=".utrecht-heading-2{color:var(--utrecht-heading-2-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-2-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-2-font-size,revert);font-weight:var(--utrecht-heading-2-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-2-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-2-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-2-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-2--distanced{--utrecht-space-around:1}";nt(hq);var pq=".utrecht-heading-3{color:var(--utrecht-heading-3-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-3-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-3-font-size,revert);font-weight:var(--utrecht-heading-3-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-3-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-3-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-3-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-3--distanced{--utrecht-space-around:1}";nt(pq);var gq=".utrecht-heading-4{color:var(--utrecht-heading-4-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-4-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-4-font-size,revert);font-weight:var(--utrecht-heading-4-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-4-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-4-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-4-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-4--distanced{--utrecht-space-around:1}";nt(gq);var bq=".utrecht-heading-5{color:var(--utrecht-heading-5-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-5-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-5-font-size,revert);font-weight:var(--utrecht-heading-5-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-5-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-5-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-5-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-5--distanced{--utrecht-space-around:1}";nt(bq);var mq=".utrecht-heading-6{color:var(--utrecht-heading-6-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-heading-6-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-heading-6-font-size,revert);font-weight:var(--utrecht-heading-6-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-heading-6-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-6-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-6-margin-block-start, 0));page-break-after:avoid;page-break-inside:avoid}.utrecht-heading-6--distanced{--utrecht-space-around:1}";nt(mq);var vq=["children","className"];function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function XE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,vq);return j("h1",XE(XE({},o),{},{ref:e,className:q("utrecht-heading-1",n),children:r}))});yq.displayName="Heading1";var xq=["children","className"];function KE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,xq);return j("h2",QE(QE({},o),{},{ref:e,className:q("utrecht-heading-2",n),children:r}))});wq.displayName="Heading2";var kq=["children","className"];function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ZE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _q=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,kq);return j("h3",ZE(ZE({},o),{},{ref:e,className:q("utrecht-heading-3",n),children:r}))});_q.displayName="Heading3";var Oq=["children","className"];function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function eS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Eq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Oq);return j("h4",eS(eS({},o),{},{ref:e,className:q("utrecht-heading-4",n),children:r}))});Eq.displayName="Heading4";var Sq=["children","className"];function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function nS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $q=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Sq);return j("h5",nS(nS({},o),{},{ref:e,className:q("utrecht-heading-5",n),children:r}))});$q.displayName="Heading5";var Cq=["children","className"];function oS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function iS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Aq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Cq);return j("h6",iS(iS({},o),{},{ref:e,className:q("utrecht-heading-6",n),children:r}))});Aq.displayName="Heading6";var Pq=".utrecht-heading-group{--utrecht-pre-heading-order:-1;display:flex;flex-direction:column;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-group-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-heading-group-margin-block-start, 0))}.utrecht-heading-group>*{--utrecht-space-around:0}";nt(Pq);var Nq=["children","className"];function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function cS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Dq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Nq);return j("hgroup",cS(cS({},o),{},{ref:e,className:q("utrecht-heading-group",n),children:r}))});Dq.displayName="HeadingGroup";var jq=".utrecht-iban-data{font-variant-numeric:lining-nums slashed-zero tabular-nums;white-space:nowrap}";nt(jq);var Tq=["children","value","className"];function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function sS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mq=function(e){return e.replace(/[\s+\W]+/g,"").toUpperCase()},Fq=function(e){return e.replace(/(.{4})(?!$)/g,"$1 ")},zq=U.forwardRef(function(t,e){var r=t.children,n=t.value,o=t.className,i=W(t,Tq),a=Mq(n),c=Fq(a);return console.log({value:n,normalized:a,formatted:c}),j("data",sS(sS({},i),{},{ref:e,value:a,className:q("utrecht-iban-data",o),translate:"no",children:r||c}))});zq.displayName="IBANData";var Rq=".utrecht-icon{block-size:var(--utrecht-icon-size);color:var(--utrecht-icon-color);display:inline-block;font-size:var(--utrecht-icon-size);inline-size:var(--utrecht-icon-size);inset-block-start:var(--utrecht-icon-inset-block-start,0);position:relative}.utrecht-icon svg{height:100%;width:100%}";nt(Rq);var Lq=["children","className"];function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Iq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Lq);return j("span",dS(dS({"aria-hidden":"true",ref:e,className:q("utrecht-icon",n)},o),{},{children:r}))});Iq.displayName="Icon";var Bq=".utrecht-img{height:auto;width:auto}.utrecht-img--photo,.utrecht-img--scale-down{max-height:100%;max-width:100%}";nt(Bq);var Uq=["className","photo"];function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function hS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qq=U.forwardRef(function(t,e){var r=t.className,n=t.photo,o=W(t,Uq);return j("img",hS(hS({},o),{},{ref:e,className:q("utrecht-img",{"utrecht-img--photo":n},r)}))});qq.displayName="Image";var Wq=".utrecht-link{--utrecht-icon-size:var(--utrecht-link-icon-size,1em);color:var(--_utrecht-link-state-color,var(--utrecht-link-color,var(--_utrecht-link-forced-colors-color)))}.utrecht-link:any-link{--_utrecht-link-forced-colors-color:linktext;text-decoration-color:var(--_utrecht-link-state-text-decoration-color,var(--utrecht-link-text-decoration-color,currentColor));text-decoration-line:var(--_utrecht-link-state-text-decoration,var(--utrecht-link-text-decoration,underline));text-decoration-skip-ink:all;text-decoration-thickness:max(var(--_utrecht-link-state-text-decoration-thickness,var(--utrecht-link-text-decoration-thickness)),1px);text-underline-offset:var(--utrecht-link-text-underline-offset)}.utrecht-link--icon-left{background-image:var(--utrecht-link-icon-left-background-image,none);background-position:0 .25em;background-repeat:no-repeat;color:var(--utrecht-link-color,LinkText);font-weight:var(--utrecht-typography-weight-scale-bold-font-weight);padding-inline-start:var(--utrecht-space-block-md);text-decoration-line:none}.utrecht-link--visited{--_utrecht-link-forced-colors-color:visitedtext;--_utrecht-link-state-color:var(--utrecht-link-visited-color)}.utrecht-link--hover,.utrecht-link--html-a:any-link:hover{--_utrecht-link-forced-colors-color:linktext;--_utrecht-link-state-color:var(--utrecht-link-hover-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-hover-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-hover-text-decoration-thickness);text-decoration-skip:none;text-decoration-skip-ink:none}.utrecht-link--focus{--_utrecht-link-state-color:var(--utrecht-link-focus-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-focus-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-focus-text-decoration-thickness);text-decoration-skip:none;background-color:var(--utrecht-link-focus-background-color,transparent);text-decoration-skip-ink:none}.utrecht-link--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert);z-index:var(--utrecht-stack-focus-z-index,1)}.utrecht-link--html-a:any-link:focus,.utrecht-link--html-span:focus{--_utrecht-link-state-color:var(--utrecht-link-focus-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-focus-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-focus-text-decoration-thickness);text-decoration-skip:none;--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-link-focus-background-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert);text-decoration-skip-ink:none;z-index:var(--utrecht-stack-focus-z-index,1)}.utrecht-link--html-a:any-link:focus:not(:focus-visible),.utrecht-link--html-span:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-link--active,.utrecht-link--html-a:any-link:active,.utrecht-link--html-span:active{--_utrecht-link-forced-colors-color:activetext;--_utrecht-link-state-color:var(--utrecht-link-active-color)}.utrecht-link--telephone{white-space:nowrap}.utrecht-link--current{cursor:var(--utrecht-action-inert-cursor,normal);font-weight:var(--utrecht-link-current-font-weight)}.utrecht-link--box-content:any-link{color:unset;display:inline-block;text-decoration-line:unset;text-decoration-skip-ink:unset;text-decoration-thickness:unset;text-underline-offset:unset}.utrecht-link--placeholder{--_utrecht-link-forced-colors-color:GrayText;--_utrecht-link-state-color:var(--utrecht-link-placeholder-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed);font-weight:var(--utrecht-link-placeholder-font-weight);text-decoration-line:none}.utrecht-link--forced-colors{--utrecht-focus-outline-color:Highlight;--utrecht-focus-inverse-outline-color:HighlightText;--utrecht-link-color:linktext;--utrecht-link-hover-color:linktext;--utrecht-link-focus-color:linktext;--utrecht-link-active-color:activetext;--utrecht-link-visited-color:visitedtext;--utrecht-link-placeholder-color:GrayText}";nt(Wq);var Hq=".utrecht-link-button{--utrecht-icon-size:var(--utrecht-link-icon-size,1em);--_utrecht-link-forced-colors-color:linktext;--utrecht-icon-size:var(--utrecht-button-icon-size,1em);align-items:center;color:var(--_utrecht-link-state-color,var(--utrecht-link-color,var(--_utrecht-link-forced-colors-color)));cursor:pointer;display:inline-flex;font-family:var(--utrecht-button-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-button-font-size,var(--utrecht-document-font-family));font-weight:var(--utrecht-button-font-weight);gap:var(--utrecht-button-icon-gap);inline-size:var(--utrecht-button-inline-size,auto);justify-content:center;line-height:inherit;min-block-size:var(--utrecht-button-min-block-size,44px);min-inline-size:var(--utrecht-button-min-inline-size,44px);padding-block-end:var(--utrecht-button-padding-block-end);padding-block-start:var(--utrecht-button-padding-block-start);padding-inline-end:var(--utrecht-button-padding-inline-end);padding-inline-start:var(--utrecht-button-padding-inline-start);text-decoration-color:var(--_utrecht-link-state-text-decoration-color,var(--utrecht-link-text-decoration-color,currentColor));text-decoration-line:var(--_utrecht-link-state-text-decoration,var(--utrecht-link-text-decoration,underline));text-decoration-skip-ink:all;text-decoration-thickness:max(var(--_utrecht-link-state-text-decoration-thickness,var(--utrecht-link-text-decoration-thickness)),1px);text-transform:var(--utrecht-button-text-transform);text-underline-offset:var(--utrecht-link-text-underline-offset);-webkit-user-select:none;user-select:none}.utrecht-link-button--hover,.utrecht-link-button--html-button:not(:disabled):hover{--_utrecht-link-forced-colors-color:linktext;--_utrecht-link-state-color:var(--utrecht-link-hover-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-hover-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-hover-text-decoration-thickness);text-decoration-skip:none;text-decoration-skip-ink:none}.utrecht-link-button--disabled{--_utrecht-link-forced-colors-color:GrayText;--_utrecht-link-state-color:var(--utrecht-link-placeholder-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed);font-weight:var(--utrecht-link-placeholder-font-weight);text-decoration-line:none}.utrecht-link-button--focus,.utrecht-link-button--html-button:not(:disabled):focus{--_utrecht-link-state-color:var(--utrecht-link-focus-color);--_utrecht-link-state-text-decoration:var(--utrecht-link-focus-text-decoration);--_utrecht-link-state-text-decoration-thickness:var(--utrecht-link-focus-text-decoration-thickness);text-decoration-skip:none;background-color:var(--utrecht-link-focus-background-color,transparent);text-decoration-skip-ink:none}.utrecht-link-button--focus-visible,.utrecht-link-button--html-button:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert);z-index:var(--utrecht-stack-focus-z-index,1)}.utrecht-link-button--active,.utrecht-link-button--html-button:not(:disabled):active{--_utrecht-link-forced-colors-color:activetext;--_utrecht-link-state-color:var(--utrecht-link-active-color)}.utrecht-link-button--inline{--utrecht-icon-inset-block-start:var(--utrecht-icon-baseline-inset-block-start);min-block-size:auto;min-inline-size:auto;padding-block-end:0;padding-block-start:0;padding-inline-end:0;padding-inline-start:0}.utrecht-link-button--pressed{--_utrecht-link-forced-colors-color:activetext;--_utrecht-link-state-color:var(--utrecht-link-active-color)}.utrecht-link-button--html-button{background-color:transparent;border-width:0}";nt(Hq);var Gq=["children","disabled","inline","className","pressed","type"];function pS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function gS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yq=U.forwardRef(function(t,e){var r=t.children,n=t.disabled,o=t.inline,i=t.className,a=t.pressed,c=t.type,u=W(t,Gq);return j("button",gS(gS({ref:e,"aria-pressed":typeof a=="boolean"?a:void 0,className:q("utrecht-link-button","utrecht-link-button--html-button",{"utrecht-link-button--disabled":n,"utrecht-link-button--inline":o,"utrecht-link-button--pressed":a},i),disabled:n,type:c||"button"},u),{},{children:r}))});Yq.displayName="LinkButton";var Vq=".utrecht-link-social{--utrecht-icon-size:var(--utrecht-link-social-icon-size);--utrecht-icon-color:currentColor;align-items:center;background-color:var(--utrecht-link-social-background-color);block-size:var(--utrecht-link-social-size);border-color:var(--utrecht-link-social-border-color);border-radius:50%;border-style:solid;border-width:var(--utrecht-link-social-border-width);color:var(--utrecht-link-social-color);display:inline-flex;inline-size:var(--utrecht-link-social-size);justify-content:center}.utrecht-link-social--hover,.utrecht-link-social:hover{background-color:var(--utrecht-link-social-hover-background-color,var(--utrecht-link-social-background-color));color:var(--utrecht-link-social-hover-color,var(--utrecht-link-social-color));transform:var(--utrecht-link-social-hover-transform-scale)}.utrecht-link-social--focus-visible,.utrecht-link-social:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-link-social--distanced{margin-inline-start:var(--utrecht-link-social-margin-inline-start)}";nt(Vq);var Xq=["children","className","external"];function bS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function mS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kq=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.external,i=W(t,Xq);return j("a",mS(mS({},i),{},{ref:e,className:q("utrecht-link-social",n),rel:o!==!1?"external noopener noreferrer":void 0,children:r}))});Kq.displayName="LinkSocial";var Qq=".utrecht-list-social{display:flex;margin-block-end:var(--utrecht-list-social-margin-block-end);margin-block-start:var(--utrecht-list-social-margin-block-start);padding-inline-end:var(--utrecht-list-social-padding-inline-end);padding-inline-start:var(--utrecht-list-social-padding-inline-start)}.utrecht-list-social__item{list-style-type:none;margin-inline-end:var(--utrecht-list-social-item-margin-inline-end)}.utrecht-list-social__item:last-child{margin-inline-end:0}";nt(Qq);var k2t=function(e){var r=e.children;return j("ul",{className:q("utrecht-list-social"),children:r})},_2t=function(e){var r=e.children;return j("li",{className:q("utrecht-list-social__item"),children:r})},Jq=".utrecht-mark{background-color:var(--utrecht-mark-background-color,revert);color:var(--utrecht-mark-color,revert)}@media print{.utrecht-mark{outline-color:currentColor;outline-style:dotted;outline-width:.1em}}@media screen and (-ms-high-contrast:active){.utrecht-mark{background-color:Highlight;color:HighlightText}}.utrecht-mark--print{outline-color:currentColor;outline-style:dotted;outline-width:.1em}.utrecht-mark--windows-high-contrast{background-color:Highlight;color:HighlightText}";nt(Jq);var Zq=["children","className"];function vS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function yS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,Zq);return j("mark",yS(yS({ref:e,className:q("utrecht-mark",n)},o),{},{children:r}))});tW.displayName="Mark";var eW=".utrecht-value-number{font-variant-numeric:lining-nums tabular-nums}.utrecht-value-number--positive{color:var(--utrecht-value-number-positive-color)}.utrecht-value-number--negative{color:var(--utrecht-value-number-negative-color)}";nt(eW);var rW=["children","className","value"];function xS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function wS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.value,i=W(t,rW);return j("data",wS(wS({value:typeof o=="string"||typeof o=="number"?String(o):void 0},i),{},{ref:e,className:q("utrecht-value-number",n),children:r}))});nW.displayName="NumberValue";var oW=".utrecht-ordered-list,.utrecht-ordered-list--html-content ol{box-sizing:border-box;font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-ordered-list-font-size,var(--utrecht-unordered-list-font-size,var(--utrecht-document-font-size,inherit)));line-height:var(--utrecht-ordered-list-font-size,var(--utrecht-unordered-list-line-height,var(--utrecht-document-line-height,inherit)));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-ordered-list-margin-block-end, var(--utrecht-unordered-list-margin-block-end, 0)));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-ordered-list-margin-block-start, var(--utrecht-unordered-list-margin-block-start, 0)));padding-inline-start:var(--utrecht-ordered-list-padding-inline-start,var(--utrecht-unordered-list-padding-inline-start,2ch));text-align:start}.utrecht-ordered-list--center{inline-size:max-content;margin-inline-end:auto;margin-inline-start:auto;max-inline-size:100%}.utrecht-ordered-list--distanced{--utrecht-space-around:1}.utrecht-ordered-list--arabic{list-style:arabic-indic}.utrecht-ordered-list--html-content ol>li,.utrecht-ordered-list--html-content>li,.utrecht-ordered-list__item{margin-block-end:var(--utrecht-ordered-list-item-margin-block-end,var(--utrecht-unordered-list-item-margin-block-end));margin-block-start:var(--utrecht-ordered-list-item-margin-block-start,var(--utrecht-unordered-list-item-margin-block-start));padding-inline-start:var(--utrecht-ordered-list-item-padding-inline-start,var(--utrecht-unordered-list-item-padding-inline-start,1ch))}";nt(oW);var iW=["children","className"];function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function _S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,iW);return j("ol",_S(_S({},o),{},{ref:e,className:q("utrecht-ordered-list",n),children:r}))});aW.displayName="OrderedList";var cW=["children","className"];function OS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ES(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,cW);return j("li",ES(ES({},o),{},{ref:e,className:q("utrecht-ordered-list__item",n),children:r}))});uW.displayName="OrderedListItem";var sW=".utrecht-page{margin-inline-end:auto;margin-inline-start:auto;max-inline-size:calc(var(--utrecht-page-max-inline-size) - var(--utrecht-page-margin-inline-start, 0px) - var(--utrecht-page-margin-inline-end, 0px));padding-inline-end:var(--utrecht-page-margin-inline-end);padding-inline-start:var(--utrecht-page-margin-inline-start)}.utrecht-page__content{background-color:var(--utrecht-page-background-color);color:var(--utrecht-page-color);max-inline-size:var(--utrecht-page-max-inline-size)}";nt(sW);var lW=["children","className"];function SS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function $S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,lW);return j("div",$S($S({},o),{},{ref:e,className:q("utrecht-page",n),children:r}))});dW.displayName="Page";var fW=".utrecht-page-content{padding-block-end:var(--utrecht-page-content-padding-block-end);padding-block-start:var(--utrecht-page-content-padding-block-start);padding-inline-end:var(--utrecht-page-padding-inline-end);padding-inline-start:var(--utrecht-page-padding-inline-start)}.utrecht-page-content__main{grid-area:main}.utrecht-page-content__aside{grid-area:aside}";nt(fW);var hW=["children","className"],pW=["children","className"];function CS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,hW);return j("div",Zh(Zh({},o),{},{ref:e,className:q("utrecht-page-content",n),children:r}))});gW.displayName="PageContent";var bW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,pW);return j("main",Zh(Zh({},o),{},{ref:e,className:q("utrecht-page-content__main",n),children:r}))});bW.displayName="PageContentMain";var mW=".utrecht-page-footer{--utrecht-document-color:currentColor;--utrecht-heading-color:currentColor;--utrecht-link-color:currentColor;--utrecht-link-focus-color:currentColor;--utrecht-link-hover-color:currentColor;--utrecht-link-active-color:currentColor;--utrecht-link-visited-color:currentColor;background-color:var(--utrecht-page-footer-background-color);background-image:var(--utrecht-page-footer-background-image);color:var(--utrecht-page-footer-color);font-family:var(--utrecht-document-font-family);font-size:var(--utrecht-document-font-size);padding-block-end:var(--utrecht-page-footer-padding-block-end);padding-block-start:var(--utrecht-page-footer-padding-block-start);padding-inline-end:var(--utrecht-page-footer-padding-inline-end);padding-inline-start:var(--utrecht-page-footer-padding-inline-start)}.utrecht-page-footer__address--reset-address{font-style:inherit;margin-block-end:0;margin-block-start:0}";nt(mW);var vW=["children","className"];function AS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function PS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,vW);return j("footer",PS(PS({},o),{},{ref:e,className:q("utrecht-page-footer",n),children:r}))});yW.displayName="PageFooter";var xW='.utrecht-page-header{background-color:var(--utrecht-page-header-background-color);color:var(--utrecht-page-header-color);grid-area:"utrecht-header";padding-block-end:var(--utrecht-page-header-padding-block-end);padding-block-start:var(--utrecht-page-header-padding-block-start);padding-inline-end:var(--utrecht-page-padding-inline-end);padding-inline-start:var(--utrecht-page-padding-inline-start)}.utrecht-page-header__content{max-inline-size:var(--utrecht-page-max-inline-size)}';nt(xW);var wW=["children","className"];function NS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function DS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var kW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,wW);return j("header",DS(DS({},o),{},{ref:e,className:q("utrecht-page-header",n),children:r}))});kW.displayName="PageHeader";var _W=".utrecht-paragraph{color:var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit));font-family:var(--utrecht-paragraph-font-family,var(--utrecht-document-font-family,inherit));font-size:var(--utrecht-paragraph-font-size,var(--utrecht-document-font-size,inherit));font-weight:var(--utrecht-paragraph-font-weight,inherit);line-height:var(--utrecht-paragraph-line-height,var(--utrecht-document-line-height,inherit));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-paragraph-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-paragraph-margin-block-start, 0))}.utrecht-paragraph--lead{color:var(--utrecht-paragraph-lead-color,var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit)));font-size:var(--utrecht-paragraph-lead-font-size,var(--utrecht-paragraph-font-size,inherit));font-weight:var(--utrecht-paragraph-lead-font-weight,var(--utrecht-paragraph-font-weight,inherit));line-height:var(--utrecht-paragraph-lead-line-height,var(--utrecht-paragraph-line-height,inherit))}.utrecht-paragraph--small{color:var(--utrecht-paragraph-small-color,var(--utrecht-paragraph-color,var(--utrecht-document-color,inherit)));font-size:var(--utrecht-paragraph-small-font-size,var(--utrecht-paragraph-font-size,inherit));font-weight:var(--utrecht-paragraph-small-font-weight,var(--utrecht-paragraph-font-weight,inherit));line-height:var(--utrecht-paragraph-small-line-height,var(--utrecht-paragraph-line-height,inherit))}.utrecht-paragraph__small{font-size:inherit}.utrecht-paragraph__b{font-weight:inherit}.utrecht-paragraph--distanced{--utrecht-space-around:1}";nt(_W);var OW=["children","className","lead","small"];function jS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function TS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var EW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.lead,i=t.small,a=W(t,OW);return j("p",TS(TS({},a),{},{ref:e,className:q("utrecht-paragraph",o&&"utrecht-paragraph--lead",i&&"utrecht-paragraph--small",n),children:o?j("b",{className:"utrecht-paragraph__b",children:r}):i?j("small",{className:"utrecht-paragraph__small",children:r}):r}))});EW.displayName="Paragraph";var SW=".utrecht-data-placeholder{background-color:var(--utrecht-data-placeholder-background-color,currentColor);block-size:1em;display:inline-block;inline-size:min(100%,var(--utrecht-data-placeholder-max-inline-size));max-inline-size:var(--utrecht-data-placeholder-max-inline-size);min-inline-size:var(--utrecht-data-placeholder-min-inline-size,10ch);vertical-align:-.1em}@media print{.utrecht-data-placeholder{outline-color:currentColor;outline-style:dashed;outline-width:.1em}}@media screen and (prefers-contrast:more){.utrecht-data-placeholder{background-color:var(--utrecht-data-placeholder-high-contrast-background-color,var(--utrecht-data-placeholder-background-color,currentColor))}}@media screen and (forced-colors:active){.utrecht-data-placeholder{background-color:GrayText}}.utrecht-data-placeholder--loading{cursor:var(--utrecht-action-busy-cursor,busy)}.utrecht-data-placeholder--print{outline-color:currentColor;outline-style:dashed;outline-width:.1em}.utrecht-data-placeholder--forced-colors{background-color:GrayText}.utrecht-data-placeholder--high-contrast{cursor:var(--utrecht-action-busy-cursor,busy)}";nt(SW);var $W=["loading","className"];function MS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function CW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AW=U.forwardRef(function(t,e){var r=t.loading,n=t.className,o=W(t,$W);return j("span",CW({ref:e,className:q("utrecht-data-placeholder",{"utrecht-data-placeholder--loading":r},n)},o))});AW.displayName="DataPlaceholder";var PW=".utrecht-pre-heading{color:var(--utrecht-pre-heading-color,var(--utrecht-heading-color,var(--utrecht-document-color,inherit)));font-family:var(--utrecht-pre-heading-font-family,var(--utrecht-heading-font-family,var(--utrecht-document-font-family)));font-size:var(--utrecht-pre-heading-font-size);font-weight:var(--utrecht-pre-heading-font-weight,var(--utrecht-heading-font-weight,bold));line-height:var(--utrecht-pre-heading-line-height);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-pre-heading-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-pre-heading-margin-block-start, 0));order:var(--utrecht-pre-heading-order,0)}.utrecht-pre-heading--distanced{--utrecht-space-around:1}";nt(PW);var NW=["children","className"];function FS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function zS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,NW);return j("p",zS(zS({},o),{},{ref:e,className:q("utrecht-pre-heading",n),children:r}))});DW.displayName="PreHeading";var jW=`.utrecht-radio-button{--_utrecht-radio-button-background-color:var(
    --_utrecht-radio-button-interactive-background-color,var(--_utrecht-radio-button-state-background-color,var(--utrecht-radio-button-background-color))
  );--_utrecht-radio-button-border-color:var(
    --_utrecht-radio-button-interactive-border-color,var(--_utrecht-radio-button-state-border-color,var(--utrecht-radio-button-border-color,currentColor))
  );--_utrecht-radio-button-border-width:var(
    --_utrecht-radio-button-interactive-border-width,var(--_utrecht-radio-button-state-border-width,var(--utrecht-radio-button-border-width))
  );--_utrecht-radio-button-color:var(
    --_utrecht-radio-button-interactive-color,var(--_utrecht-radio-button-state-color,var(--utrecht-radio-button-color,currentColor))
  );--_utrecht-radio-button-icon-size:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--_utrecht-radio-button-background-color);background-image:radial-gradient(circle,var(--_utrecht-radio-button-color,transparent) calc(var(--_utrecht-radio-button-icon-size, 50%) - 5%),var(--_utrecht-radio-button-background-color,currentColor) var(--_utrecht-radio-button-icon-size,50%));background-position:50%;background-repeat:no-repeat;background-size:contain;block-size:var(--utrecht-radio-button-size,1em);border-color:var(--_utrecht-radio-button-border-color);border-radius:50%;border-style:solid;border-width:var(--_utrecht-radio-button-border-width);cursor:var(--utrecht-action-activate-cursor,revert);inline-size:var(--utrecht-radio-button-size,1em);margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-end:var(--utrecht-radio-button-margin-inline-end);margin-inline-start:0;min-block-size:24px;min-inline-size:24px;-webkit-print-color-adjust:exact;print-color-adjust:exact;-webkit-user-select:none;user-select:none;vertical-align:top}.utrecht-radio-button--checked{--_utrecht-radio-button-icon-size:var(--utrecht-radio-button-icon-size,50%);--_utrecht-radio-button-state-background-color:var(--utrecht-radio-button-checked-background-color);--_utrecht-radio-button-state-border-color:var(--utrecht-radio-button-checked-border-color);--_utrecht-radio-button-state-border-width:var(--utrecht-radio-button-checked-border-width);--_utrecht-radio-button-state-color:var(--utrecht-radio-button-checked-color);--_utrecht-radio-button-state-active-background-color:var(--utrecht-radio-button-checked-active-background-color);--_utrecht-radio-button-state-active-border-color:var(--utrecht-radio-button-checked-active-border-color);--_utrecht-radio-button-state-active-border-width:var(--utrecht-radio-button-checked-active-border-width);--_utrecht-radio-button-state-active-color:var(--utrecht-radio-button-checked-active-color);--_utrecht-radio-button-state-focus-background-color:var(--utrecht-radio-button-checked-focus-background-color);--_utrecht-radio-button-state-focus-border-color:var(--utrecht-radio-button-checked-focus-border-color);--_utrecht-radio-button-state-focus-border-width:var(--utrecht-radio-button-checked-focus-border-width);--_utrecht-radio-button-state-focus-color:var(--utrecht-radio-button-checked-focus-color);--_utrecht-radio-button-state-hover-background-color:var(--utrecht-radio-button-checked-hover-background-color);--_utrecht-radio-button-state-hover-border-color:var(--utrecht-radio-button-checked-hover-border-color);--_utrecht-radio-button-state-hover-border-width:var(--utrecht-radio-button-checked-hover-border-width);--_utrecht-radio-button-state-hover-color:var(--utrecht-radio-button-checked-hover-color)}.utrecht-radio-button--hover{--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-hover-background-color,var(--utrecht-radio-button-hover-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-hover-border-color,var(--utrecht-radio-button-hover-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-hover-border-width,var(--utrecht-radio-button-hover-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-hover-color,var(--utrecht-radio-button-hover-color)
  )}.utrecht-radio-button--focus{--_utrecht-radio-button-interactive-background-color:var(
    --utrecht-radio-button-focus-background-color,var(--utrecht-radio-button-focus-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --utrecht-radio-button-focus-border-color,var(--utrecht-radio-button-focus-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --utrecht-radio-button-focus-border-width,var(--utrecht-radio-button-focus-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --utrecht-radio-button-focus-color,var(--utrecht-radio-button-focus-color)
  )}.utrecht-radio-button--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-radio-button--active{--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-active-background-color,var(--utrecht-radio-button-active-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-active-border-color,var(--utrecht-radio-button-active-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-active-border-width,var(--utrecht-radio-button-active-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-active-color,var(--utrecht-radio-button-active-color)
  )}.utrecht-radio-button--disabled{--_utrecht-radio-button-background-color:var(--utrecht-radio-button-disabled-background-color);--_utrecht-radio-button-border-color:var(--utrecht-radio-button-disabled-border-color);--_utrecht-radio-button-border-width:var(--utrecht-radio-button-disabled-border-width);--_utrecht-radio-button-color:var(--utrecht-radio-button-disabled-color);--_utrecht-radio-button-focus-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-focus-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-focus-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-focus-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-active-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-active-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-active-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-active-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-hover-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-hover-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-hover-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-hover-color:var(--_utrecht-radio-button-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-radio-button--invalid{border-color:var(--utrecht-radio-button-invalid-border-color,var(--utrecht-radio-button-border-color));border-width:var(--utrecht-radio-button-invalid-border-width,var(--utrecht-radio-button-border-width));color:var(--utrecht-radio-button-invalid-color,var(--utrecht-radio-button-color))}.utrecht-radio-button--html-input:checked{--_utrecht-radio-button-icon-size:var(--utrecht-radio-button-icon-size,50%);--_utrecht-radio-button-state-background-color:var(--utrecht-radio-button-checked-background-color);--_utrecht-radio-button-state-border-color:var(--utrecht-radio-button-checked-border-color);--_utrecht-radio-button-state-border-width:var(--utrecht-radio-button-checked-border-width);--_utrecht-radio-button-state-color:var(--utrecht-radio-button-checked-color);--_utrecht-radio-button-state-active-background-color:var(--utrecht-radio-button-checked-active-background-color);--_utrecht-radio-button-state-active-border-color:var(--utrecht-radio-button-checked-active-border-color);--_utrecht-radio-button-state-active-border-width:var(--utrecht-radio-button-checked-active-border-width);--_utrecht-radio-button-state-active-color:var(--utrecht-radio-button-checked-active-color);--_utrecht-radio-button-state-focus-background-color:var(--utrecht-radio-button-checked-focus-background-color);--_utrecht-radio-button-state-focus-border-color:var(--utrecht-radio-button-checked-focus-border-color);--_utrecht-radio-button-state-focus-border-width:var(--utrecht-radio-button-checked-focus-border-width);--_utrecht-radio-button-state-focus-color:var(--utrecht-radio-button-checked-focus-color);--_utrecht-radio-button-state-hover-background-color:var(--utrecht-radio-button-checked-hover-background-color);--_utrecht-radio-button-state-hover-border-color:var(--utrecht-radio-button-checked-hover-border-color);--_utrecht-radio-button-state-hover-border-width:var(--utrecht-radio-button-checked-hover-border-width);--_utrecht-radio-button-state-hover-color:var(--utrecht-radio-button-checked-hover-color)}.utrecht-radio-button--html-input:disabled{--_utrecht-radio-button-background-color:var(--utrecht-radio-button-disabled-background-color);--_utrecht-radio-button-border-color:var(--utrecht-radio-button-disabled-border-color);--_utrecht-radio-button-border-width:var(--utrecht-radio-button-disabled-border-width);--_utrecht-radio-button-color:var(--utrecht-radio-button-disabled-color);--_utrecht-radio-button-focus-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-focus-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-focus-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-focus-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-active-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-active-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-active-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-active-color:var(--_utrecht-radio-button-color);--_utrecht-radio-button-hover-background-color:var(--_utrecht-radio-button-background-color);--_utrecht-radio-button-hover-border-color:var(--_utrecht-radio-button-border-color);--_utrecht-radio-button-hover-border-width:var(--_utrecht-radio-button-border-width);--_utrecht-radio-button-hover-color:var(--_utrecht-radio-button-color);cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-radio-button--html-input:invalid,.utrecht-radio-button--html-input[aria-invalid=true]{border-color:var(--utrecht-radio-button-invalid-border-color,var(--utrecht-radio-button-border-color));border-width:var(--utrecht-radio-button-invalid-border-width,var(--utrecht-radio-button-border-width));color:var(--utrecht-radio-button-invalid-color,var(--utrecht-radio-button-color))}.utrecht-radio-button--html-input:focus:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --utrecht-radio-button-focus-background-color,var(--utrecht-radio-button-focus-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --utrecht-radio-button-focus-border-color,var(--utrecht-radio-button-focus-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --utrecht-radio-button-focus-border-width,var(--utrecht-radio-button-focus-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --utrecht-radio-button-focus-color,var(--utrecht-radio-button-focus-color)
  )}.utrecht-radio-button--html-input:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-radio-button--html-input:hover:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-hover-background-color,var(--utrecht-radio-button-hover-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-hover-border-color,var(--utrecht-radio-button-hover-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-hover-border-width,var(--utrecht-radio-button-hover-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-hover-color,var(--utrecht-radio-button-hover-color)
  )}.utrecht-radio-button--html-input:active:not([aria-disabled=true],:disabled){--_utrecht-radio-button-interactive-background-color:var(
    --_utrecht-radio-button-state-active-background-color,var(--utrecht-radio-button-active-background-color)
  );--_utrecht-radio-button-interactive-border-color:var(
    --_utrecht-radio-button-state-active-border-color,var(--utrecht-radio-button-active-border-color)
  );--_utrecht-radio-button-interactive-border-width:var(
    --_utrecht-radio-button-state-active-border-width,var(--utrecht-radio-button-active-border-width)
  );--_utrecht-radio-button-interactive-color:var(
    --_utrecht-radio-button-state-active-color,var(--utrecht-radio-button-active-color)
  )}`;nt(jW);var TW=["disabled","required","className","invalid"];function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function MW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FW=U.forwardRef(function(t,e){var r=t.disabled,n=t.required,o=t.className,i=t.invalid,a=W(t,TW);return j("input",MW({type:"radio","aria-invalid":i||void 0,disabled:r,required:n,ref:e,className:q("utrecht-radio-button","utrecht-radio-button--html-input",r&&"utrecht-radio-button--disabled",i&&"utrecht-radio-button--invalid",o)},a))});FW.displayName="RadioButton";var zW=`.utrecht-select{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:var(--utrecht-select-background-color,var(--utrecht-form-control-background-color));background-image:var(--utrecht-select-background-image);background-position:100%;background-repeat:no-repeat;background-size:1.4em;border-block-end-width:var(--utrecht-select-border-block-end-width,var(--utrecht-select-border-width,var(--utrecht-form-control-border-width)));border-block-start-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-color:var(--utrecht-select-border-color,var(--utrecht-form-control-border-color));border-inline-end-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-inline-start-width:var(--utrecht-select-border-width,var(--utrecht-form-control-border-width));border-radius:var(--utrecht-select-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;color:var(--utrecht-select-color,var(--utrecht-form-control-color));font-family:var(--utrecht-select-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-select-font-size,var(--utrecht-form-control-font-size));inline-size:100%;max-inline-size:var(--utrecht-select-max-inline-size,var(--utrecht-form-control-max-inline-size));padding-block-end:var(--utrecht-select-padding-block-end,var(--utrecht-form-control-padding-block-end));padding-block-start:var(--utrecht-select-padding-block-start,var(--utrecht-form-control-padding-block-start));padding-inline-end:var(--utrecht-select-padding-inline-end,var(--utrecht-form-control-padding-inline-end));padding-inline-start:var(--utrecht-select-padding-inline-start,var(--utrecht-form-control-padding-inline-start))}.utrecht-select--disabled{background-color:var(--utrecht-select-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-select-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-select-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-select--focus{background-color:var(--utrecht-select-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-select-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-select-color,var(--utrecht-form-control-color))))}.utrecht-select--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-select--busy{cursor:var(--utrecht-action-busy-cursor,busy)}.utrecht-select--invalid{--_utrecht-select-border-width:var(
    --utrecht-select-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-select-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-select-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-select-border-width);border-block-end-width:var(--utrecht-select-invalid-border-block-end-width,var(--utrecht-form-control-invalid-border-block-end-width,var(--utrecht-select-border-block-end-width,var(--utrecht-form-control-border-block-end-width,var(--_utrecht-select-border-width)))));border-color:var(--utrecht-select-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))))}.utrecht-select--html-select:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-select-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-select-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-select-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-select--html-select:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-select--html-select:disabled{background-color:var(--utrecht-select-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-select-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-select-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-select-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-select-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-select-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}`;nt(zW);var RW=["busy","invalid","required","className","noscript","children"],LW=["disabled","invalid","value","children","className"];function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var IW=U.forwardRef(function(t,e){var r=t.busy,n=t.invalid,o=t.required,i=t.className,a=t.noscript,c=t.children,u=W(t,RW);return j("select",tp(tp({"aria-busy":r||void 0,"aria-invalid":n||void 0,required:a?o:!1,"aria-required":a?void 0:o,className:q("utrecht-select","utrecht-select--html-select",r&&"utrecht-select--busy",n&&"utrecht-select--invalid",o&&"utrecht-select--required",i),ref:e},u),{},{children:c}))});IW.displayName="Select";var BW=U.forwardRef(function(t,e){var r=t.disabled,n=t.invalid,o=t.value,i=t.children,a=t.className,c=W(t,LW);return j("option",tp(tp({},c),{},{ref:e,disabled:r,value:o,className:q("utrecht-select__option",r&&"utrecht-select__option--disabled",n&&"utrecht-select__option--invalid",a),children:i}))});BW.displayName="SelectOption";var UW=".utrecht-separator{border-color:var(--utrecht-separator-color);border-style:solid;border-width:0 0 var(--utrecht-separator-block-size) 0;margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-separator-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-separator-margin-block-start, 0))}.utrecht-separator--distanced{--utrecht-space-around:1}";nt(UW);var qW=["className","children"];function IS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function BS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WW=U.forwardRef(function(t,e){var r=t.className;t.children;var n=W(t,qW);return j("hr",BS(BS({},n),{},{ref:e,className:q("utrecht-separator",r)}))});WW.displayName="Separator";var HW=".utrecht-skip-link{align-items:center;background-color:var(--utrecht-skip-link-background-color,ButtonFace);box-sizing:border-box;color:var(--utrecht-skip-link-color,ButtonText);display:inline-flex;justify-content:center;min-block-size:var(--utrecht-skip-link-min-block-size,44px);min-inline-size:var(--utrecht-skip-link-min-inline-size,44px);padding-block-end:var(--utrecht-skip-link-padding-block-end);padding-block-start:var(--utrecht-skip-link-padding-block-start);padding-inline-end:var(--utrecht-skip-link-padding-inline-end);padding-inline-start:var(--utrecht-skip-link-padding-inline-start);text-decoration:var(--utrecht-skip-link-text-decoration)}.utrecht-skip-link--hidden,.utrecht-skip-link--visible-on-focus{inset-block-start:-200%;position:fixed}.utrecht-skip-link--visible,.utrecht-skip-link--visible-on-focus:focus{--_utrecht-skip-link-inset:calc(var(--utrecht-focus-outline-width, 0px) + var(--utrecht-focus-outline-offset, 0px));inset-block-start:var(--_utrecht-skip-link-inset,0);inset-inline-start:var(--_utrecht-skip-link-inset,0);position:fixed;z-index:var(--utrecht-skip-link-z-index,var(--utrecht-layer-focus-z-index))}.utrecht-skip-link--focus,.utrecht-skip-link:focus,.utrecht-skip-link:focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert);text-decoration:var(--utrecht-skip-link-focus-text-decoration)}";nt(HW);var GW=["children","className"];function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function qS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YW=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,GW);return j("p",{children:j("a",qS(qS({ref:e},o),{},{className:q("utrecht-skip-link","utrecht-skip-link--visible-on-focus",n),children:r}))})});YW.displayName="SkipLink";var VW=".utrecht-spotlight-section{background-color:var(--_utrecht-spotlight-section-background-color,var(--utrecht-spotlight-section-background-color));border-color:var(--_utrecht-spotlight-section-border-color,var(--utrecht-spotlight-section-border-color));border-style:solid;border-width:var(--_utrecht-spotlight-section-border-width,var(--utrecht-spotlight-section-border-width,0));color:var(--_utrecht-spotlight-section-color,var(--utrecht-spotlight-section-color));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-spotlight-section-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-spotlight-section-margin-block-start, 0));padding-block-end:var(--utrecht-spotlight-section-padding-block-end);padding-block-start:var(--utrecht-spotlight-section-padding-block-start);padding-inline-end:var(--utrecht-spotlight-section-padding-inline-end);padding-inline-start:var(--utrecht-spotlight-section-padding-inline-start)}.utrecht-spotlight-section--info{--_utrecht-spotlight-section-icon-color:var(--utrecht-spotlight-section-icon-info-color);--_utrecht-spotlight-section-background-color:var(--utrecht-spotlight-section-info-background-color);--_utrecht-spotlight-section-border-color:var(--utrecht-spotlight-section-info-border-color);--_utrecht-spotlight-section-border-width:var(--utrecht-spotlight-section-info-border-width);--_utrecht-spotlight-section-color:var(--utrecht-spotlight-section-info-color)}.utrecht-spotlight-section--warning{--_utrecht-spotlight-section-icon-color:var(--utrecht-spotlight-section-icon-warning-color);--_utrecht-spotlight-section-background-color:var(--utrecht-spotlight-section-warning-background-color);--_utrecht-spotlight-section-border-color:var(--utrecht-spotlight-section-warning-border-color);--_utrecht-spotlight-section-border-width:var(--utrecht-spotlight-section-warning-border-width);--_utrecht-spotlight-section-color:var(--utrecht-spotlight-section-warning-color)}";nt(VW);var XW=["aside","children","className","type"];function WS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KW=U.forwardRef(function(t,e){var r=t.aside,n=t.children,o=t.className,i=t.type,a=W(t,XW),c=Zc(Zc({},a),{},{ref:e,className:q("utrecht-spotlight-section",{"utrecht-spotlight-section--info":i==="info","utrecht-spotlight-section--warning":i==="warning"},o)});return r?j("aside",Zc(Zc({},c),{},{children:n})):j("section",Zc(Zc({},c),{},{children:n}))});KW.displayName="SpotlightSection";var QW=".utrecht-badge-status{background-color:var(--utrecht-badge-background-color,#000);border-radius:var(--utrecht-badge-border-radius,.5ch);color:var(--utrecht-badge-color,#fff);display:inline-block;font-family:var(--utrecht-document-font-family,sans-serif);font-size:var(--utrecht-badge-font-size,inherit);font-style:var(--utrecht-badge-font-style,normal);font-weight:var(--utrecht-badge-font-weight,bold);letter-spacing:var(--utrecht-badge-status-letter-spacing,inherit);line-height:var(--utrecht-badge-line-height,1em);max-block-size:max-content;max-inline-size:max-content;min-block-size:1em;min-inline-size:1em;padding-block-end:var(--utrecht-badge-padding-block,.5ex);padding-block-start:var(--utrecht-badge-padding-block,.5ex);padding-inline-end:var(--utrecht-badge-padding-inline,.5ch);padding-inline-start:var(--utrecht-badge-padding-inline,.5ch);text-decoration:none;text-transform:var(--utrecht-badge-status-text-transform,inherit)}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.utrecht-badge-status{border:1px solid}}.utrecht-badge-status--danger{background-color:var(--utrecht-feedback-danger-fill-background-color,#c00);color:var(--utrecht-feedback-danger-fill-color,#fff)}.utrecht-badge-status--warning{background-color:var(--utrecht-feedback-warning-fill-background-color,#fc0);color:var(--utrecht-feedback-warning-fill-color,#fff)}.utrecht-badge-status--safe{background-color:var(--utrecht-feedback-safe-fill-background-color,#80a659);color:var(--utrecht-feedback-safe-fill-color,#fff)}.utrecht-badge-status--neutral{background-color:var(--utrecht-feedback-neutral-fill-background-color,#000);color:var(--utrecht-feedback-neutral-fill-color,#fff)}.utrecht-badge-status--valid{background-color:var(--utrecht-feedback-valid-fill-background-color,var(--utrecht-feedback-safe-fill-background-color,#80a659));color:var(--utrecht-feedback-valid-fill-color,var(--utrecht-feedback-safe-fill-color,#fff))}.utrecht-badge-status--invalid{background-color:var(--utrecht-feedback-invalid-fill-background-color,var(--utrecht-feedback-danger-fill-background-color,#ffa600));color:var(--utrecht-feedback-invalid-fill-color,var(--utrecht-feedback-danger-fill-color,#fff))}.utrecht-badge-status--error{background-color:var(--utrecht-feedback-error-fill-background-color,var(--utrecht-feedback-danger-fill-background-color,#900));color:var(--utrecht-feedback-error-fill-color,var(--utrecht-feedback-danger-fill-color,#fff))}.utrecht-badge-status--success{background-color:var(--utrecht-feedback-success-fill-background-color,var(--utrecht-feedback-safe-fill-background-color,#80a659));color:var(--utrecht-feedback-success-fill-color,var(--utrecht-feedback-safe-fill-color,#fff))}.utrecht-badge-status--active{background-color:var(--utrecht-feedback-active-fill-background-color,var(--utrecht-feedback-safe-fill-background-color,#80a659));color:var(--utrecht-feedback-active-fill-color,var(--utrecht-feedback-safe-fill-color,#fff))}.utrecht-badge-status--inactive{background-color:var(--utrecht-feedback-inactive-fill-background-color,var(--utrecht-feedback-danger-fill-background-color,#c00));color:var(--utrecht-feedback-inactive-fill-color,var(--utrecht-feedback-danger-fill-color,#fff))}";nt(QW);var JW=["className","status"];function HS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function GS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZW=U.forwardRef(function(t,e){var r=t.className,n=t.status,o=W(t,JW);return j("span",GS(GS({className:q("utrecht-badge-status","utrecht-badge-status--".concat(n||"neutral"),r)},o),{},{ref:e}))});ZW.displayName="StatusBadge";var tH=["children","className"];function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function VS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,tH);return j("strong",VS(VS({ref:e,className:q("utrecht-emphasis","utrecht-emphasis--strong",n)},o),{},{children:r}))});eH.displayName="Strong";var rH=".utrecht-surface{background-color:var(--utrecht-surface-background-color,inherit);color:var(--utrecht-surface-color,inherit)}.utrecht-surface--html-body{margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0}";nt(rH);var nH=["children","className"];function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function KS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,nH);return j("div",KS(KS({},o),{},{ref:e,className:q("utrecht-surface",n),children:r}))});oH.displayName="Surface";var iH=".utrecht-table{border-collapse:separate;border-color:var(--utrecht-table-border-color,0);border-spacing:0;border-style:solid;border-width:var(--utrecht-table-border-width,0);font-family:var(--utrecht-table-font-family,var(--utrecht-document-font-family));font-size:var(--utrecht-table-font-size,inherit);inline-size:100%;line-height:var(--utrecht-table-line-height,inherit);margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-table-margin-block-end, 0));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-table-margin-block-start, 0))}.utrecht-table--distanced{--utrecht-space-around:1}.utrecht-table--html-table>caption,.utrecht-table__caption{color:var(--utrecht-table-caption-color);font-family:var(--utrecht-table-caption-font-family);font-size:var(--utrecht-table-caption-font-size);font-weight:var(--utrecht-table-caption-font-weight);line-height:var(--utrecht-table-caption-line-height);margin-block-end:var(--utrecht-table-caption-margin-block-end);page-break-after:avoid;text-align:var(--utrecht-table-caption-text-align,center)}.utrecht-table--html-table>thead,.utrecht-table__header{--_utrecht-table-header-cell-vertical-align:bottom;--_utrecht-table-header-cell-z-index:8;background-color:var(--utrecht-table-header-background-color);color:var(--utrecht-table-header-color);font-weight:var(--utrecht-table-header-font-weight);page-break-inside:avoid;text-transform:var(--utrecht-table-header-text-transform)}.utrecht-table__header--sticky th{background-color:var(--utrecht-table-header-sticky-background-color);color:var(--utrecht-table-header-sticky-color);inset-block-start:0;position:sticky}.utrecht-table__header--sticky tr:last-child>th{border-block-end-color:var(--utrecht-table-header-sticky-border-block-end-color,var(--utrecht-table-header-border-block-end-color,transparent));border-block-end-style:solid;border-block-end-width:var(--utrecht-table-header-sticky-border-block-end-width,var(--utrecht-table-header-border-block-end-width,0))}.utrecht-table__footer{--_utrecht-table-header-cell-z-index:5;z-index:3}.utrecht-table__footer--sticky{background-color:var(--utrecht-table-footer-sticky-background-color,var(--utrecht-table-footer-background-color));color:var(--utrecht-table-footer-sticky-color,var(--utrecht-table-footer-color));inset-block-end:0;position:sticky}.utrecht-table__footer--sticky tr:first-child>td,.utrecht-table__footer--sticky tr:first-child>th{border-block-start-color:var(--utrecht-table-header-sticky-border-block-start-color,var(--utrecht-table-header-border-block-start-color,transparent));border-block-start-style:solid;border-block-start-width:var(--utrecht-table-header-sticky-border-block-start-width,var(--utrecht-table-header-border-block-start-width,0))}.utrecht-table--html-table>tbody,.utrecht-table__body{--_utrecht-table-header-cell-z-index:2}.utrecht-table--fixed{inline-size:fit-content;table-layout:fixed}.utrecht-table--fixed th,.utrecht-table--oneline td,.utrecht-table--oneline th{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.utrecht-table--html-table>tbody>tr,.utrecht-table--html-table>tfoot>tr,.utrecht-table--html-table>thead>tr,.utrecht-table--html-table>tr,.utrecht-table__row{page-break-inside:avoid}.utrecht-table__row--selected{background-color:var(--utrecht-table-cell-selected-background-color,highlight);color:var(--utrecht-table-cell-selected-color,highlightText)}.utrecht-table--html-table>tbody>tr>th,.utrecht-table--html-table>tfoot>tr>th,.utrecht-table--html-table>thead>tr>th,.utrecht-table--html-table>tr>th,.utrecht-table__header-cell{--utrecht-icon-size:var(--utrecht-table-cell-icon-size);block-size:var(--utrecht-table-cell-line-height,1em);color:var(--utrecht-table-header-cell-color);font-size:var(--utrecht-table-header-cell-font-size);font-weight:var(--utrecht-table-header-cell-font-weight,bold);line-height:var(--utrecht-table-cell-line-height,inherit);padding-block-end:var(--utrecht-table-cell-padding-block-end,0);padding-block-start:var(--utrecht-table-cell-padding-block-start,0);padding-inline-end:var(--utrecht-table-cell-padding-inline-end,0);padding-inline-start:var(--utrecht-table-cell-padding-inline-start,0);text-align:start;text-transform:var(--utrecht-table-header-cell-text-transform);vertical-align:var(--_utrecht-table-header-cell-vertical-align,top);z-index:var(--_utrecht-table-header-cell-z-index)}.utrecht-table__header-cell--selected{background-color:var(--utrecht-table-cell-selected-background-color,highlight);color:var(--utrecht-table-cell-selected-color,highlightText)}.utrecht-table__header-cell--sticky-block{background-color:#eee;color:#000;inset-block-start:0;position:sticky;z-index:calc(var(--_utrecht-table-header-cell-z-index, 0) + 2)}.utrecht-table__header-cell--sticky-inline{background-color:#eee;color:#000;inset-inline-start:0;position:sticky;z-index:calc(var(--_utrecht-table-header-cell-z-index, 0) + 1)}.utrecht-table--html-table>tbody>tr>td,.utrecht-table--html-table>tfoot>tr>td,.utrecht-table--html-table>thead>tr>td,.utrecht-table--html-table>tr>td,.utrecht-table__cell{--utrecht-icon-size:var(--utrecht-table-cell-icon-size);block-size:var(--utrecht-table-cell-line-height,1em);border-block-end-color:var(--utrecht-table-row-border-block-end-color,transparent);border-block-end-style:solid;border-block-end-width:var(--utrecht-table-row-border-block-end-width,0);line-height:var(--utrecht-table-cell-line-height,inherit);padding-block-end:var(--utrecht-table-cell-padding-block-end,0);padding-block-start:var(--utrecht-table-cell-padding-block-start,0);padding-inline-end:var(--utrecht-table-cell-padding-inline-end,0);padding-inline-start:var(--utrecht-table-cell-padding-inline-start,0);text-align:start;vertical-align:top}.utrecht-table--html-table>tbody>tr>td:first-child,.utrecht-table--html-table>tfoot>tr>td:first-child,.utrecht-table--html-table>thead>tr>td:first-child,.utrecht-table--html-table>tr>td:first-child,.utrecht-table__cell--first{padding-inline-start:var(--utrecht-table-row-padding-inline-start,var(--utrecht-table-cell-padding-inline-start,0))}.utrecht-table--html-table>tbody>tr>td:last-child,.utrecht-table--html-table>tfoot>tr>td:last-child,.utrecht-table--html-table>thead>tr>td:last-child,.utrecht-table--html-table>tr>td:last-child,.utrecht-table__cell--last{padding-inline-end:var(--utrecht-table-row-padding-inline-end,var(--utrecht-table-cell-padding-inline-end,0))}.utrecht-table__cell--selected{background-color:var(--utrecht-table-cell-selected-background-color,highlight);color:var(--utrecht-table-cell-selected-color,highlightText)}.utrecht-table__cell--numeric-column,.utrecht-table__header-cell--numeric-column{--_utrecht-table-cell-text-align:right;text-align:var(--_utrecht-table-cell-text-align)}.utrecht-table__cell--numeric-data{font-variant-numeric:lining-nums tabular-nums}.utrecht-table__row--alternate-odd{background-color:var(--utrecht-table-row-alternate-odd-background-color);color:var(--utrecht-table-row-alternate-odd-color)}.utrecht-table__row--alternate-even{background-color:var(--utrecht-table-row-alternate-even-background-color);color:var(--utrecht-table-row-alternate-even-color)}.utrecht-table__header-cell{--utrecht-button-font-size:inherit;--utrecht-button-font-weight:inherit;--utrecht-button-padding-inline-start:var(--utrecht-table-cell-padding-inline-start);--utrecht-button-padding-inline-end:var(--utrecht-table-cell-padding-inline-end);--utrecht-button-padding-block-start:var(--utrecht-table-cell-padding-block-start);--utrecht-button-padding-block-end:var(--utrecht-table-cell-padding-block-end);--utrecht-button-hover-scale:1;--utrecht-button-focus-scale:1;--utrecht-button-min-block-size:100%;--utrecht-button-min-inline-size:100%;--utrecht-button-border-color:transparent;--utrecht-button-border-size:1px}.utrecht-table__header-cell:has(.utrecht-button){padding-block-end:0;padding-block-start:0;padding-inline-end:0;padding-inline-start:0}.utrecht-table__header-cell-button{justify-content:var(--_utrecht-table-cell-text-align,start)}.utrecht-table__data--truncate{display:block;max-inline-size:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.utrecht-table__container{max-inline-size:100%;overflow-inline:scroll}.utrecht-table__header--hidden{clip:rect(1px,1px,1px,1px);block-size:1px;border:0 solid silver;clip-path:inset(50%);inline-size:1px;outline:1px solid red;overflow:hidden;padding:0;position:absolute;white-space:nowrap}.utrecht-table--busy{cursor:var(--utrecht-action-busy-cursor,busy)}.utrecht-table--alternate-row-color .utrecht-table__body .utrecht-table__row:nth-child(odd){background-color:var(--utrecht-table-row-alternate-odd-background-color);color:var(--utrecht-table-row-alternate-odd-color)}.utrecht-table--alternate-row-color .utrecht-table__body .utrecht-table__row:nth-child(2n){background-color:var(--utrecht-table-row-alternate-even-background-color);color:var(--utrecht-table-row-alternate-even-color)}.utrecht-table--row-hover .utrecht-table__body .utrecht-table__row:hover .utrecht-table__cell,.utrecht-table--row-hover .utrecht-table__body .utrecht-table__row:hover .utrecht-table__header-cell{background-color:#ffefd5;color:maroon}.utrecht-table--row-focus-within .utrecht-table__body .utrecht-table__row:focus-within .utrecht-table__cell,.utrecht-table--row-focus-within .utrecht-table__body .utrecht-table__row:focus-within .utrecht-table__header-cell{background-color:#ffefd5;color:maroon}";nt(iH);var aH=["busy","children","className"];function QS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function JS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cH=U.forwardRef(function(t,e){var r=t.busy,n=t.children,o=t.className,i=W(t,aH);return j("table",JS(JS({"aria-busy":r},i),{},{ref:e,className:q("utrecht-table",{"utrecht-table--busy":r},o),children:n}))});cH.displayName="Table";var uH=["children","className"];function ZS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function t$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,uH);return j("tbody",t$(t$({},o),{},{ref:e,className:q("utrecht-table__body",n),children:r}))});sH.displayName="TableBody";var lH=["children","className"];function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function r$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,lH);return j("caption",r$(r$({},o),{},{ref:e,className:q("utrecht-table__caption",n),children:r}))});dH.displayName="TableCaption";var fH=["children","className","numericColumn","selected"];function n$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function o$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var hH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.numericColumn,i=t.selected,a=W(t,fH);return j("td",o$(o$({"aria-selected":i?!0:void 0},a),{},{ref:e,className:q("utrecht-table__cell",{"utrecht-table__cell--selected":i,"utrecht-table__cell--numeric-column":o},n),children:r}))});hH.displayName="TableCell";var pH=["children","className","sticky"];function i$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function a$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.sticky,i=W(t,pH);return j("tfoot",a$(a$({},i),{},{ref:e,className:q("utrecht-table__footer",{"utrecht-table__footer--sticky":o},n),children:r}))});gH.displayName="TableFooter";var bH=["children","className","sticky"];function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function u$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.sticky,i=W(t,bH);return j("thead",u$(u$({},i),{},{ref:e,className:q("utrecht-table__header",{"utrecht-table__header--sticky":o},n),children:r}))});mH.displayName="TableHeader";var vH=["children","className","numericColumn","selected","sticky","scope"];function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function l$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.numericColumn,i=t.selected,a=t.sticky,c=t.scope,u=W(t,vH);return j("th",l$(l$({"aria-selected":i?!0:void 0,scope:c},u),{},{ref:e,className:q("utrecht-table__header-cell",{"utrecht-table__header-cell--numeric-column":o,"utrecht-table__header-cell--selected":i,"utrecht-table__header-cell--sticky-inline":a&&c==="row","utrecht-table__header-cell--sticky-block":a&&c==="col"},n),children:r}))});yH.displayName="TableHeaderCell";var xH=["children","className","selected"];function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function f$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=t.selected,i=W(t,xH);return j("tr",f$(f$({"aria-selected":o?!0:void 0},i),{},{ref:e,className:q("utrecht-table__row",{"utrecht-table__row--selected":o},n),children:r}))});wH.displayName="TableRow";var kH=`.utrecht-textarea{background-color:var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color));block-size:auto;border-width:var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width));border-block-end-width:var(--utrecht-textarea-border-bottom-width,var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width)));border-color:var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color));border-radius:var(--utrecht-textarea-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;box-sizing:border-box;color:var(--utrecht-textarea-color,var(--utrecht-form-control-color));font-family:var(--utrecht-textarea-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-textarea-font-size,var(--utrecht-form-control-font-size,inherit));font-weight:400;inline-size:100%;line-height:var(--utrecht-textarea-line-height,initial);max-inline-size:var(--utrecht-textarea-max-inline-size,var(--utrecht-form-control-max-inline-size));min-block-size:var(--utrecht-textarea-min-block-size);padding-block-end:var(--utrecht-textarea-padding-block-end,var(--utrecht-form-control-padding-block-end,0));padding-block-start:var(--utrecht-textarea-padding-block-start,var(--utrecht-form-control-padding-block-start,0));padding-inline-end:var(--utrecht-textarea-padding-inline-end,var(--utrecht-form-control-padding-inline-end,initial));padding-inline-start:var(--utrecht-textarea-padding-inline-start,var(--utrecht-form-control-padding-inline-start,initial));resize:vertical;resize:block}.utrecht-textarea--invalid{--_utrecht-textarea-border-width:var(
    --utrecht-textarea-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textarea-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textarea-border-width);border-block-end-width:var(--utrecht-textarea-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textarea-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textarea-border-width)))));border-color:var(--utrecht-textarea-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textarea--disabled{background-color:var(--utrecht-textarea-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-textarea--focus{background-color:var(--utrecht-textarea-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textarea--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-textarea--read-only{background-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textarea-border,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textarea-border,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textarea__placeholder{color:var(--utrecht-textarea-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}.utrecht-textarea--html-textarea:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-textarea-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-textarea-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-textarea--html-textarea:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-textarea--html-textarea:invalid,.utrecht-textarea--html-textarea[aria-invalid=true]{--_utrecht-textarea-border-width:var(
    --utrecht-textarea-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textarea-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textarea-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textarea-border-width);border-block-end-width:var(--utrecht-textarea-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textarea-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textarea-border-width)))));border-color:var(--utrecht-textarea-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textarea--html-textarea:read-only{background-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textarea-border,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-read-only-border,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textarea-border,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textarea--html-textarea:disabled{background-color:var(--utrecht-textarea-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textarea-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textarea-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-textarea--html-textarea::placeholder{color:var(--utrecht-textarea-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}`;nt(kH);var _H=["dir","disabled","invalid","readOnly","required","className"];function h$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function p$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OH=U.forwardRef(function(t,e){var r=t.dir,n=t.disabled,o=t.invalid,i=t.readOnly,a=t.required,c=t.className,u=W(t,_H);return j("textarea",p$(p$({},u),{},{ref:e,className:q("utrecht-textarea","utrecht-textarea--html-textarea",n&&"utrecht-textarea--disabled",o&&"utrecht-textarea--invalid",i&&"utrecht-textarea--readonly",a&&"utrecht-textarea--required",c),dir:r??"auto",disabled:n,readOnly:i,required:a,"aria-invalid":o||void 0}))});OH.displayName="Textarea";var EH=`.utrecht-textbox{background-color:var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color));block-size:auto;border-width:var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width));border-block-end-width:var(--utrecht-textbox-border-bottom-width,var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width)));border-color:var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color));border-radius:var(--utrecht-textbox-border-radius,var(--utrecht-form-control-border-radius,0));border-style:solid;box-sizing:border-box;color:var(--utrecht-textbox-color,var(--utrecht-form-control-color));font-family:var(--utrecht-textbox-font-family,var(--utrecht-form-control-font-family));font-size:var(--utrecht-textbox-font-size,var(--utrecht-form-control-font-size,inherit));font-weight:400;inline-size:100%;line-height:var(--utrecht-textbox-line-height,var(--utrecht-form-control-line-height,initial));max-inline-size:var(--utrecht-textbox-max-inline-size,var(--utrecht-form-control-max-inline-size));padding-block-end:var(--utrecht-textbox-padding-block-end,var(--utrecht-form-control-padding-block-end,0));padding-block-start:var(--utrecht-textbox-padding-block-start,var(--utrecht-form-control-padding-block-start,0));padding-inline-end:var(--utrecht-textbox-padding-inline-end,var(--utrecht-form-control-padding-inline-end,initial));padding-inline-start:var(--utrecht-textbox-padding-inline-start,var(--utrecht-form-control-padding-inline-start,initial))}.utrecht-textbox--invalid{--_utrecht-textbox-border-width:var(
    --utrecht-textbox-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textbox-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textbox-border-width);border-block-end-width:var(--utrecht-textbox-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textbox-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textbox-border-width)))));border-color:var(--utrecht-textbox-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-textbox--disabled{background-color:var(--utrecht-textbox-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-textbox--focus{background-color:var(--utrecht-textbox-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))))}.utrecht-textbox--focus-visible{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);box-shadow:var(--_utrecht-focus-ring-box-shadow);outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-textbox--read-only{background-color:var(--utrecht-textbox-read-only-background-color,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-read-only-border-color,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-textbox__placeholder{color:var(--utrecht-textbox-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}.utrecht-textbox--numeric{-moz-appearance:textfield;font-variant-numeric:lining-nums tabular-nums}.utrecht-textbox--password{font-variant-ligatures:none;font-variant-numeric:slashed-zero}.utrecht-textbox--placeholder-ltr::placeholder,.utrecht-textbox--placeholder-ltr:placeholder-shown{direction:ltr}.utrecht-textbox--placeholder-rtl::placeholder,.utrecht-textbox--placeholder-rtl:placeholder-shown{direction:rtl}.utrecht-textbox--url{font-variant-ligatures:none}.utrecht-textbox--html-input:focus{--_utrecht-focus-ring-box-shadow:0 0 0 var(--utrecht-focus-outline-width,0) var(--utrecht-focus-inverse-outline-color,transparent);background-color:var(--utrecht-textbox-focus-background-color,var(--utrecht-form-control-focus-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-focus-border-color,var(--utrecht-form-control-focus-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));box-shadow:var(--_utrecht-focus-ring-box-shadow);color:var(--utrecht-textbox-focus-color,var(--utrecht-form-control-focus-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));outline-color:var(--utrecht-focus-outline-color,revert);outline-offset:var(--utrecht-focus-outline-offset,revert);outline-style:var(--utrecht-focus-outline-style,revert);outline-width:var(--utrecht-focus-outline-width,revert)}.utrecht-textbox--html-input:focus:not(:focus-visible){box-shadow:none;outline-style:revert}.utrecht-textbox--html-input:invalid,.utrecht-textbox--html-input[aria-invalid=true]{--_utrecht-textbox-border-width:var(
    --utrecht-textbox-invalid-border-width,var(
      --utrecht-form-control-invalid-border-width,var(--utrecht-textbox-border-width,var(--utrecht-form-control-border-width))
    )
  );background-color:var(--utrecht-textbox-invalid-background-color,var(--utrecht-form-control-invalid-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-width:var(--_utrecht-textbox-border-width);border-block-end-width:var(--utrecht-textbox-invalid-border-bottom-width,var(--utrecht-form-control-invalid-border-bottom-width,var(--utrecht-textbox-border-bottom-width,var(--utrecht-form-control-border-bottom-width,var(--_utrecht-textbox-border-width)))));border-color:var(--utrecht-textbox-invalid-border-color,var(--utrecht-form-control-invalid-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-invalid-color,var(--utrecht-form-control-invalid-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-textbox--html-input:read-only{background-color:var(--utrecht-textbox-read-only-background-color,var(--utrecht-form-control-read-only-background-color,var(--utrecht-textbox-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-read-only-border-color,var(--utrecht-form-control-read-only-border-color,var(--utrecht-textbox-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-read-only-color,var(--utrecht-form-control-read-only-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))))}.utrecht-textbox--html-input:disabled{background-color:var(--utrecht-textbox-disabled-background-color,var(--utrecht-form-control-disabled-background-color,var(--utrecht-textarea-background-color,var(--utrecht-form-control-background-color))));border-color:var(--utrecht-textbox-disabled-border-color,var(--utrecht-form-control-disabled-border-color,var(--utrecht-textarea-border-color,var(--utrecht-form-control-border-color))));color:var(--utrecht-textbox-disabled-color,var(--utrecht-form-control-disabled-color,var(--utrecht-textarea-color,var(--utrecht-form-control-color))));cursor:var(--utrecht-action-disabled-cursor,not-allowed)}.utrecht-textbox--html-input::placeholder{color:var(--utrecht-textbox-placeholder-color,var(--utrecht-form-control-placeholder-color,var(--utrecht-textbox-color,var(--utrecht-form-control-color))));font-style:var(--utrecht-form-control-placeholder-font-style);opacity:100%}.utrecht-textbox--html-input[type=password i]{font-variant-ligatures:none;font-variant-numeric:slashed-zero}.utrecht-textbox--html-input[inputMode=email i],.utrecht-textbox--html-input[inputMode=url i],.utrecht-textbox--html-input[type=email i],.utrecht-textbox--html-input[type=url i]{font-variant-ligatures:none}.utrecht-textbox--html-input[inputMode=decimal i],.utrecht-textbox--html-input[inputMode=numeric i],.utrecht-textbox--html-input[inputMode=tel i],.utrecht-textbox--html-input[pattern="[0-9]*"],.utrecht-textbox--html-input[pattern="\\\\d*"],.utrecht-textbox--html-input[type=number i],.utrecht-textbox--html-input[type=tel i]{-moz-appearance:textfield;font-variant-numeric:lining-nums tabular-nums}`;nt(EH);var SH=["dir","disabled","invalid","readOnly","required","className","type","maxLength","inputMode"];function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function b$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $H=U.forwardRef(function(t,e){var r=t.dir,n=t.disabled,o=t.invalid,i=t.readOnly,a=t.required,c=t.className,u=t.type,s=u===void 0?"text":u,l=t.maxLength,d=t.inputMode,f=W(t,SH);return j("input",b$(b$({},f),{},{ref:e,type:s,className:q("utrecht-textbox","utrecht-textbox--html-input",n&&"utrecht-textbox--disabled",o&&"utrecht-textbox--invalid",i&&"utrecht-textbox--readonly",a&&"utrecht-textbox--required",c),maxLength:l,dir:r??"auto",disabled:n,readOnly:i,required:a,"aria-invalid":o||void 0,inputMode:d||(s==="number"?"numeric":void 0)}))});$H.displayName="Textbox";var CH=".utrecht-url{font-variant-ligatures:none;hyphens:none;page-break-inside:avoid}";nt(CH);var AH=["children","className"];function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function v$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var PH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,AH);return j("bdi",v$(v$({translate:"no"},o),{},{ref:e,className:q("utrecht-url",n),children:r}))});PH.displayName="URLValue";var NH='@charset "UTF-8";.utrecht-unordered-list,.utrecht-unordered-list--html-content ul{box-sizing:border-box;font-family:var(--utrecht-document-font-family,inherit);font-size:var(--utrecht-unordered-list-font-size,var(--utrecht-document-font-size,inherit));line-height:var(--utrecht-unordered-list-line-height,var(--utrecht-document-line-height,inherit));margin-block-end:calc(var(--utrecht-space-around, 0)*var(--utrecht-unordered-list-margin-block-end, var(--utrecht-paragraph-margin-block-end, 0)));margin-block-start:calc(var(--utrecht-space-around, 0)*var(--utrecht-unordered-list-margin-block-start, var(--utrecht-paragraph-margin-block-start, 0)));padding-inline-start:var(--utrecht-unordered-list-padding-inline-start,2ch);text-align:start}.utrecht-unordered-list--center{inline-size:max-content;margin-inline-end:auto;margin-inline-start:auto;max-inline-size:100%}.utrecht-unordered-list--distanced{--utrecht-space-around:1}.utrecht-unordered-list--html-content ul,.utrecht-unordered-list--nested{margin-block-end:0;margin-inline-start:2ch}.utrecht-unordered-list--html-content ul>li,.utrecht-unordered-list--html-content>li,.utrecht-unordered-list__item{margin-block-end:var(--utrecht-unordered-list-item-margin-block-end);margin-block-start:var(--utrecht-unordered-list-item-margin-block-start);padding-inline-start:var(--utrecht-unordered-list-item-padding-inline-start,1ch)}.utrecht-unordered-list--html-content ul>li::marker,.utrecht-unordered-list--html-content>li::marker,.utrecht-unordered-list__item::marker,.utrecht-unordered-list__marker{color:var(--utrecht-unordered-list-marker-color);content:"●"}';nt(NH);var DH=["children","className"];function y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function x$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,DH);return j("ul",x$(x$({role:"list"},o),{},{ref:e,className:q("utrecht-unordered-list",n),children:r}))});jH.displayName="UnorderedList";var TH=["children","className"];function w$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function k$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var MH=U.forwardRef(function(t,e){var r=t.children,n=t.className,o=W(t,TH);return j("li",k$(k$({},o),{},{ref:e,className:q("utrecht-unordered-list__item",n),children:r}))});MH.displayName="UnorderedListItem";var FH=".utrecht-vega-visualisation{display:inline-block}";nt(FH);function Rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ej={exports:{}},Gm,_$;function zH(){if(_$)return Gm;_$=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gm=t,Gm}var Ym,O$;function RH(){if(O$)return Ym;O$=1;var t=zH();function e(){}function r(){}return r.resetWarningCache=e,Ym=function(){function n(a,c,u,s,l,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Ym}Ej.exports=RH()();var LH=Ej.exports,E$=Rd(LH);const S$={};function E0(t,e){t===void 0&&(t=S$),e===void 0&&(e=S$);const r=Object.keys(t),n=Object.keys(e);return t===e||r.length===n.length&&r.every(o=>t[o]===e[o])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var IH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BH=Object.prototype.hasOwnProperty;function S0(t,e){return BH.call(t,e)}function $0(t){if(Array.isArray(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=""+r;return e}if(Object.keys)return Object.keys(t);var n=[];for(var o in t)S0(t,o)&&n.push(o);return n}function qr(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function C0(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function Ua(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function Sj(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function A0(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(A0(t[e]))return!0}else if(typeof t=="object"){for(var n=$0(t),o=n.length,i=0;i<o;i++)if(A0(t[n[i]]))return!0}}return!1}function $$(t,e){var r=[t];for(var n in e){var o=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof o<"u"&&r.push(n+": "+o)}return r.join(`
`)}var $j=function(t){IH(e,t);function e(r,n,o,i,a){var c=this.constructor,u=t.call(this,$$(r,{name:n,index:o,operation:i,tree:a}))||this;return u.name=n,u.index=o,u.operation=i,u.tree=a,Object.setPrototypeOf(u,c.prototype),u.message=$$(r,{name:n,index:o,operation:i,tree:a}),u}return e}(Error),ne=$j,UH=qr,bu={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){var n=ep(r,this.path);n&&(n=qr(n));var o=rc(r,{op:"remove",path:this.from}).removed;return rc(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(t,e,r){var n=ep(r,this.from);return rc(r,{op:"add",path:this.path,value:qr(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:od(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},qH={add:function(t,e,r){return C0(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:bu.move,copy:bu.copy,test:bu.test,_get:bu._get};function ep(t,e){if(e=="")return t;var r={op:"_get",path:e};return rc(t,r),r.value}function rc(t,e,r,n,o,i){if(r===void 0&&(r=!1),n===void 0&&(n=!0),o===void 0&&(o=!0),i===void 0&&(i=0),r&&(typeof r=="function"?r(e,0,t,e.path):rp(e,0)),e.path===""){var a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=ep(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=od(t,e.value),a.test===!1)throw new ne("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(r)throw new ne("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,t);return a}}else{n||(t=qr(t));var c=e.path||"",u=c.split("/"),s=t,l=1,d=u.length,f=void 0,h=void 0,p=void 0;for(typeof r=="function"?p=r:p=rp;;){if(h=u[l],h&&h.indexOf("~")!=-1&&(h=Sj(h)),o&&(h=="__proto__"||h=="prototype"&&l>0&&u[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&f===void 0&&(s[h]===void 0?f=u.slice(0,l).join("/"):l==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),l++,Array.isArray(s)){if(h==="-")h=s.length;else{if(r&&!C0(h))throw new ne("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,e,t);C0(h)&&(h=~~h)}if(l>=d){if(r&&e.op==="add"&&h>s.length)throw new ne("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,e,t);var a=qH[e.op].call(e,s,h,t);if(a.test===!1)throw new ne("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return a}}else if(l>=d){var a=bu[e.op].call(e,s,h,t);if(a.test===!1)throw new ne("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return a}if(s=s[h],r&&l<d&&(!s||typeof s!="object"))throw new ne("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,e,t)}}}function Rg(t,e,r,n,o){if(n===void 0&&(n=!0),o===void 0&&(o=!0),r&&!Array.isArray(e))throw new ne("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=qr(t));for(var i=new Array(e.length),a=0,c=e.length;a<c;a++)i[a]=rc(t,e[a],r,!0,o,a),t=i[a].newDocument;return i.newDocument=t,i}function WH(t,e,r){var n=rc(t,e);if(n.test===!1)throw new ne("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}function rp(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new ne("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(bu[t.op]){if(typeof t.path!="string")throw new ne("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ne('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ne("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ne("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&A0(t.value))throw new ne("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var o=t.path.split("/").length,i=n.split("/").length;if(o!==i+1&&o!==i)throw new ne("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new ne("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},c=Cj([a],r);if(c&&c.name==="OPERATION_PATH_UNRESOLVABLE")throw new ne("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new ne("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}function Cj(t,e,r){try{if(!Array.isArray(t))throw new ne("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Rg(qr(e),qr(t),r||!0);else{r=r||rp;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(o){if(o instanceof ne)return o;throw o}}function od(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),o,i,a;if(r&&n){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!od(t[o],e[o]))return!1;return!0}if(r!=n)return!1;var c=Object.keys(t);if(i=c.length,i!==Object.keys(e).length)return!1;for(o=i;o--!==0;)if(!e.hasOwnProperty(c[o]))return!1;for(o=i;o--!==0;)if(a=c[o],!od(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}var HH=Object.freeze({__proto__:null,JsonPatchError:ne,_areEquals:od,applyOperation:rc,applyPatch:Rg,applyReducer:WH,deepClone:UH,getValueByPointer:ep,validate:Cj,validator:rp});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var I1=new WeakMap,GH=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),YH=function(){function t(e,r){this.callback=e,this.observer=r}return t}();function VH(t){return I1.get(t)}function XH(t,e){return t.observers.get(e)}function KH(t,e){t.observers.delete(e.callback)}function QH(t,e){e.unobserve()}function JH(t,e){var r=[],n,o=VH(t);if(!o)o=new GH(t),I1.set(t,o);else{var i=XH(o,e);n=i&&i.observer}if(n)return n;if(n={},o.value=qr(t),e){n.callback=e,n.next=null;var a=function(){P0(n)},c=function(){clearTimeout(n.next),n.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",c),window.addEventListener("keyup",c),window.addEventListener("mousedown",c),window.addEventListener("keydown",c),window.addEventListener("change",c))}return n.patches=r,n.object=t,n.unobserve=function(){P0(n),clearTimeout(n.next),KH(o,n),typeof window<"u"&&(window.removeEventListener("mouseup",c),window.removeEventListener("keyup",c),window.removeEventListener("mousedown",c),window.removeEventListener("keydown",c),window.removeEventListener("change",c))},o.observers.set(e,new YH(e,n)),n}function P0(t,e){e===void 0&&(e=!1);var r=I1.get(t.object);B1(r.value,t.object,t.patches,"",e),t.patches.length&&Rg(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}function B1(t,e,r,n,o){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var i=$0(e),a=$0(t),c=!1,u=a.length-1;u>=0;u--){var s=a[u],l=t[s];if(S0(e,s)&&!(e[s]===void 0&&l!==void 0&&Array.isArray(e)===!1)){var d=e[s];typeof l=="object"&&l!=null&&typeof d=="object"&&d!=null&&Array.isArray(l)===Array.isArray(d)?B1(l,d,r,n+"/"+Ua(s),o):l!==d&&(o&&r.push({op:"test",path:n+"/"+Ua(s),value:qr(l)}),r.push({op:"replace",path:n+"/"+Ua(s),value:qr(d)}))}else Array.isArray(t)===Array.isArray(e)?(o&&r.push({op:"test",path:n+"/"+Ua(s),value:qr(l)}),r.push({op:"remove",path:n+"/"+Ua(s)}),c=!0):(o&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}))}if(!(!c&&i.length==a.length))for(var u=0;u<i.length;u++){var s=i[u];!S0(t,s)&&e[s]!==void 0&&r.push({op:"add",path:n+"/"+Ua(s),value:qr(e[s])})}}}function ZH(t,e,r){r===void 0&&(r=!1);var n=[];return B1(t,e,n,"",r),n}var tG=Object.freeze({__proto__:null,compare:ZH,generate:P0,observe:JH,unobserve:QH});Object.assign({},HH,tG,{JsonPatchError:$j,deepClone:qr,escapePathComponent:Ua,unescapePathComponent:Sj});var eG=/("(?:[^\\"]|\\.)*")|[:,]/g,rG=function(e,r){var n,o,i;return r=r||{},n=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=n===""?1/0:r.maxLength===void 0?80:r.maxLength,i=r.replacer,function a(c,u,s){var l,d,f,h,p,g,b,m,v,y,x,k;if(c&&typeof c.toJSON=="function"&&(c=c.toJSON()),x=JSON.stringify(c,i),x===void 0)return x;if(b=o-u.length-s,x.length<=b&&(v=x.replace(eG,function(_,w){return w||_+" "}),v.length<=b))return v;if(i!=null&&(c=JSON.parse(x),i=void 0),typeof c=="object"&&c!==null){if(m=u+n,f=[],d=0,Array.isArray(c))for(y="[",l="]",b=c.length;d<b;d++)f.push(a(c[d],m,d===b-1?0:1)||"null");else for(y="{",l="}",g=Object.keys(c),b=g.length;d<b;d++)h=g[d],p=JSON.stringify(h)+": ",k=a(c[h],m,p.length+(d===b-1?0:1)),k!==void 0&&f.push(p+k);if(f.length>0)return[y,n+f.join(`,
`+m),l].join(`
`+u)}return x}(e,"",0)},Vm=Rd(rG);function zr(t,e,r){return t.fields=e||[],t.fname=r,t}function ae(t){return t==null?null:t.fname}function Ve(t){return t==null?null:t.fields}function Aj(t){return t.length===1?nG(t[0]):oG(t)}const nG=t=>function(e){return e[t]},oG=t=>{const e=t.length;return function(r){for(let n=0;n<e;++n)r=r[t[n]];return r}};function R(t){throw Error(t)}function Oo(t){const e=[],r=t.length;let n=null,o=0,i="",a,c,u;t=t+"";function s(){e.push(i+t.substring(a,c)),i="",a=c+1}for(a=c=0;c<r;++c)if(u=t[c],u==="\\")i+=t.substring(a,c++),a=c;else if(u===n)s(),n=null,o=-1;else{if(n)continue;a===o&&u==='"'||a===o&&u==="'"?(a=c+1,n=u):u==="."&&!o?c>a?s():a=c+1:u==="["?(c>a&&s(),o=a=c+1):u==="]"&&(o||R("Access path missing open bracket: "+t),o>0&&s(),o=0,a=c+1)}return o&&R("Access path missing closing bracket: "+t),n&&R("Access path missing closing quote: "+t),c>a&&(c++,s()),e}function Pr(t,e,r){const n=Oo(t);return t=n.length===1?n[0]:t,zr((r&&r.get||Aj)(n),[t],e||t)}const Ld=Pr("id"),Ze=zr(t=>t,[],"identity"),Ni=zr(()=>0,[],"zero"),ms=zr(()=>1,[],"one"),an=zr(()=>!0,[],"true"),_i=zr(()=>!1,[],"false");function iG(t,e,r){const n=[e].concat([].slice.call(r));console[t].apply(console,n)}const Pj=0,U1=1,q1=2,Nj=3,Dj=4;function W1(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iG,n=t||Pj;return{level(o){return arguments.length?(n=+o,this):n},error(){return n>=U1&&r(e||"error","ERROR",arguments),this},warn(){return n>=q1&&r(e||"warn","WARN",arguments),this},info(){return n>=Nj&&r(e||"log","INFO",arguments),this},debug(){return n>=Dj&&r(e||"log","DEBUG",arguments),this}}}var L=Array.isArray;function tt(t){return t===Object(t)}const C$=t=>t!=="__proto__";function vs(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((n,o)=>{for(const i in o)if(i==="signals")n.signals=aG(n.signals,o.signals);else{const a=i==="legend"?{layout:1}:i==="style"?!0:null;ys(n,i,o[i],a)}return n},{})}function ys(t,e,r,n){if(!C$(e))return;let o,i;if(tt(r)&&!L(r)){i=tt(t[e])?t[e]:t[e]={};for(o in r)n&&(n===!0||n[o])?ys(i,o,r[o]):C$(o)&&(i[o]=r[o])}else t[e]=r}function aG(t,e){if(t==null)return e;const r={},n=[];function o(i){r[i.name]||(r[i.name]=1,n.push(i))}return e.forEach(o),t.forEach(o),n}function $t(t){return t[t.length-1]}function He(t){return t==null||t===""?null:+t}const jj=t=>e=>t*Math.exp(e),Tj=t=>e=>Math.log(t*e),Mj=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),Fj=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,np=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function Lg(t,e,r,n){const o=r(t[0]),i=r($t(t)),a=(i-o)*e;return[n(o-a),n(i-a)]}function zj(t,e){return Lg(t,e,He,Ze)}function Rj(t,e){var r=Math.sign(t[0]);return Lg(t,e,Tj(r),jj(r))}function Lj(t,e,r){return Lg(t,e,np(r),np(1/r))}function Ij(t,e,r){return Lg(t,e,Mj(r),Fj(r))}function Ig(t,e,r,n,o){const i=n(t[0]),a=n($t(t)),c=e!=null?n(e):(i+a)/2;return[o(c+(i-c)*r),o(c+(a-c)*r)]}function H1(t,e,r){return Ig(t,e,r,He,Ze)}function G1(t,e,r){const n=Math.sign(t[0]);return Ig(t,e,r,Tj(n),jj(n))}function op(t,e,r,n){return Ig(t,e,r,np(n),np(1/n))}function Y1(t,e,r,n){return Ig(t,e,r,Mj(n),Fj(n))}function Bj(t){return 1+~~(new Date(t).getMonth()/3)}function Uj(t){return 1+~~(new Date(t).getUTCMonth()/3)}function Z(t){return t!=null?L(t)?t:[t]:[]}function qj(t,e,r){let n=t[0],o=t[1],i;return o<n&&(i=o,o=n,n=i),i=o-n,i>=r-e?[e,r]:[n=Math.min(Math.max(n,e),r-i),n+i]}function mt(t){return typeof t=="function"}const cG="descending";function V1(t,e,r){r=r||{},e=Z(e)||[];const n=[],o=[],i={},a=r.comparator||uG;return Z(t).forEach((c,u)=>{c!=null&&(n.push(e[u]===cG?-1:1),o.push(c=mt(c)?c:Pr(c,null,r)),(Ve(c)||[]).forEach(s=>i[s]=1))}),o.length===0?null:zr(a(o,n),Object.keys(i))}const Bg=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),uG=(t,e)=>t.length===1?sG(t[0],e[0]):lG(t,e,t.length),sG=(t,e)=>function(r,n){return Bg(t(r),t(n))*e},lG=(t,e,r)=>(e.push(0),function(n,o){let i,a=0,c=-1;for(;a===0&&++c<r;)i=t[c],a=Bg(i(n),i(o));return a*e[c]});function tr(t){return mt(t)?t:()=>t}function X1(t,e){let r;return n=>{r&&clearTimeout(r),r=setTimeout(()=>(e(n),r=null),t)}}function bt(t){for(let e,r,n=1,o=arguments.length;n<o;++n){e=arguments[n];for(r in e)t[r]=e[r]}return t}function go(t,e){let r=0,n,o,i,a;if(t&&(n=t.length))if(e==null){for(o=t[r];r<n&&(o==null||o!==o);o=t[++r]);for(i=a=o;r<n;++r)o=t[r],o!=null&&(o<i&&(i=o),o>a&&(a=o))}else{for(o=e(t[r]);r<n&&(o==null||o!==o);o=e(t[++r]));for(i=a=o;r<n;++r)o=e(t[r]),o!=null&&(o<i&&(i=o),o>a&&(a=o))}return[i,a]}function Wj(t,e){const r=t.length;let n=-1,o,i,a,c,u;if(e==null){for(;++n<r;)if(i=t[n],i!=null&&i>=i){o=a=i;break}if(n===r)return[-1,-1];for(c=u=n;++n<r;)i=t[n],i!=null&&(o>i&&(o=i,c=n),a<i&&(a=i,u=n))}else{for(;++n<r;)if(i=e(t[n],n,t),i!=null&&i>=i){o=a=i;break}if(n===r)return[-1,-1];for(c=u=n;++n<r;)i=e(t[n],n,t),i!=null&&(o>i&&(o=i,c=n),a<i&&(a=i,u=n))}return[c,u]}const dG=Object.prototype.hasOwnProperty;function lt(t,e){return dG.call(t,e)}const Ff={};function xs(t){let e={},r;function n(i){return lt(e,i)&&e[i]!==Ff}const o={size:0,empty:0,object:e,has:n,get(i){return n(i)?e[i]:void 0},set(i,a){return n(i)||(++o.size,e[i]===Ff&&--o.empty),e[i]=a,this},delete(i){return n(i)&&(--o.size,++o.empty,e[i]=Ff),this},clear(){o.size=o.empty=0,o.object=e={}},test(i){return arguments.length?(r=i,o):r},clean(){const i={};let a=0;for(const c in e){const u=e[c];u!==Ff&&(!r||!r(u))&&(i[c]=u,++a)}o.size=a,o.empty=0,o.object=e=i}};return t&&Object.keys(t).forEach(i=>{o.set(i,t[i])}),o}function Hj(t,e,r,n,o,i){if(!r&&r!==0)return i;const a=+r;let c=t[0],u=$t(t),s;u<c&&(s=c,c=u,u=s),s=Math.abs(e-c);const l=Math.abs(u-e);return s<l&&s<=a?n:l<=a?o:i}function X(t,e,r){const n=t.prototype=Object.create(e.prototype);return Object.defineProperty(n,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),bt(n,r)}function mu(t,e,r,n){let o=e[0],i=e[e.length-1],a;return o>i&&(a=o,o=i,i=a),r=r===void 0||r,n=n===void 0||n,(r?o<=t:o<t)&&(n?t<=i:t<i)}function fa(t){return typeof t=="boolean"}function Ui(t){return Object.prototype.toString.call(t)==="[object Date]"}function Gj(t){return t&&mt(t[Symbol.iterator])}function Bt(t){return typeof t=="number"}function Yj(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function J(t){return typeof t=="string"}function K1(t,e,r){t&&(t=e?Z(t).map(c=>c.replace(/\\(.)/g,"$1")):Z(t));const n=t&&t.length,o=r&&r.get||Aj,i=c=>o(e?[c]:Oo(c));let a;if(!n)a=function(){return""};else if(n===1){const c=i(t[0]);a=function(u){return""+c(u)}}else{const c=t.map(i);a=function(u){let s=""+c[0](u),l=0;for(;++l<n;)s+="|"+c[l](u);return s}}return zr(a,t,"key")}function Vj(t,e){const r=t[0],n=$t(t),o=+e;return o?o===1?n:r+o*(n-r):r}const fG=1e4;function Xj(t){t=+t||fG;let e,r,n;const o=()=>{e={},r={},n=0},i=(a,c)=>(++n>t&&(r=e,e={},n=1),e[a]=c);return o(),{clear:o,has:a=>lt(e,a)||lt(r,a),get:a=>lt(e,a)?e[a]:lt(r,a)?i(a,r[a]):void 0,set:(a,c)=>lt(e,a)?e[a]=c:i(a,c)}}function Kj(t,e,r,n){const o=e.length,i=r.length;if(!i)return e;if(!o)return r;const a=n||new e.constructor(o+i);let c=0,u=0,s=0;for(;c<o&&u<i;++s)a[s]=t(e[c],r[u])>0?r[u++]:e[c++];for(;c<o;++c,++s)a[s]=e[c];for(;u<i;++u,++s)a[s]=r[u];return a}function yl(t,e){let r="";for(;--e>=0;)r+=t;return r}function Qj(t,e,r,n){const o=r||" ",i=t+"",a=e-i.length;return a<=0?i:n==="left"?yl(o,a)+i:n==="center"?yl(o,~~(a/2))+i+yl(o,Math.ceil(a/2)):i+yl(o,a)}function Id(t){return t&&$t(t)-t[0]||0}function V(t){return L(t)?"["+t.map(V)+"]":tt(t)||J(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function Q1(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const hG=t=>Bt(t)||Ui(t)?t:Date.parse(t);function J1(t,e){return e=e||hG,t==null||t===""?null:e(t)}function Z1(t){return t==null||t===""?null:t+""}function Fn(t){const e={},r=t.length;for(let n=0;n<r;++n)e[t[n]]=!0;return e}function Jj(t,e,r,n){const o=n??"…",i=t+"",a=i.length,c=Math.max(0,e-o.length);return a<=e?i:r==="left"?o+i.slice(a-c):r==="center"?i.slice(0,Math.ceil(c/2))+o+i.slice(a-~~(c/2)):i.slice(0,c)+o}function Si(t,e,r){if(t)if(e){const n=t.length;for(let o=0;o<n;++o){const i=e(t[o]);i&&r(i,o,t)}}else t.forEach(r)}var A$={},Xm={},Km=34,Ys=10,Qm=13;function Zj(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function pG(t,e){var r=Zj(t);return function(n,o){return e(r(n),o,t)}}function P$(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var o in n)o in e||r.push(e[o]=o)}),r}function vr(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function gG(t){return t<0?"-"+vr(-t,6):t>9999?"+"+vr(t,6):vr(t,4)}function bG(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":gG(t.getUTCFullYear())+"-"+vr(t.getUTCMonth()+1,2)+"-"+vr(t.getUTCDate(),2)+(o?"T"+vr(e,2)+":"+vr(r,2)+":"+vr(n,2)+"."+vr(o,3)+"Z":n?"T"+vr(e,2)+":"+vr(r,2)+":"+vr(n,2)+"Z":r||e?"T"+vr(e,2)+":"+vr(r,2)+"Z":"")}function mG(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(d,f){var h,p,g=o(d,function(b,m){if(h)return h(b,m-1);p=b,h=f?pG(b,f):Zj(b)});return g.columns=p||[],g}function o(d,f){var h=[],p=d.length,g=0,b=0,m,v=p<=0,y=!1;d.charCodeAt(p-1)===Ys&&--p,d.charCodeAt(p-1)===Qm&&--p;function x(){if(v)return Xm;if(y)return y=!1,A$;var _,w=g,O;if(d.charCodeAt(w)===Km){for(;g++<p&&d.charCodeAt(g)!==Km||d.charCodeAt(++g)===Km;);return(_=g)>=p?v=!0:(O=d.charCodeAt(g++))===Ys?y=!0:O===Qm&&(y=!0,d.charCodeAt(g)===Ys&&++g),d.slice(w+1,_-1).replace(/""/g,'"')}for(;g<p;){if((O=d.charCodeAt(_=g++))===Ys)y=!0;else if(O===Qm)y=!0,d.charCodeAt(g)===Ys&&++g;else if(O!==r)continue;return d.slice(w,_)}return v=!0,d.slice(w,p)}for(;(m=x())!==Xm;){for(var k=[];m!==A$&&m!==Xm;)k.push(m),m=x();f&&(k=f(k,b++))==null||h.push(k)}return h}function i(d,f){return d.map(function(h){return f.map(function(p){return l(h[p])}).join(t)})}function a(d,f){return f==null&&(f=P$(d)),[f.map(l).join(t)].concat(i(d,f)).join(`
`)}function c(d,f){return f==null&&(f=P$(d)),i(d,f).join(`
`)}function u(d){return d.map(s).join(`
`)}function s(d){return d.map(l).join(t)}function l(d){return d==null?"":d instanceof Date?bG(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:n,parseRows:o,format:a,formatBody:c,formatRows:u,formatRow:s,formatValue:l}}function vG(t){return t}function yG(t){if(t==null)return vG;var e,r,n=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(c,u){u||(e=r=0);var s=2,l=c.length,d=new Array(l);for(d[0]=(e+=c[0])*n+i,d[1]=(r+=c[1])*o+a;s<l;)d[s]=c[s],++s;return d}}function xG(t,e){for(var r,n=t.length,o=n-e;o<--n;)r=t[o],t[o++]=t[n],t[n]=r}function wG(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(r){return N$(t,r)})}:N$(t,e)}function N$(t,e){var r=e.id,n=e.bbox,o=e.properties==null?{}:e.properties,i=tT(t,e);return r==null&&n==null?{type:"Feature",properties:o,geometry:i}:n==null?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function tT(t,e){var r=yG(t.transform),n=t.arcs;function o(l,d){d.length&&d.pop();for(var f=n[l<0?~l:l],h=0,p=f.length;h<p;++h)d.push(r(f[h],h));l<0&&xG(d,p)}function i(l){return r(l)}function a(l){for(var d=[],f=0,h=l.length;f<h;++f)o(l[f],d);return d.length<2&&d.push(d[0]),d}function c(l){for(var d=a(l);d.length<4;)d.push(d[0]);return d}function u(l){return l.map(c)}function s(l){var d=l.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:l.geometries.map(s)};case"Point":f=i(l.coordinates);break;case"MultiPoint":f=l.coordinates.map(i);break;case"LineString":f=a(l.arcs);break;case"MultiLineString":f=l.arcs.map(a);break;case"Polygon":f=u(l.arcs);break;case"MultiPolygon":f=l.arcs.map(u);break;default:return null}return{type:d,coordinates:f}}return s(e)}function kG(t,e){var r={},n={},o={},i=[],a=-1;e.forEach(function(s,l){var d=t.arcs[s<0?~s:s],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=e[++a],e[a]=s,e[l]=f)}),e.forEach(function(s){var l=c(s),d=l[0],f=l[1],h,p;if(h=o[d])if(delete o[h.end],h.push(s),h.end=f,p=n[f]){delete n[p.start];var g=p===h?h:h.concat(p);n[g.start=h.start]=o[g.end=p.end]=g}else n[h.start]=o[h.end]=h;else if(h=n[f])if(delete n[h.start],h.unshift(s),h.start=d,p=o[d]){delete o[p.end];var b=p===h?h:p.concat(h);n[b.start=p.start]=o[b.end=h.end]=b}else n[h.start]=o[h.end]=h;else h=[s],n[h.start=d]=o[h.end=f]=h});function c(s){var l=t.arcs[s<0?~s:s],d=l[0],f;return t.transform?(f=[0,0],l.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=l[l.length-1],s<0?[f,d]:[d,f]}function u(s,l){for(var d in s){var f=s[d];delete l[f.start],delete f.start,delete f.end,f.forEach(function(h){r[h<0?~h:h]=1}),i.push(f)}}return u(o,n),u(n,o),e.forEach(function(s){r[s<0?~s:s]||i.push([s])}),i}function _G(t){return tT(t,OG.apply(this,arguments))}function OG(t,e,r){var n,o,i;if(arguments.length>1)n=EG(t,e,r);else for(o=0,n=new Array(i=t.arcs.length);o<i;++o)n[o]=o;return{type:"MultiLineString",arcs:kG(t,n)}}function EG(t,e,r){var n=[],o=[],i;function a(d){var f=d<0?~d:d;(o[f]||(o[f]=[])).push({i:d,g:i})}function c(d){d.forEach(a)}function u(d){d.forEach(c)}function s(d){d.forEach(u)}function l(d){switch(i=d,d.type){case"GeometryCollection":d.geometries.forEach(l);break;case"LineString":c(d.arcs);break;case"MultiLineString":case"Polygon":u(d.arcs);break;case"MultiPolygon":s(d.arcs);break}}return l(e),o.forEach(r==null?function(d){n.push(d[0].i)}:function(d){r(d[0].g,d[d.length-1].g)&&n.push(d[0].i)}),n}function Zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bd(t){let e,r,n;t.length!==2?(e=Zo,r=(c,u)=>Zo(t(c),u),n=(c,u)=>t(c)-u):(e=t===Zo||t===SG?t:$G,r=t,n=t);function o(c,u,s=0,l=c.length){if(s<l){if(e(u,u)!==0)return l;do{const d=s+l>>>1;r(c[d],u)<0?s=d+1:l=d}while(s<l)}return s}function i(c,u,s=0,l=c.length){if(s<l){if(e(u,u)!==0)return l;do{const d=s+l>>>1;r(c[d],u)<=0?s=d+1:l=d}while(s<l)}return s}function a(c,u,s=0,l=c.length){const d=o(c,u,s,l-1);return d>s&&n(c[d-1],u)>-n(c[d],u)?d-1:d}return{left:o,center:a,right:i}}function $G(){return 0}function eT(t){return t===null?NaN:+t}function*CG(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const rT=Bd(Zo),ip=rT.right,AG=rT.left;Bd(eT).center;var Ud=ip;function PG(t,e){let r=0,n,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(n=a-o,o+=n/++r,i+=n*(a-o));else{let a=-1;for(let c of t)(c=e(c,++a,t))!=null&&(c=+c)>=c&&(n=c-o,o+=n/++r,i+=n*(c-o))}if(r>1)return i/(r-1)}function NG(t,e){const r=PG(t,e);return r&&Math.sqrt(r)}class dr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const r=this._partials;let n=0;for(let o=0;o<this._n&&o<32;o++){const i=r[o],a=e+i,c=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);c&&(r[n++]=c),e=a}return r[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let r=this._n,n,o,i,a=0;if(r>0){for(a=e[--r];r>0&&(n=a,o=e[--r],a=n+o,i=o-(a-n),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(o=i*2,n=a+o,o==n-a&&(a=n))}return a}}class D$ extends Map{constructor(e,r=iT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,o]of e)this.set(n,o)}get(e){return super.get(N0(this,e))}has(e){return super.has(N0(this,e))}set(e,r){return super.set(nT(this,e),r)}delete(e){return super.delete(oT(this,e))}}class ap extends Set{constructor(e,r=iT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const n of e)this.add(n)}has(e){return super.has(N0(this,e))}add(e){return super.add(nT(this,e))}delete(e){return super.delete(oT(this,e))}}function N0({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function nT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function oT({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function iT(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DG(t,e){return Array.from(e,r=>t[r])}function jG(t=Zo){if(t===Zo)return aT;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function aT(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const TG=Math.sqrt(50),MG=Math.sqrt(10),FG=Math.sqrt(2);function cp(t,e,r){const n=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),a=i>=TG?10:i>=MG?5:i>=FG?2:1;let c,u,s;return o<0?(s=Math.pow(10,-o)/a,c=Math.round(t*s),u=Math.round(e*s),c/s<t&&++c,u/s>e&&--u,s=-s):(s=Math.pow(10,o)*a,c=Math.round(t/s),u=Math.round(e/s),c*s<t&&++c,u*s>e&&--u),u<c&&.5<=r&&r<2?cp(t,e,r*2):[c,u,s]}function D0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[o,i,a]=n?cp(e,t,r):cp(t,e,r);if(!(i>=o))return[];const c=i-o+1,u=new Array(c);if(n)if(a<0)for(let s=0;s<c;++s)u[s]=(i-s)/-a;else for(let s=0;s<c;++s)u[s]=(i-s)*a;else if(a<0)for(let s=0;s<c;++s)u[s]=(o+s)/-a;else for(let s=0;s<c;++s)u[s]=(o+s)*a;return u}function j0(t,e,r){return e=+e,t=+t,r=+r,cp(t,e,r)[2]}function Ki(t,e,r){e=+e,t=+t,r=+r;const n=e<t,o=n?j0(e,t,r):j0(t,e,r);return(n?-1:1)*(o<0?1/-o:o)}function nc(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function T0(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function cT(t,e,r=0,n=1/0,o){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(o=o===void 0?aT:jG(o);n>r;){if(n-r>600){const u=n-r+1,s=e-r+1,l=Math.log(u),d=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*d*(u-d)/u)*(s-u/2<0?-1:1),h=Math.max(r,Math.floor(e-s*d/u+f)),p=Math.min(n,Math.floor(e+(u-s)*d/u+f));cT(t,e,h,p,o)}const i=t[e];let a=r,c=n;for(Vs(t,r,e),o(t[n],i)>0&&Vs(t,r,n);a<c;){for(Vs(t,a,c),++a,--c;o(t[a],i)<0;)++a;for(;o(t[c],i)>0;)--c}o(t[r],i)===0?Vs(t,r,c):(++c,Vs(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Vs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function M0(t,e,r){if(t=Float64Array.from(CG(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return T0(t);if(e>=1)return nc(t);var n,o=(n-1)*e,i=Math.floor(o),a=nc(cT(t,i).subarray(0,i+1)),c=T0(t.subarray(i+1));return a+(c-a)*(o-i)}}function uT(t,e,r=eT){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,o=(n-1)*e,i=Math.floor(o),a=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return a+(c-a)*(o-i)}}function zG(t,e){let r=0,n=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++r,n+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function sT(t,e){return M0(t,.5,e)}function*RG(t){for(const e of t)yield*e}function lT(t){return Array.from(RG(t))}function Wr(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}function dT(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&(r+=o)}return r}function LG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function up(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Mu(t){return t=up(Math.abs(t)),t?t[1]:NaN}function IG(t,e){return function(r,n){for(var o=r.length,i=[],a=0,c=t[0],u=0;o>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),i.push(r.substring(o-=c,o+c)),!((u+=c+1)>n));)c=t[a=(a+1)%t.length];return i.reverse().join(e)}}function BG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var UG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(t){if(!(e=UG.exec(t)))throw new Error("invalid format: "+t);var e;return new tx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fc.prototype=tx.prototype;function tx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qG(t){t:for(var e=t.length,r=1,n=-1,o;r<e;++r)switch(t[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var fT;function WG(t,e){var r=up(t,e);if(!r)return t+"";var n=r[0],o=r[1],i=o-(fT=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+up(t,Math.max(0,e+i-1))[0]}function j$(t,e){var r=up(t,e);if(!r)return t+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var T$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:LG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j$(t*100,e),r:j$,s:WG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function M$(t){return t}var F$=Array.prototype.map,z$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hT(t){var e=t.grouping===void 0||t.thousands===void 0?M$:IG(F$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?M$:BG(F$.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function s(d){d=fc(d);var f=d.fill,h=d.align,p=d.sign,g=d.symbol,b=d.zero,m=d.width,v=d.comma,y=d.precision,x=d.trim,k=d.type;k==="n"?(v=!0,k="g"):T$[k]||(y===void 0&&(y=12),x=!0,k="g"),(b||f==="0"&&h==="=")&&(b=!0,f="0",h="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",w=g==="$"?n:/[%p]/.test(k)?a:"",O=T$[k],C=/[defgprs%]/.test(k);y=y===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function S(A){var T=_,$=w,P,E,N;if(k==="c")$=O(A)+$,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?u:O(Math.abs(A),y),x&&(A=qG(A)),D&&+A==0&&p!=="+"&&(D=!1),T=(D?p==="("?p:c:p==="-"||p==="("?"":p)+T,$=(k==="s"?z$[8+fT/3]:"")+$+(D&&p==="("?")":""),C){for(P=-1,E=A.length;++P<E;)if(N=A.charCodeAt(P),48>N||N>57){$=(N===46?o+A.slice(P+1):A.slice(P))+$,A=A.slice(0,P);break}}}v&&!b&&(A=e(A,1/0));var F=T.length+A.length+$.length,I=F<m?new Array(m-F+1).join(f):"";switch(v&&b&&(A=e(I+A,I.length?m-$.length:1/0),I=""),h){case"<":A=T+A+$+I;break;case"=":A=T+I+A+$;break;case"^":A=I.slice(0,F=I.length>>1)+T+A+$+I.slice(F);break;default:A=I+T+A+$;break}return i(A)}return S.toString=function(){return d+""},S}function l(d,f){var h=s((d=fc(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Mu(f)/3)))*3,g=Math.pow(10,-p),b=z$[8+p/3];return function(m){return h(g*m)+b}}return{format:s,formatPrefix:l}}var zf,Ug,ex;HG({thousands:",",grouping:[3],currency:["$",""]});function HG(t){return zf=hT(t),Ug=zf.format,ex=zf.formatPrefix,zf}function pT(t){return Math.max(0,-Mu(Math.abs(t)))}function gT(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mu(e)/3)))*3-Mu(Math.abs(t)))}function bT(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mu(e)-Mu(t))+1}const Jm=new Date,Zm=new Date;function ge(t,e,r,n){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{const a=o(i),c=o.ceil(i);return i-a<c-i?a:c},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,c)=>{const u=[];if(i=o.ceil(i),c=c==null?1:Math.floor(c),!(i<a)||!(c>0))return u;let s;do u.push(s=new Date(+i)),e(i,c),t(i);while(s<i&&i<a);return u},o.filter=i=>ge(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;e(a,-1),!i(a););else for(;--c>=0;)for(;e(a,1),!i(a););}),r&&(o.count=(i,a)=>(Jm.setTime(+i),Zm.setTime(+a),t(Jm),t(Zm),Math.floor(r(Jm,Zm))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?a=>n(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const Fu=ge(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ge(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Fu);Fu.range;const Yo=1e3,Zr=Yo*60,Vo=Zr*60,ai=Vo*24,rx=ai*7,R$=ai*30,tv=ai*365,Xo=ge(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yo)},(t,e)=>(e-t)/Yo,t=>t.getUTCSeconds());Xo.range;const qg=ge(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yo)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getMinutes());qg.range;const Wg=ge(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCMinutes());Wg.range;const Hg=ge(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yo-t.getMinutes()*Zr)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getHours());Hg.range;const Gg=ge(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCHours());Gg.range;const ti=ge(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/ai,t=>t.getDate()-1);ti.range;const qi=ge(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ai,t=>t.getUTCDate()-1);qi.range;const mT=ge(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ai,t=>Math.floor(t/ai));mT.range;function Tc(t){return ge(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/rx)}const ws=Tc(0),sp=Tc(1),GG=Tc(2),YG=Tc(3),zu=Tc(4),VG=Tc(5),XG=Tc(6);ws.range;sp.range;GG.range;YG.range;zu.range;VG.range;XG.range;function Mc(t){return ge(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/rx)}const ks=Mc(0),lp=Mc(1),KG=Mc(2),QG=Mc(3),Ru=Mc(4),JG=Mc(5),ZG=Mc(6);ks.range;lp.range;KG.range;QG.range;Ru.range;JG.range;ZG.range;const id=ge(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());id.range;const ad=ge(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ad.range;const bo=ge(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ge(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});bo.range;const mo=ge(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ge(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});mo.range;function vT(t,e,r,n,o,i){const a=[[Xo,1,Yo],[Xo,5,5*Yo],[Xo,15,15*Yo],[Xo,30,30*Yo],[i,1,Zr],[i,5,5*Zr],[i,15,15*Zr],[i,30,30*Zr],[o,1,Vo],[o,3,3*Vo],[o,6,6*Vo],[o,12,12*Vo],[n,1,ai],[n,2,2*ai],[r,1,rx],[e,1,R$],[e,3,3*R$],[t,1,tv]];function c(s,l,d){const f=l<s;f&&([s,l]=[l,s]);const h=d&&typeof d.range=="function"?d:u(s,l,d),p=h?h.range(s,+l+1):[];return f?p.reverse():p}function u(s,l,d){const f=Math.abs(l-s)/d,h=Bd(([,,b])=>b).right(a,f);if(h===a.length)return t.every(Ki(s/tv,l/tv,d));if(h===0)return Fu.every(Math.max(Ki(s,l,d),1));const[p,g]=a[f/a[h-1][2]<a[h][2]/f?h-1:h];return p.every(g)}return[c,u]}const[tY,eY]=vT(mo,ad,ks,mT,Gg,Wg),[rY,nY]=vT(bo,id,ws,ti,Hg,qg),je="year",Nr="quarter",Xe="month",fe="week",Dr="date",We="day",vo="dayofyear",Gr="hours",Yr="minutes",cn="seconds",zn="milliseconds",nx=[je,Nr,Xe,fe,Dr,We,vo,Gr,Yr,cn,zn],ev=nx.reduce((t,e,r)=>(t[e]=1+r,t),{});function ox(t){const e=Z(t).slice(),r={};return e.length||R("Missing time unit."),e.forEach(o=>{lt(ev,o)?r[o]=1:R(`Invalid time unit: ${o}.`)}),(r[fe]||r[We]?1:0)+(r[Nr]||r[Xe]||r[Dr]?1:0)+(r[vo]?1:0)>1&&R(`Incompatible time units: ${t}`),e.sort((o,i)=>ev[o]-ev[i]),e}const oY={[je]:"%Y ",[Nr]:"Q%q ",[Xe]:"%b ",[Dr]:"%d ",[fe]:"W%U ",[We]:"%a ",[vo]:"%j ",[Gr]:"%H:00",[Yr]:"00:%M",[cn]:":%S",[zn]:".%L",[`${je}-${Xe}`]:"%Y-%m ",[`${je}-${Xe}-${Dr}`]:"%Y-%m-%d ",[`${Gr}-${Yr}`]:"%H:%M"};function yT(t,e){const r=bt({},oY,e),n=ox(t),o=n.length;let i="",a=0,c,u;for(a=0;a<o;)for(c=n.length;c>a;--c)if(u=n.slice(a,c).join("-"),r[u]!=null){i+=r[u],a=c;break}return i.trim()}const Ha=new Date;function ix(t){return Ha.setFullYear(t),Ha.setMonth(0),Ha.setDate(1),Ha.setHours(0,0,0,0),Ha}function xT(t){return kT(new Date(t))}function wT(t){return F0(new Date(t))}function kT(t){return ti.count(ix(t.getFullYear())-1,t)}function F0(t){return ws.count(ix(t.getFullYear())-1,t)}function z0(t){return ix(t).getDay()}function iY(t,e,r,n,o,i,a){if(0<=t&&t<100){const c=new Date(-1,e,r,n,o,i,a);return c.setFullYear(t),c}return new Date(t,e,r,n,o,i,a)}function _T(t){return ET(new Date(t))}function OT(t){return R0(new Date(t))}function ET(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return qi.count(e-1,t)}function R0(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return ks.count(e-1,t)}function L0(t){return Ha.setTime(Date.UTC(t,0,1)),Ha.getUTCDay()}function aY(t,e,r,n,o,i,a){if(0<=t&&t<100){const c=new Date(Date.UTC(-1,e,r,n,o,i,a));return c.setUTCFullYear(r.y),c}return new Date(Date.UTC(t,e,r,n,o,i,a))}function ST(t,e,r,n,o){const i=e||1,a=$t(t),c=(m,v,y)=>(y=y||m,cY(r[y],n[y],m===a&&i,v)),u=new Date,s=Fn(t),l=s[je]?c(je):tr(2012),d=s[Xe]?c(Xe):s[Nr]?c(Nr):Ni,f=s[fe]&&s[We]?c(We,1,fe+We):s[fe]?c(fe,1):s[We]?c(We,1):s[Dr]?c(Dr,1):s[vo]?c(vo,1):ms,h=s[Gr]?c(Gr):Ni,p=s[Yr]?c(Yr):Ni,g=s[cn]?c(cn):Ni,b=s[zn]?c(zn):Ni;return function(m){u.setTime(+m);const v=l(u);return o(v,d(u),f(u,v),h(u),p(u),g(u),b(u))}}function cY(t,e,r,n){const o=r<=1?t:n?(i,a)=>n+r*Math.floor((t(i,a)-n)/r):(i,a)=>r*Math.floor(t(i,a)/r);return e?(i,a)=>e(o(i,a),a):o}function Lu(t,e,r){return e+t*7-(r+6)%7}const uY={[je]:t=>t.getFullYear(),[Nr]:t=>Math.floor(t.getMonth()/3),[Xe]:t=>t.getMonth(),[Dr]:t=>t.getDate(),[Gr]:t=>t.getHours(),[Yr]:t=>t.getMinutes(),[cn]:t=>t.getSeconds(),[zn]:t=>t.getMilliseconds(),[vo]:t=>kT(t),[fe]:t=>F0(t),[fe+We]:(t,e)=>Lu(F0(t),t.getDay(),z0(e)),[We]:(t,e)=>Lu(1,t.getDay(),z0(e))},sY={[Nr]:t=>3*t,[fe]:(t,e)=>Lu(t,0,z0(e))};function $T(t,e){return ST(t,e||1,uY,sY,iY)}const lY={[je]:t=>t.getUTCFullYear(),[Nr]:t=>Math.floor(t.getUTCMonth()/3),[Xe]:t=>t.getUTCMonth(),[Dr]:t=>t.getUTCDate(),[Gr]:t=>t.getUTCHours(),[Yr]:t=>t.getUTCMinutes(),[cn]:t=>t.getUTCSeconds(),[zn]:t=>t.getUTCMilliseconds(),[vo]:t=>ET(t),[fe]:t=>R0(t),[We]:(t,e)=>Lu(1,t.getUTCDay(),L0(e)),[fe+We]:(t,e)=>Lu(R0(t),t.getUTCDay(),L0(e))},dY={[Nr]:t=>3*t,[fe]:(t,e)=>Lu(t,0,L0(e))};function CT(t,e){return ST(t,e||1,lY,dY,aY)}const fY={[je]:bo,[Nr]:id.every(3),[Xe]:id,[fe]:ws,[Dr]:ti,[We]:ti,[vo]:ti,[Gr]:Hg,[Yr]:qg,[cn]:Xo,[zn]:Fu},hY={[je]:mo,[Nr]:ad.every(3),[Xe]:ad,[fe]:ks,[Dr]:qi,[We]:qi,[vo]:qi,[Gr]:Gg,[Yr]:Wg,[cn]:Xo,[zn]:Fu};function _s(t){return fY[t]}function Os(t){return hY[t]}function AT(t,e,r){return t?t.offset(e,r):void 0}function PT(t,e,r){return AT(_s(t),e,r)}function NT(t,e,r){return AT(Os(t),e,r)}function DT(t,e,r,n){return t?t.range(e,r,n):void 0}function jT(t,e,r,n){return DT(_s(t),e,r,n)}function TT(t,e,r,n){return DT(Os(t),e,r,n)}const xl=1e3,wl=xl*60,kl=wl*60,Yg=kl*24,pY=Yg*7,L$=Yg*30,I0=Yg*365,MT=[je,Xe,Dr,Gr,Yr,cn,zn],_l=MT.slice(0,-1),Ol=_l.slice(0,-1),El=Ol.slice(0,-1),gY=El.slice(0,-1),bY=[je,fe],I$=[je,Xe],FT=[je],Xs=[[_l,1,xl],[_l,5,5*xl],[_l,15,15*xl],[_l,30,30*xl],[Ol,1,wl],[Ol,5,5*wl],[Ol,15,15*wl],[Ol,30,30*wl],[El,1,kl],[El,3,3*kl],[El,6,6*kl],[El,12,12*kl],[gY,1,Yg],[bY,1,pY],[I$,1,L$],[I$,3,3*L$],[FT,1,I0]];function zT(t){const e=t.extent,r=t.maxbins||40,n=Math.abs(Id(e))/r;let o=Bd(c=>c[2]).right(Xs,n),i,a;return o===Xs.length?(i=FT,a=Ki(e[0]/I0,e[1]/I0,r)):o?(o=Xs[n/Xs[o-1][2]<Xs[o][2]/n?o-1:o],i=o[0],a=o[1]):(i=MT,a=Math.max(Ki(e[0],e[1],r),1)),{units:i,step:a}}function rv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ks(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function RT(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,i=t.days,a=t.shortDays,c=t.months,u=t.shortMonths,s=Qs(o),l=Js(o),d=Qs(i),f=Js(i),h=Qs(a),p=Js(a),g=Qs(c),b=Js(c),m=Qs(u),v=Js(u),y={a:D,A:F,b:I,B:rt,c:null,d:G$,e:G$,f:LY,g:XY,G:QY,H:FY,I:zY,j:RY,L:LT,m:IY,M:BY,p:it,q:gt,Q:X$,s:K$,S:UY,u:qY,U:WY,V:HY,w:GY,W:YY,x:null,X:null,y:VY,Y:KY,Z:JY,"%":V$},x={a:Pt,A:_t,b:Gt,B:Fo,c:null,d:Y$,e:Y$,f:rV,g:fV,G:pV,H:ZY,I:tV,j:eV,L:BT,m:nV,M:oV,p:Qc,q:$a,Q:X$,s:K$,S:iV,u:aV,U:cV,V:uV,w:sV,W:lV,x:null,X:null,y:dV,Y:hV,Z:gV,"%":V$},k={a:S,A,b:T,B:$,c:P,d:W$,e:W$,f:DY,g:q$,G:U$,H:H$,I:H$,j:CY,L:NY,m:$Y,M:AY,p:C,q:SY,Q:TY,s:MY,S:PY,u:wY,U:kY,V:_Y,w:xY,W:OY,x:E,X:N,y:q$,Y:U$,Z:EY,"%":jY};y.x=_(r,y),y.X=_(n,y),y.c=_(e,y),x.x=_(r,x),x.X=_(n,x),x.c=_(e,x);function _(et,vt){return function(xt){var Y=[],Ae=-1,Mt=0,ze=et.length,er,Ca,hO;for(xt instanceof Date||(xt=new Date(+xt));++Ae<ze;)et.charCodeAt(Ae)===37&&(Y.push(et.slice(Mt,Ae)),(Ca=B$[er=et.charAt(++Ae)])!=null?er=et.charAt(++Ae):Ca=er==="e"?" ":"0",(hO=vt[er])&&(er=hO(xt,Ca)),Y.push(er),Mt=Ae+1);return Y.push(et.slice(Mt,Ae)),Y.join("")}}function w(et,vt){return function(xt){var Y=Ks(1900,void 0,1),Ae=O(Y,et,xt+="",0),Mt,ze;if(Ae!=xt.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(vt&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Mt=nv(Ks(Y.y,0,1)),ze=Mt.getUTCDay(),Mt=ze>4||ze===0?lp.ceil(Mt):lp(Mt),Mt=qi.offset(Mt,(Y.V-1)*7),Y.y=Mt.getUTCFullYear(),Y.m=Mt.getUTCMonth(),Y.d=Mt.getUTCDate()+(Y.w+6)%7):(Mt=rv(Ks(Y.y,0,1)),ze=Mt.getDay(),Mt=ze>4||ze===0?sp.ceil(Mt):sp(Mt),Mt=ti.offset(Mt,(Y.V-1)*7),Y.y=Mt.getFullYear(),Y.m=Mt.getMonth(),Y.d=Mt.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ze="Z"in Y?nv(Ks(Y.y,0,1)).getUTCDay():rv(Ks(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ze+5)%7:Y.w+Y.U*7-(ze+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,nv(Y)):rv(Y)}}function O(et,vt,xt,Y){for(var Ae=0,Mt=vt.length,ze=xt.length,er,Ca;Ae<Mt;){if(Y>=ze)return-1;if(er=vt.charCodeAt(Ae++),er===37){if(er=vt.charAt(Ae++),Ca=k[er in B$?vt.charAt(Ae++):er],!Ca||(Y=Ca(et,xt,Y))<0)return-1}else if(er!=xt.charCodeAt(Y++))return-1}return Y}function C(et,vt,xt){var Y=s.exec(vt.slice(xt));return Y?(et.p=l.get(Y[0].toLowerCase()),xt+Y[0].length):-1}function S(et,vt,xt){var Y=h.exec(vt.slice(xt));return Y?(et.w=p.get(Y[0].toLowerCase()),xt+Y[0].length):-1}function A(et,vt,xt){var Y=d.exec(vt.slice(xt));return Y?(et.w=f.get(Y[0].toLowerCase()),xt+Y[0].length):-1}function T(et,vt,xt){var Y=m.exec(vt.slice(xt));return Y?(et.m=v.get(Y[0].toLowerCase()),xt+Y[0].length):-1}function $(et,vt,xt){var Y=g.exec(vt.slice(xt));return Y?(et.m=b.get(Y[0].toLowerCase()),xt+Y[0].length):-1}function P(et,vt,xt){return O(et,e,vt,xt)}function E(et,vt,xt){return O(et,r,vt,xt)}function N(et,vt,xt){return O(et,n,vt,xt)}function D(et){return a[et.getDay()]}function F(et){return i[et.getDay()]}function I(et){return u[et.getMonth()]}function rt(et){return c[et.getMonth()]}function it(et){return o[+(et.getHours()>=12)]}function gt(et){return 1+~~(et.getMonth()/3)}function Pt(et){return a[et.getUTCDay()]}function _t(et){return i[et.getUTCDay()]}function Gt(et){return u[et.getUTCMonth()]}function Fo(et){return c[et.getUTCMonth()]}function Qc(et){return o[+(et.getUTCHours()>=12)]}function $a(et){return 1+~~(et.getUTCMonth()/3)}return{format:function(et){var vt=_(et+="",y);return vt.toString=function(){return et},vt},parse:function(et){var vt=w(et+="",!1);return vt.toString=function(){return et},vt},utcFormat:function(et){var vt=_(et+="",x);return vt.toString=function(){return et},vt},utcParse:function(et){var vt=w(et+="",!0);return vt.toString=function(){return et},vt}}}var B$={"-":"",_:" ",0:"0"},Ce=/^\s*\d+/,mY=/^%/,vY=/[\\^$*+?|[\]().{}]/g;function Dt(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(e)+o:o)}function yY(t){return t.replace(vY,"\\$&")}function Qs(t){return new RegExp("^(?:"+t.map(yY).join("|")+")","i")}function Js(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function xY(t,e,r){var n=Ce.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wY(t,e,r){var n=Ce.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function kY(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function _Y(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function OY(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function U$(t,e,r){var n=Ce.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function q$(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EY(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SY(t,e,r){var n=Ce.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function $Y(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function W$(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CY(t,e,r){var n=Ce.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function H$(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function AY(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function PY(t,e,r){var n=Ce.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function NY(t,e,r){var n=Ce.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function DY(t,e,r){var n=Ce.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jY(t,e,r){var n=mY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function TY(t,e,r){var n=Ce.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function MY(t,e,r){var n=Ce.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function G$(t,e){return Dt(t.getDate(),e,2)}function FY(t,e){return Dt(t.getHours(),e,2)}function zY(t,e){return Dt(t.getHours()%12||12,e,2)}function RY(t,e){return Dt(1+ti.count(bo(t),t),e,3)}function LT(t,e){return Dt(t.getMilliseconds(),e,3)}function LY(t,e){return LT(t,e)+"000"}function IY(t,e){return Dt(t.getMonth()+1,e,2)}function BY(t,e){return Dt(t.getMinutes(),e,2)}function UY(t,e){return Dt(t.getSeconds(),e,2)}function qY(t){var e=t.getDay();return e===0?7:e}function WY(t,e){return Dt(ws.count(bo(t)-1,t),e,2)}function IT(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function HY(t,e){return t=IT(t),Dt(zu.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function GY(t){return t.getDay()}function YY(t,e){return Dt(sp.count(bo(t)-1,t),e,2)}function VY(t,e){return Dt(t.getFullYear()%100,e,2)}function XY(t,e){return t=IT(t),Dt(t.getFullYear()%100,e,2)}function KY(t,e){return Dt(t.getFullYear()%1e4,e,4)}function QY(t,e){var r=t.getDay();return t=r>=4||r===0?zu(t):zu.ceil(t),Dt(t.getFullYear()%1e4,e,4)}function JY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dt(e/60|0,"0",2)+Dt(e%60,"0",2)}function Y$(t,e){return Dt(t.getUTCDate(),e,2)}function ZY(t,e){return Dt(t.getUTCHours(),e,2)}function tV(t,e){return Dt(t.getUTCHours()%12||12,e,2)}function eV(t,e){return Dt(1+qi.count(mo(t),t),e,3)}function BT(t,e){return Dt(t.getUTCMilliseconds(),e,3)}function rV(t,e){return BT(t,e)+"000"}function nV(t,e){return Dt(t.getUTCMonth()+1,e,2)}function oV(t,e){return Dt(t.getUTCMinutes(),e,2)}function iV(t,e){return Dt(t.getUTCSeconds(),e,2)}function aV(t){var e=t.getUTCDay();return e===0?7:e}function cV(t,e){return Dt(ks.count(mo(t)-1,t),e,2)}function UT(t){var e=t.getUTCDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function uV(t,e){return t=UT(t),Dt(Ru.count(mo(t),t)+(mo(t).getUTCDay()===4),e,2)}function sV(t){return t.getUTCDay()}function lV(t,e){return Dt(lp.count(mo(t)-1,t),e,2)}function dV(t,e){return Dt(t.getUTCFullYear()%100,e,2)}function fV(t,e){return t=UT(t),Dt(t.getUTCFullYear()%100,e,2)}function hV(t,e){return Dt(t.getUTCFullYear()%1e4,e,4)}function pV(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ru(t):Ru.ceil(t),Dt(t.getUTCFullYear()%1e4,e,4)}function gV(){return"+0000"}function V$(){return"%"}function X$(t){return+t}function K$(t){return Math.floor(+t/1e3)}var tu,ax,qT,cx,WT;bV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bV(t){return tu=RT(t),ax=tu.format,qT=tu.parse,cx=tu.utcFormat,WT=tu.utcParse,tu}function Sl(t){const e={};return r=>e[r]||(e[r]=t(r))}function mV(t,e){return r=>{const n=t(r),o=n.indexOf(e);if(o<0)return n;let i=vV(n,o);const a=i<n.length?n.slice(i):"";for(;--i>o;)if(n[i]!=="0"){++i;break}return n.slice(0,i)+a}}function vV(t,e){let r=t.lastIndexOf("e"),n;if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}function HT(t){const e=Sl(t.format),r=t.formatPrefix;return{format:e,formatPrefix:r,formatFloat(n){const o=fc(n||",");if(o.precision==null){switch(o.precision=12,o.type){case"%":o.precision-=2;break;case"e":o.precision-=1;break}return mV(e(o),e(".1f")(1)[1])}else return e(o)},formatSpan(n,o,i,a){a=fc(a??",f");const c=Ki(n,o,i),u=Math.max(Math.abs(n),Math.abs(o));let s;if(a.precision==null)switch(a.type){case"s":return isNaN(s=gT(c,u))||(a.precision=s),r(a,u);case"":case"e":case"g":case"p":case"r":{isNaN(s=bT(c,u))||(a.precision=s-(a.type==="e"));break}case"f":case"%":{isNaN(s=pT(c))||(a.precision=s-(a.type==="%")*2);break}}return e(a)}}}let B0;GT();function GT(){return B0=HT({format:Ug,formatPrefix:ex})}function YT(t){return HT(hT(t))}function dp(t){return arguments.length?B0=YT(t):B0}function Q$(t,e,r){r=r||{},tt(r)||R(`Invalid time multi-format specifier: ${r}`);const n=e(cn),o=e(Yr),i=e(Gr),a=e(Dr),c=e(fe),u=e(Xe),s=e(Nr),l=e(je),d=t(r[zn]||".%L"),f=t(r[cn]||":%S"),h=t(r[Yr]||"%I:%M"),p=t(r[Gr]||"%I %p"),g=t(r[Dr]||r[We]||"%a %d"),b=t(r[fe]||"%b %d"),m=t(r[Xe]||"%B"),v=t(r[Nr]||"%B"),y=t(r[je]||"%Y");return x=>(n(x)<x?d:o(x)<x?f:i(x)<x?h:a(x)<x?p:u(x)<x?c(x)<x?g:b:l(x)<x?s(x)<x?m:v:y)(x)}function VT(t){const e=Sl(t.format),r=Sl(t.utcFormat);return{timeFormat:n=>J(n)?e(n):Q$(e,_s,n),utcFormat:n=>J(n)?r(n):Q$(r,Os,n),timeParse:Sl(t.parse),utcParse:Sl(t.utcParse)}}let U0;XT();function XT(){return U0=VT({format:ax,parse:qT,utcFormat:cx,utcParse:WT})}function KT(t){return VT(RT(t))}function cd(t){return arguments.length?U0=KT(t):U0}const q0=(t,e)=>bt({},t,e);function QT(t,e){const r=t?YT(t):dp(),n=e?KT(e):cd();return q0(r,n)}function ux(t,e){const r=arguments.length;return r&&r!==2&&R("defaultLocale expects either zero or two arguments."),r?q0(dp(t),cd(e)):q0(dp(),cd())}function yV(){return GT(),XT(),ux()}const xV=/^(data:|([A-Za-z]+:)?\/\/)/,wV=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,kV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,J$="file://";function _V(t,e){return r=>({options:r||{},sanitize:EV,load:OV,fileAccess:!!e,file:SV(e),http:CV(t)})}async function OV(t,e){const r=await this.sanitize(t,e),n=r.href;return r.localFile?this.file(n):this.http(n,e)}async function EV(t,e){e=bt({},this.options,e);const r=this.fileAccess,n={href:null};let o,i,a;const c=wV.test(t.replace(kV,""));(t==null||typeof t!="string"||!c)&&R("Sanitize failure, invalid URI: "+V(t));const u=xV.test(t);return(a=e.baseURL)&&!u&&(!t.startsWith("/")&&!a.endsWith("/")&&(t="/"+t),t=a+t),i=(o=t.startsWith(J$))||e.mode==="file"||e.mode!=="http"&&!u&&r,o?t=t.slice(J$.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),i=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(n,"localFile",{value:!!i}),n.href=t,e.target&&(n.target=e.target+""),e.rel&&(n.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(n.crossOrigin=e.crossOrigin+""),n}function SV(t){return t?e=>new Promise((r,n)=>{t.readFile(e,(o,i)=>{o?n(o):r(i)})}):$V}async function $V(){R("No file system access.")}function CV(t){return t?async function(e,r){const n=bt({},this.options.http,r),o=r&&r.response,i=await t(e,n);return i.ok?mt(i[o])?i[o]():i.text():R(i.status+""+i.statusText)}:AV}async function AV(){R("No HTTP fetch method available.")}const PV=t=>t!=null&&t===t,NV=t=>t==="true"||t==="false"||t===!0||t===!1,DV=t=>!Number.isNaN(Date.parse(t)),JT=t=>!Number.isNaN(+t)&&!(t instanceof Date),jV=t=>JT(t)&&Number.isInteger(+t),W0={boolean:Q1,integer:He,number:He,date:J1,string:Z1,unknown:Ze},Rf=[NV,jV,JT,DV],TV=["boolean","integer","number","date"];function ZT(t,e){if(!t||!t.length)return"unknown";const r=t.length,n=Rf.length,o=Rf.map((i,a)=>a+1);for(let i=0,a=0,c,u;i<r;++i)for(u=e?t[i][e]:t[i],c=0;c<n;++c)if(o[c]&&PV(u)&&!Rf[c](u)&&(o[c]=0,++a,a===Rf.length))return"string";return TV[o.reduce((i,a)=>i===0?a:i,0)-1]}function tM(t,e){return e.reduce((r,n)=>(r[n]=ZT(t,n),r),{})}function Z$(t){const e=function(r,n){const o={delimiter:t};return sx(r,n?bt(n,o):o)};return e.responseType="text",e}function sx(t,e){return e.header&&(t=e.header.map(V).join(e.delimiter)+`
`+t),mG(e.delimiter).parse(t+"")}sx.responseType="text";function MV(t){return typeof Buffer=="function"&&mt(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function lx(t,e){const r=e&&e.property?Pr(e.property):Ze;return tt(t)&&!MV(t)?FV(r(t),e):r(JSON.parse(t))}lx.responseType="json";function FV(t,e){return!L(t)&&Gj(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const zV={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function eM(t,e){let r,n,o,i;return t=lx(t,e),e&&e.feature?(r=wG,o=e.feature):e&&e.mesh?(r=_G,o=e.mesh,i=zV[e.filter]):R("Missing TopoJSON feature or mesh parameter."),n=(n=t.objects[o])?r(t,n,i):R("Invalid TopoJSON object: "+o),n&&n.features||[n]}eM.responseType="json";const _h={dsv:sx,csv:Z$(","),tsv:Z$("	"),json:lx,topojson:eM};function dx(t,e){return arguments.length>1?(_h[t]=e,this):lt(_h,t)?_h[t]:null}function rM(t){const e=dx(t);return e&&e.responseType||"text"}function nM(t,e,r,n){e=e||{};const o=dx(e.type||"json");return o||R("Unknown data format type: "+e.type),t=o(t,e),e.parse&&RV(t,e.parse,r,n),lt(t,"columns")&&delete t.columns,t}function RV(t,e,r,n){if(!t.length)return;const o=cd();r=r||o.timeParse,n=n||o.utcParse;let i=t.columns||Object.keys(t[0]),a,c,u,s,l,d;e==="auto"&&(e=tM(t,i)),i=Object.keys(e);const f=i.map(h=>{const p=e[h];let g,b;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),b=g[1],(b[0]==="'"&&b[b.length-1]==="'"||b[0]==='"'&&b[b.length-1]==='"')&&(b=b.slice(1,-1)),(g[0]==="utc"?n:r)(b);if(!W0[p])throw Error("Illegal format pattern: "+h+":"+p);return W0[p]});for(u=0,l=t.length,d=i.length;u<l;++u)for(a=t[u],s=0;s<d;++s)c=i[s],a[c]=f[s](a[c])}const Vg=_V(typeof fetch<"u"&&fetch,null);function Xg(t){const e=t||Ze,r=[],n={};return r.add=o=>{const i=e(o);return n[i]||(n[i]=1,r.push(o)),r},r.remove=o=>{const i=e(o);if(n[i]){n[i]=0;const a=r.indexOf(o);a>=0&&r.splice(a,1)}return r},r}async function Oh(t,e){try{await e(t)}catch(r){t.error(r)}}const oM=Symbol("vega_id");let LV=1;function Kg(t){return!!(t&&ut(t))}function ut(t){return t[oM]}function iM(t,e){return t[oM]=e,t}function Ft(t){const e=t===Object(t)?t:{data:t};return ut(e)?e:iM(e,LV++)}function fx(t){return Qg(t,Ft({}))}function Qg(t,e){for(const r in t)e[r]=t[r];return e}function aM(t,e){return iM(e,ut(t))}function Fc(t,e){return t?e?(r,n)=>t(r,n)||ut(e(r))-ut(e(n)):(r,n)=>t(r,n)||ut(r)-ut(n):null}function cM(t){return t&&t.constructor===zc}function zc(){const t=[],e=[],r=[],n=[],o=[];let i=null,a=!1;return{constructor:zc,insert(c){const u=Z(c),s=u.length;for(let l=0;l<s;++l)t.push(u[l]);return this},remove(c){const u=mt(c)?n:e,s=Z(c),l=s.length;for(let d=0;d<l;++d)u.push(s[d]);return this},modify(c,u,s){const l={field:u,value:tr(s)};return mt(c)?(l.filter=c,o.push(l)):(l.tuple=c,r.push(l)),this},encode(c,u){return mt(c)?o.push({filter:c,field:u}):r.push({tuple:c,field:u}),this},clean(c){return i=c,this},reflow(){return a=!0,this},pulse(c,u){const s={},l={};let d,f,h,p,g,b;for(d=0,f=u.length;d<f;++d)s[ut(u[d])]=1;for(d=0,f=e.length;d<f;++d)g=e[d],s[ut(g)]=-1;for(d=0,f=n.length;d<f;++d)p=n[d],u.forEach(v=>{p(v)&&(s[ut(v)]=-1)});for(d=0,f=t.length;d<f;++d)g=t[d],b=ut(g),s[b]?s[b]=1:c.add.push(Ft(t[d]));for(d=0,f=u.length;d<f;++d)g=u[d],s[ut(g)]<0&&c.rem.push(g);function m(v,y,x){x?v[y]=x(v):c.encode=y,a||(l[ut(v)]=v)}for(d=0,f=r.length;d<f;++d)h=r[d],g=h.tuple,p=h.field,b=s[ut(g)],b>0&&(m(g,p,h.value),c.modifies(p));for(d=0,f=o.length;d<f;++d)h=o[d],p=h.filter,u.forEach(v=>{p(v)&&s[ut(v)]>0&&m(v,h.field,h.value)}),c.modifies(h.field);if(a)c.mod=e.length||n.length?u.filter(v=>s[ut(v)]>0):u.slice();else for(b in l)c.mod.push(l[b]);return(i||i==null&&(e.length||n.length))&&c.clean(!0),c}}}const Eh="_:mod:_";function Jg(){Object.defineProperty(this,Eh,{writable:!0,value:{}})}Jg.prototype={set(t,e,r,n){const o=this,i=o[t],a=o[Eh];return e!=null&&e>=0?(i[e]!==r||n)&&(i[e]=r,a[e+":"+t]=-1,a[t]=-1):(i!==r||n)&&(o[t]=r,a[t]=L(r)?1+r.length:-1),o},modified(t,e){const r=this[Eh];if(arguments.length){if(L(t)){for(let n=0;n<t.length;++n)if(r[t[n]])return!0;return!1}}else{for(const n in r)if(r[n])return!0;return!1}return e!=null&&e>=0?e+1<r[t]||!!r[e+":"+t]:!!r[t]},clear(){return this[Eh]={},this}};let IV=0;const BV="pulse",UV=new Jg,qV=1,WV=2;function Ht(t,e,r,n){this.id=++IV,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),r&&this.parameters(r,n)}function tC(t){return function(e){const r=this.flags;return arguments.length===0?!!(r&t):(this.flags=e?r|t:r&~t,this)}}Ht.prototype={targets(){return this._targets||(this._targets=Xg(Ld))},set(t){return this.value!==t?(this.value=t,1):0},skip:tC(qV),modified:tC(WV),parameters(t,e,r){e=e!==!1;const n=this._argval=this._argval||new Jg,o=this._argops=this._argops||[],i=[];let a,c,u,s;const l=(d,f,h)=>{h instanceof Ht?(h!==this&&(e&&h.targets().add(this),i.push(h)),o.push({op:h,name:d,index:f})):n.set(d,f,h)};for(a in t)if(c=t[a],a===BV)Z(c).forEach(d=>{d instanceof Ht?d!==this&&(d.targets().add(this),i.push(d)):R("Pulse parameters must be operator instances.")}),this.source=c;else if(L(c))for(n.set(a,-1,Array(u=c.length)),s=0;s<u;++s)l(a,s,c[s]);else l(a,-1,c);return this.marshall().clear(),r&&(o.initonly=!0),i},marshall(t){const e=this._argval||UV,r=this._argops;let n,o,i,a;if(r){const c=r.length;for(o=0;o<c;++o)n=r[o],i=n.op,a=i.modified()&&i.stamp===t,e.set(n.name,n.index,i.value,a);if(r.initonly){for(o=0;o<c;++o)n=r[o],n.op.targets().remove(this);this._argops=null,this._update=null}}return e},detach(){const t=this._argops;let e,r,n,o;if(t)for(e=0,r=t.length;e<r;++e)n=t[e],o=n.op,o._targets&&o._targets.remove(this);this.pulse=null,this.source=null},evaluate(t){const e=this._update;if(e){const r=this.marshall(t.stamp),n=e.call(this,r,t);if(r.clear(),n!==this.value)this.value=n;else if(!this.modified())return t.StopPropagation}},run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t}};function HV(t,e,r,n){let o=1,i;return t instanceof Ht?i=t:t&&t.prototype instanceof Ht?i=new t:mt(t)?i=new Ht(null,t):(o=0,i=new Ht(t,e)),this.rank(i),o&&(n=r,r=e),r&&this.connect(i,i.parameters(r,n)),this.touch(i),i}function GV(t,e){const r=t.rank,n=e.length;for(let o=0;o<n;++o)if(r<e[o].rank){this.rerank(t);return}}let YV=0;function Zg(t,e,r){this.id=++YV,this.value=null,r&&(this.receive=r),t&&(this._filter=t),e&&(this._apply=e)}function Oi(t,e,r){return new Zg(t,e,r)}Zg.prototype={_filter:an,_apply:Ze,targets(){return this._targets||(this._targets=Xg(Ld))},consume(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive(t){if(this._filter(t)){const e=this.value=this._apply(t),r=this._targets,n=r?r.length:0;for(let o=0;o<n;++o)r[o].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter(t){const e=Oi(t);return this.targets().add(e),e},apply(t){const e=Oi(null,t);return this.targets().add(e),e},merge(){const t=Oi();this.targets().add(t);for(let e=0,r=arguments.length;e<r;++e)arguments[e].targets().add(t);return t},throttle(t){let e=-1;return this.filter(()=>{const r=Date.now();return r-e>t?(e=r,1):0})},debounce(t){const e=Oi();return this.targets().add(Oi(null,null,X1(t,r=>{const n=r.dataflow;e.receive(r),n&&n.run&&n.run()}))),e},between(t,e){let r=!1;return t.targets().add(Oi(null,null,()=>r=!0)),e.targets().add(Oi(null,null,()=>r=!1)),this.filter(()=>r)},detach(){this._filter=an,this._targets=null}};function VV(t,e,r,n){const o=this,i=Oi(r,n),a=function(s){s.dataflow=o;try{i.receive(s)}catch(l){o.error(l)}finally{o.run()}};let c;typeof t=="string"&&typeof document<"u"?c=document.querySelectorAll(t):c=Z(t);const u=c.length;for(let s=0;s<u;++s)c[s].addEventListener(e,a);return i}function XV(t,e){const r=this.locale();return nM(t,e,r.timeParse,r.utcParse)}function KV(t,e,r){return e=this.parse(e,r),this.pulse(t,this.changeset().insert(e))}async function QV(t,e){const r=this;let n=0,o;try{o=await r.loader().load(t,{context:"dataflow",response:rM(e&&e.type)});try{o=r.parse(o,e)}catch(i){n=-2,r.warn("Data ingestion failed",t,i)}}catch(i){n=-1,r.warn("Loading failed",t,i)}return{data:o,status:n}}async function JV(t,e,r){const n=this,o=n._pending||ZV(n);o.requests+=1;const i=await n.request(e,r);return n.pulse(t,n.changeset().remove(an).insert(i.data||[])),o.done(),i}function ZV(t){let e;const r=new Promise(n=>e=n);return r.requests=0,r.done=()=>{--r.requests===0&&(t._pending=null,e(t))},t._pending=r}const tX={skip:!0};function eX(t,e,r,n,o){return(t instanceof Ht?nX:rX)(this,t,e,r,n,o),this}function rX(t,e,r,n,o,i){const a=bt({},i,tX);let c,u;mt(r)||(r=tr(r)),n===void 0?c=s=>t.touch(r(s)):mt(n)?(u=new Ht(null,n,o,!1),c=s=>{u.evaluate(s);const l=r(s),d=u.value;cM(d)?t.pulse(l,d,i):t.update(l,d,a)}):c=s=>t.update(r(s),n,a),e.apply(c)}function nX(t,e,r,n,o,i){if(n===void 0)e.targets().add(r);else{const a=i||{},c=new Ht(null,oX(r,n),o,!1);c.modified(a.force),c.rank=e.rank,e.targets().add(c),r&&(c.skip(!0),c.value=r.value,c.targets().add(r),t.connect(r,[c]))}}function oX(t,e){return e=mt(e)?e:tr(e),t?function(r,n){const o=e(r,n);return t.skip()||(t.skip(o!==this.value).value=o),o}:e}function iX(t){t.rank=++this._rank}function aX(t){const e=[t];let r,n,o;for(;e.length;)if(this.rank(r=e.pop()),n=r._targets)for(o=n.length;--o>=0;)e.push(r=n[o]),r===t&&R("Cycle detected in dataflow graph.")}const fp={},Zn=1,$i=2,Bo=4,cX=Zn|$i,eC=Zn|Bo,eu=Zn|$i|Bo,rC=8,Zs=16,nC=32,oC=64;function Wi(t,e,r){this.dataflow=t,this.stamp=e??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=r||null}function ov(t,e){const r=[];return Si(t,e,n=>r.push(n)),r}function iC(t,e){const r={};return t.visit(e,n=>{r[ut(n)]=1}),n=>r[ut(n)]?null:n}function Lf(t,e){return t?(r,n)=>t(r,n)&&e(r,n):e}Wi.prototype={StopPropagation:fp,ADD:Zn,REM:$i,MOD:Bo,ADD_REM:cX,ADD_MOD:eC,ALL:eu,REFLOW:rC,SOURCE:Zs,NO_SOURCE:nC,NO_FIELDS:oC,fork(t){return new Wi(this.dataflow).init(this,t)},clone(){const t=this.fork(eu);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(eu|Zs)},addAll(){let t=this;return!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length||(t=new Wi(this.dataflow).init(this),t.add=t.source,t.rem=[]),t},init(t,e){const r=this;return r.stamp=t.stamp,r.encode=t.encode,t.fields&&!(e&oC)&&(r.fields=t.fields),e&Zn?(r.addF=t.addF,r.add=t.add):(r.addF=null,r.add=[]),e&$i?(r.remF=t.remF,r.rem=t.rem):(r.remF=null,r.rem=[]),e&Bo?(r.modF=t.modF,r.mod=t.mod):(r.modF=null,r.mod=[]),e&nC?(r.srcF=null,r.source=null):(r.srcF=t.srcF,r.source=t.source,t.cleans&&(r.cleans=t.cleans)),r},runAfter(t){this.dataflow.runAfter(t)},changed(t){const e=t||eu;return e&Zn&&this.add.length||e&$i&&this.rem.length||e&Bo&&this.mod.length},reflow(t){if(t)return this.fork(eu).reflow();const e=this.add.length,r=this.source&&this.source.length;return r&&r!==e&&(this.mod=this.source,e&&this.filter(Bo,iC(this,Zn))),this},clean(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies(t){const e=this.fields||(this.fields={});return L(t)?t.forEach(r=>e[r]=!0):e[t]=!0,this},modified(t,e){const r=this.fields;return(e||this.mod.length)&&r?arguments.length?L(t)?t.some(n=>r[n]):r[t]:!!r:!1},filter(t,e){const r=this;return t&Zn&&(r.addF=Lf(r.addF,e)),t&$i&&(r.remF=Lf(r.remF,e)),t&Bo&&(r.modF=Lf(r.modF,e)),t&Zs&&(r.srcF=Lf(r.srcF,e)),r},materialize(t){t=t||eu;const e=this;return t&Zn&&e.addF&&(e.add=ov(e.add,e.addF),e.addF=null),t&$i&&e.remF&&(e.rem=ov(e.rem,e.remF),e.remF=null),t&Bo&&e.modF&&(e.mod=ov(e.mod,e.modF),e.modF=null),t&Zs&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit(t,e){const r=this,n=e;if(t&Zs)return Si(r.source,r.srcF,n),r;t&Zn&&Si(r.add,r.addF,n),t&$i&&Si(r.rem,r.remF,n),t&Bo&&Si(r.mod,r.modF,n);const o=r.source;if(t&rC&&o){const i=r.add.length+r.mod.length;i===o.length||(i?Si(o,iC(r,eC),n):Si(o,r.srcF,n))}return r}};function hx(t,e,r,n){const o=this;let i=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=n||null,this.pulses=r;for(const a of r)if(a.stamp===e){if(a.fields){const c=o.fields||(o.fields={});for(const u in a.fields)c[u]=1}a.changed(o.ADD)&&(i|=o.ADD),a.changed(o.REM)&&(i|=o.REM),a.changed(o.MOD)&&(i|=o.MOD)}this.changes=i}X(hx,Wi,{fork(t){const e=new Wi(this.dataflow).init(this,t&this.NO_FIELDS);return t!==void 0&&(t&e.ADD&&this.visit(e.ADD,r=>e.add.push(r)),t&e.REM&&this.visit(e.REM,r=>e.rem.push(r)),t&e.MOD&&this.visit(e.MOD,r=>e.mod.push(r))),e},changed(t){return this.changes&t},modified(t){const e=this,r=e.fields;return r&&e.changes&e.MOD?L(t)?t.some(n=>r[n]):r[t]:0},filter(){R("MultiPulse does not support filtering.")},materialize(){R("MultiPulse does not support materialization.")},visit(t,e){const r=this,n=r.pulses,o=n.length;let i=0;if(t&r.SOURCE)for(;i<o;++i)n[i].visit(t,e);else for(;i<o;++i)n[i].stamp===r.stamp&&n[i].visit(t,e);return r}});async function uX(t,e,r){const n=this,o=[];if(n._pulse)return uM(n);if(n._pending&&await n._pending,e&&await Oh(n,e),!n._touched.length)return n.debug("Dataflow invoked, but nothing to do."),n;const i=++n._clock;n._pulse=new Wi(n,i,t),n._touched.forEach(l=>n._enqueue(l,!0)),n._touched=Xg(Ld);let a=0,c,u,s;try{for(;n._heap.size()>0;){if(c=n._heap.pop(),c.rank!==c.qrank){n._enqueue(c,!0);continue}u=c.run(n._getPulse(c,t)),u.then?u=await u:u.async&&(o.push(u.async),u=fp),u!==fp&&c._targets&&c._targets.forEach(l=>n._enqueue(l)),++a}}catch(l){n._heap.clear(),s=l}if(n._input={},n._pulse=null,n.debug(`Pulse ${i}: ${a} operators`),s&&(n._postrun=[],n.error(s)),n._postrun.length){const l=n._postrun.sort((d,f)=>f.priority-d.priority);n._postrun=[];for(let d=0;d<l.length;++d)await Oh(n,l[d].callback)}return r&&await Oh(n,r),o.length&&Promise.all(o).then(l=>n.runAsync(null,()=>{l.forEach(d=>{try{d(n)}catch(f){n.error(f)}})})),n}async function sX(t,e,r){for(;this._running;)await this._running;const n=()=>this._running=null;return(this._running=this.evaluate(t,e,r)).then(n,n),this._running}function lX(t,e,r){return this._pulse?uM(this):(this.evaluate(t,e,r),this)}function dX(t,e,r){if(this._pulse||e)this._postrun.push({priority:r||0,callback:t});else try{t(this)}catch(n){this.error(n)}}function uM(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}function fX(t,e){const r=t.stamp<this._clock;r&&(t.stamp=this._clock),(r||e)&&(t.qrank=t.rank,this._heap.push(t))}function hX(t,e){const r=t.source,n=this._clock;return r&&L(r)?new hx(this,n,r.map(o=>o.pulse),e):this._input[t.id]||pX(this._pulse,r&&r.pulse)}function pX(t,e){return e&&e.stamp===t.stamp?e:(t=t.fork(),e&&e!==fp&&(t.source=e.source),t)}const px={skip:!1,force:!1};function gX(t,e){const r=e||px;return this._pulse?this._enqueue(t):this._touched.add(t),r.skip&&t.skip(!0),this}function bX(t,e,r){const n=r||px;return(t.set(e)||n.force)&&this.touch(t,n),this}function mX(t,e,r){this.touch(t,r||px);const n=new Wi(this,this._clock+(this._pulse?0:1)),o=t.pulse&&t.pulse.source||[];return n.target=t,this._input[t.id]=e.pulse(n,o),this}function vX(t){let e=[];return{clear:()=>e=[],size:()=>e.length,peek:()=>e[0],push:r=>(e.push(r),sM(e,0,e.length-1,t)),pop:()=>{const r=e.pop();let n;return e.length?(n=e[0],e[0]=r,yX(e,0,t)):n=r,n}}}function sM(t,e,r,n){let o,i;const a=t[r];for(;r>e;){if(i=r-1>>1,o=t[i],n(a,o)<0){t[r]=o,r=i;continue}break}return t[r]=a}function yX(t,e,r){const n=e,o=t.length,i=t[e];let a=(e<<1)+1,c;for(;a<o;)c=a+1,c<o&&r(t[a],t[c])>=0&&(a=c),t[e]=t[a],e=a,a=(e<<1)+1;return t[e]=i,sM(t,n,e,r)}function Ou(){this.logger(W1()),this.logLevel(U1),this._clock=0,this._rank=0,this._locale=ux();try{this._loader=Vg()}catch{}this._touched=Xg(Ld),this._input={},this._pulse=null,this._heap=vX((t,e)=>t.qrank-e.qrank),this._postrun=[]}function tl(t){return function(){return this._log[t].apply(this,arguments)}}Ou.prototype={stamp(){return this._clock},loader(t){return arguments.length?(this._loader=t,this):this._loader},locale(t){return arguments.length?(this._locale=t,this):this._locale},logger(t){return arguments.length?(this._log=t,this):this._log},error:tl("error"),warn:tl("warn"),info:tl("info"),debug:tl("debug"),logLevel:tl("level"),cleanThreshold:1e4,add:HV,connect:GV,rank:iX,rerank:aX,pulse:mX,touch:gX,update:bX,changeset:zc,ingest:KV,parse:XV,preload:JV,request:QV,events:VV,on:eX,evaluate:uX,run:lX,runAsync:sX,runAfter:dX,_enqueue:fX,_getPulse:hX};function M(t,e){Ht.call(this,t,null,e)}X(M,Ht,{run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?this.skip(!1):e=this.evaluate(t),e=e||t,e.then?e=e.then(r=>this.pulse=r):e!==t.StopPropagation&&(this.pulse=e),e},evaluate(t){const e=this.marshall(t.stamp),r=this.transform(e,t);return e.clear(),r},transform(){}});const Iu={};function lM(t){const e=dM(t);return e&&e.Definition||null}function dM(t){return t=t&&t.toLowerCase(),lt(Iu,t)?Iu[t]:null}function*fM(t,e){if(e==null)for(let r of t)r!=null&&r!==""&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)n=e(n,++r,t),n!=null&&n!==""&&(n=+n)>=n&&(yield n)}}function gx(t,e,r){const n=Float64Array.from(fM(t,r));return n.sort(Zo),e.map(o=>uT(n,o))}function bx(t,e){return gx(t,[.25,.5,.75],e)}function mx(t,e){const r=t.length,n=NG(t,e),o=bx(t,e),i=(o[2]-o[0])/1.34;return 1.06*(Math.min(n,i)||n||Math.abs(o[0])||1)*Math.pow(r,-.2)}function hM(t){const e=t.maxbins||20,r=t.base||10,n=Math.log(r),o=t.divide||[5,2];let i=t.extent[0],a=t.extent[1],c,u,s,l,d,f;const h=t.span||a-i||Math.abs(i)||1;if(t.step)c=t.step;else if(t.steps){for(l=h/e,d=0,f=t.steps.length;d<f&&t.steps[d]<l;++d);c=t.steps[Math.max(0,d-1)]}else{for(u=Math.ceil(Math.log(e)/n),s=t.minstep||0,c=Math.max(s,Math.pow(r,Math.round(Math.log(h)/n)-u));Math.ceil(h/c)>e;)c*=r;for(d=0,f=o.length;d<f;++d)l=c/o[d],l>=s&&h/l<=e&&(c=l)}l=Math.log(c);const p=l>=0?0:~~(-l/n)+1,g=Math.pow(r,-p-1);return(t.nice||t.nice===void 0)&&(l=Math.floor(i/c+g)*c,i=i<l?l-c:l,a=Math.ceil(a/c)*c),{start:i,stop:a===i?i+c:a,step:c}}var un=Math.random;function xX(t){un=t}function pM(t,e,r,n){if(!t.length)return[void 0,void 0];const o=Float64Array.from(fM(t,n)),i=o.length,a=e;let c,u,s,l;for(s=0,l=Array(a);s<a;++s){for(c=0,u=0;u<i;++u)c+=o[~~(un()*i)];l[s]=c/i}return l.sort(Zo),[M0(l,r/2),M0(l,1-r/2)]}function gM(t,e,r,n){n=n||(f=>f);const o=t.length,i=new Float64Array(o);let a=0,c=1,u=n(t[0]),s=u,l=u+e,d;for(;c<o;++c){if(d=n(t[c]),d>=l){for(s=(u+s)/2;a<c;++a)i[a]=s;l=d+e,u=d}s=d}for(s=(u+s)/2;a<c;++a)i[a]=s;return r?wX(i,e+e/4):i}function wX(t,e){const r=t.length;let n=0,o=1,i,a;for(;t[n]===t[o];)++o;for(;o<r;){for(i=o+1;t[o]===t[i];)++i;if(t[o]-t[o-1]<e){for(a=o+(n+i-o-o>>1);a<o;)t[a++]=t[o];for(;a>o;)t[a--]=t[n]}n=o,o=i}return t}function kX(t){return function(){return t=(1103515245*t+12345)%2147483647,t/2147483647}}function _X(t,e){e==null&&(e=t,t=0);let r,n,o;const i={min(a){return arguments.length?(r=a||0,o=n-r,i):r},max(a){return arguments.length?(n=a||0,o=n-r,i):n},sample(){return r+Math.floor(o*un())},pdf(a){return a===Math.floor(a)&&a>=r&&a<n?1/o:0},cdf(a){const c=Math.floor(a);return c<r?0:c>=n?1:(c-r+1)/o},icdf(a){return a>=0&&a<=1?r-1+Math.floor(a*o):NaN}};return i.min(t).max(e)}const bM=Math.sqrt(2*Math.PI),OX=Math.SQRT2;let el=NaN;function tb(t,e){t=t||0,e=e??1;let r=0,n=0,o,i;if(el===el)r=el,el=NaN;else{do r=un()*2-1,n=un()*2-1,o=r*r+n*n;while(o===0||o>1);i=Math.sqrt(-2*Math.log(o)/o),r*=i,el=n*i}return t+r*e}function vx(t,e,r){r=r??1;const n=(t-(e||0))/r;return Math.exp(-.5*n*n)/(r*bM)}function eb(t,e,r){e=e||0,r=r??1;const n=(t-e)/r,o=Math.abs(n);let i;if(o>37)i=0;else{const a=Math.exp(-o*o/2);let c;o<7.07106781186547?(c=.0352624965998911*o+.700383064443688,c=c*o+6.37396220353165,c=c*o+33.912866078383,c=c*o+112.079291497871,c=c*o+221.213596169931,c=c*o+220.206867912376,i=a*c,c=.0883883476483184*o+1.75566716318264,c=c*o+16.064177579207,c=c*o+86.7807322029461,c=c*o+296.564248779674,c=c*o+637.333633378831,c=c*o+793.826512519948,c=c*o+440.413735824752,i=i/c):(c=o+.65,c=o+4/c,c=o+3/c,c=o+2/c,c=o+1/c,i=a/c/2.506628274631)}return n>0?1-i:i}function rb(t,e,r){return t<0||t>1?NaN:(e||0)+(r??1)*OX*EX(2*t-1)}function EX(t){let e=-Math.log((1-t)*(1+t)),r;return e<6.25?(e-=3.125,r=-364441206401782e-35,r=-16850591381820166e-35+r*e,r=128584807152564e-32+r*e,r=11157877678025181e-33+r*e,r=-1333171662854621e-31+r*e,r=20972767875968562e-33+r*e,r=6637638134358324e-30+r*e,r=-4054566272975207e-29+r*e,r=-8151934197605472e-29+r*e,r=26335093153082323e-28+r*e,r=-12975133253453532e-27+r*e,r=-5415412054294628e-26+r*e,r=10512122733215323e-25+r*e,r=-4112633980346984e-24+r*e,r=-29070369957882005e-24+r*e,r=42347877827932404e-23+r*e,r=-13654692000834679e-22+r*e,r=-13882523362786469e-21+r*e,r=.00018673420803405714+r*e,r=-.000740702534166267+r*e,r=-.006033670871430149+r*e,r=.24015818242558962+r*e,r=1.6536545626831027+r*e):e<16?(e=Math.sqrt(e)-3.25,r=22137376921775787e-25,r=9075656193888539e-23+r*e,r=-27517406297064545e-23+r*e,r=18239629214389228e-24+r*e,r=15027403968909828e-22+r*e,r=-4013867526981546e-21+r*e,r=29234449089955446e-22+r*e,r=12475304481671779e-21+r*e,r=-47318229009055734e-21+r*e,r=6828485145957318e-20+r*e,r=24031110387097894e-21+r*e,r=-.0003550375203628475+r*e,r=.0009532893797373805+r*e,r=-.0016882755560235047+r*e,r=.002491442096107851+r*e,r=-.003751208507569241+r*e,r=.005370914553590064+r*e,r=1.0052589676941592+r*e,r=3.0838856104922208+r*e):Number.isFinite(e)?(e=Math.sqrt(e)-5,r=-27109920616438573e-27,r=-2555641816996525e-25+r*e,r=15076572693500548e-25+r*e,r=-3789465440126737e-24+r*e,r=761570120807834e-23+r*e,r=-1496002662714924e-23+r*e,r=2914795345090108e-23+r*e,r=-6771199775845234e-23+r*e,r=22900482228026655e-23+r*e,r=-99298272942317e-20+r*e,r=4526062597223154e-21+r*e,r=-1968177810553167e-20+r*e,r=7599527703001776e-20+r*e,r=-.00021503011930044477+r*e,r=-.00013871931833623122+r*e,r=1.0103004648645344+r*e,r=4.849906401408584+r*e):r=1/0,r*t}function yx(t,e){let r,n;const o={mean(i){return arguments.length?(r=i||0,o):r},stdev(i){return arguments.length?(n=i??1,o):n},sample:()=>tb(r,n),pdf:i=>vx(i,r,n),cdf:i=>eb(i,r,n),icdf:i=>rb(i,r,n)};return o.mean(t).stdev(e)}function xx(t,e){const r=yx();let n=0;const o={data(i){return arguments.length?(t=i,n=i?i.length:0,o.bandwidth(e)):t},bandwidth(i){return arguments.length?(e=i,!e&&t&&(e=mx(t)),o):e},sample(){return t[~~(un()*n)]+e*r.sample()},pdf(i){let a=0,c=0;for(;c<n;++c)a+=r.pdf((i-t[c])/e);return a/e/n},cdf(i){let a=0,c=0;for(;c<n;++c)a+=r.cdf((i-t[c])/e);return a/n},icdf(){throw Error("KDE icdf not supported.")}};return o.data(t)}function wx(t,e){return t=t||0,e=e??1,Math.exp(t+tb()*e)}function kx(t,e,r){if(t<=0)return 0;e=e||0,r=r??1;const n=(Math.log(t)-e)/r;return Math.exp(-.5*n*n)/(r*bM*t)}function _x(t,e,r){return eb(Math.log(t),e,r)}function Ox(t,e,r){return Math.exp(rb(t,e,r))}function mM(t,e){let r,n;const o={mean(i){return arguments.length?(r=i||0,o):r},stdev(i){return arguments.length?(n=i??1,o):n},sample:()=>wx(r,n),pdf:i=>kx(i,r,n),cdf:i=>_x(i,r,n),icdf:i=>Ox(i,r,n)};return o.mean(t).stdev(e)}function vM(t,e){let r=0,n;function o(a){const c=[];let u=0,s;for(s=0;s<r;++s)u+=c[s]=a[s]==null?1:+a[s];for(s=0;s<r;++s)c[s]/=u;return c}const i={weights(a){return arguments.length?(n=o(e=a||[]),i):e},distributions(a){return arguments.length?(a?(r=a.length,t=a):(r=0,t=[]),i.weights(e)):t},sample(){const a=un();let c=t[r-1],u=n[0],s=0;for(;s<r-1;u+=n[++s])if(a<u){c=t[s];break}return c.sample()},pdf(a){let c=0,u=0;for(;u<r;++u)c+=n[u]*t[u].pdf(a);return c},cdf(a){let c=0,u=0;for(;u<r;++u)c+=n[u]*t[u].cdf(a);return c},icdf(){throw Error("Mixture icdf not supported.")}};return i.distributions(t).weights(e)}function Ex(t,e){return e==null&&(e=t??1,t=0),t+(e-t)*un()}function Sx(t,e,r){return r==null&&(r=e??1,e=0),t>=e&&t<=r?1/(r-e):0}function $x(t,e,r){return r==null&&(r=e??1,e=0),t<e?0:t>r?1:(t-e)/(r-e)}function Cx(t,e,r){return r==null&&(r=e??1,e=0),t>=0&&t<=1?e+t*(r-e):NaN}function yM(t,e){let r,n;const o={min(i){return arguments.length?(r=i||0,o):r},max(i){return arguments.length?(n=i??1,o):n},sample:()=>Ex(r,n),pdf:i=>Sx(i,r,n),cdf:i=>$x(i,r,n),icdf:i=>Cx(i,r,n)};return e==null&&(e=t??1,t=0),o.min(t).max(e)}function Ax(t,e,r){let n=0,o=0;for(const i of t){const a=r(i);e(i)==null||a==null||isNaN(a)||(n+=(a-n)/++o)}return{coef:[n],predict:()=>n,rSquared:0}}function qd(t,e,r,n){const o=n-t*t,i=Math.abs(o)<1e-24?0:(r-t*e)/o;return[e-i*t,i]}function nb(t,e,r,n){t=t.filter(h=>{let p=e(h),g=r(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),n&&t.sort((h,p)=>e(h)-e(p));const o=t.length,i=new Float64Array(o),a=new Float64Array(o);let c=0,u=0,s=0,l,d,f;for(f of t)i[c]=l=+e(f),a[c]=d=+r(f),++c,u+=(l-u)/c,s+=(d-s)/c;for(c=0;c<o;++c)i[c]-=u,a[c]-=s;return[i,a,u,s]}function Wd(t,e,r,n){let o=-1,i,a;for(const c of t)i=e(c),a=r(c),i!=null&&(i=+i)>=i&&a!=null&&(a=+a)>=a&&n(i,a,++o)}function Es(t,e,r,n,o){let i=0,a=0;return Wd(t,e,r,(c,u)=>{const s=u-o(c),l=u-n;i+=s*s,a+=l*l}),1-i/a}function Px(t,e,r){let n=0,o=0,i=0,a=0,c=0;Wd(t,e,r,(l,d)=>{++c,n+=(l-n)/c,o+=(d-o)/c,i+=(l*d-i)/c,a+=(l*l-a)/c});const u=qd(n,o,i,a),s=l=>u[0]+u[1]*l;return{coef:u,predict:s,rSquared:Es(t,e,r,o,s)}}function xM(t,e,r){let n=0,o=0,i=0,a=0,c=0;Wd(t,e,r,(l,d)=>{++c,l=Math.log(l),n+=(l-n)/c,o+=(d-o)/c,i+=(l*d-i)/c,a+=(l*l-a)/c});const u=qd(n,o,i,a),s=l=>u[0]+u[1]*Math.log(l);return{coef:u,predict:s,rSquared:Es(t,e,r,o,s)}}function wM(t,e,r){const[n,o,i,a]=nb(t,e,r);let c=0,u=0,s=0,l=0,d=0,f,h,p;Wd(t,e,r,(v,y)=>{f=n[d++],h=Math.log(y),p=f*y,c+=(y*h-c)/d,u+=(p-u)/d,s+=(p*h-s)/d,l+=(f*p-l)/d});const[g,b]=qd(u/a,c/a,s/a,l/a),m=v=>Math.exp(g+b*(v-i));return{coef:[Math.exp(g-b*i),b],predict:m,rSquared:Es(t,e,r,a,m)}}function kM(t,e,r){let n=0,o=0,i=0,a=0,c=0,u=0;Wd(t,e,r,(d,f)=>{const h=Math.log(d),p=Math.log(f);++u,n+=(h-n)/u,o+=(p-o)/u,i+=(h*p-i)/u,a+=(h*h-a)/u,c+=(f-c)/u});const s=qd(n,o,i,a),l=d=>s[0]*Math.pow(d,s[1]);return s[0]=Math.exp(s[0]),{coef:s,predict:l,rSquared:Es(t,e,r,c,l)}}function Nx(t,e,r){const[n,o,i,a]=nb(t,e,r),c=n.length;let u=0,s=0,l=0,d=0,f=0,h,p,g,b;for(h=0;h<c;)p=n[h],g=o[h++],b=p*p,u+=(b-u)/h,s+=(b*p-s)/h,l+=(b*b-l)/h,d+=(p*g-d)/h,f+=(b*g-f)/h;const m=l-u*u,v=u*m-s*s,y=(f*u-d*s)/v,x=(d*m-f*s)/v,k=-y*u,_=w=>(w=w-i,y*w*w+x*w+k+a);return{coef:[k-x*i+y*i*i+a,x-2*y*i,y],predict:_,rSquared:Es(t,e,r,a,_)}}function _M(t,e,r,n){if(n===0)return Ax(t,e,r);if(n===1)return Px(t,e,r);if(n===2)return Nx(t,e,r);const[o,i,a,c]=nb(t,e,r),u=o.length,s=[],l=[],d=n+1;let f,h,p,g,b;for(f=0;f<d;++f){for(p=0,g=0;p<u;++p)g+=Math.pow(o[p],f)*i[p];for(s.push(g),b=new Float64Array(d),h=0;h<d;++h){for(p=0,g=0;p<u;++p)g+=Math.pow(o[p],f+h);b[h]=g}l.push(b)}l.push(s);const m=$X(l),v=y=>{y-=a;let x=c+m[0]+m[1]*y+m[2]*y*y;for(f=3;f<d;++f)x+=m[f]*Math.pow(y,f);return x};return{coef:SX(d,m,-a,c),predict:v,rSquared:Es(t,e,r,c,v)}}function SX(t,e,r,n){const o=Array(t);let i,a,c,u;for(i=0;i<t;++i)o[i]=0;for(i=t-1;i>=0;--i)for(c=e[i],u=1,o[i]+=c,a=1;a<=i;++a)u*=(i+1-a)/a,o[i-a]+=c*Math.pow(r,a)*u;return o[0]+=n,o}function $X(t){const e=t.length-1,r=[];let n,o,i,a,c;for(n=0;n<e;++n){for(a=n,o=n+1;o<e;++o)Math.abs(t[n][o])>Math.abs(t[n][a])&&(a=o);for(i=n;i<e+1;++i)c=t[i][n],t[i][n]=t[i][a],t[i][a]=c;for(o=n+1;o<e;++o)for(i=e;i>=n;i--)t[i][o]-=t[i][n]*t[n][o]/t[n][n]}for(o=e-1;o>=0;--o){for(c=0,i=o+1;i<e;++i)c+=t[i][o]*r[i];r[o]=(t[e][o]-c)/t[o][o]}return r}const aC=2,cC=1e-12;function OM(t,e,r,n){const[o,i,a,c]=nb(t,e,r,!0),u=o.length,s=Math.max(2,~~(n*u)),l=new Float64Array(u),d=new Float64Array(u),f=new Float64Array(u).fill(1);for(let h=-1;++h<=aC;){const p=[0,s-1];for(let b=0;b<u;++b){const m=o[b],v=p[0],y=p[1],x=m-o[v]>o[y]-m?v:y;let k=0,_=0,w=0,O=0,C=0;const S=1/Math.abs(o[x]-m||1);for(let $=v;$<=y;++$){const P=o[$],E=i[$],N=CX(Math.abs(m-P)*S)*f[$],D=P*N;k+=N,_+=D,w+=E*N,O+=E*D,C+=P*D}const[A,T]=qd(_/k,w/k,O/k,C/k);l[b]=A+T*m,d[b]=Math.abs(i[b]-l[b]),AX(o,b+1,p)}if(h===aC)break;const g=sT(d);if(Math.abs(g)<cC)break;for(let b=0,m,v;b<u;++b)m=d[b]/(6*g),f[b]=m>=1?cC:(v=1-m*m)*v}return PX(o,l,a,c)}function CX(t){return(t=1-t*t*t)*t*t}function AX(t,e,r){const n=t[e];let o=r[0],i=r[1]+1;if(!(i>=t.length))for(;e>o&&t[i]-n<=n-t[o];)r[0]=++o,r[1]=i,++i}function PX(t,e,r,n){const o=t.length,i=[];let a=0,c=0,u=[],s;for(;a<o;++a)s=t[a]+r,u[0]===s?u[1]+=(e[a]-u[1])/++c:(c=0,u[1]+=n,u=[s,e[a]],i.push(u));return u[1]+=n,i}const NX=.5*Math.PI/180;function ob(t,e,r,n){r=r||25,n=Math.max(r,n||200);const o=g=>[g,t(g)],i=e[0],a=e[1],c=a-i,u=c/n,s=[o(i)],l=[];if(r===n){for(let g=1;g<n;++g)s.push(o(i+g/r*c));return s.push(o(a)),s}else{l.push(o(a));for(let g=r;--g>0;)l.push(o(i+g/r*c))}let d=s[0],f=l[l.length-1];const h=1/c,p=DX(d[1],l);for(;f;){const g=o((d[0]+f[0])/2);g[0]-d[0]>=u&&jX(d,g,f,h,p)>NX?l.push(g):(d=f,s.push(f),l.pop()),f=l[l.length-1]}return s}function DX(t,e){let r=t,n=t;const o=e.length;for(let i=0;i<o;++i){const a=e[i][1];a<r&&(r=a),a>n&&(n=a)}return 1/(n-r)}function jX(t,e,r,n,o){const i=Math.atan2(o*(r[1]-t[1]),n*(r[0]-t[0])),a=Math.atan2(o*(e[1]-t[1]),n*(e[0]-t[0]));return Math.abs(i-a)}function TX(t){return e=>{const r=t.length;let n=1,o=String(t[0](e));for(;n<r;++n)o+="|"+t[n](e);return o}}function H0(t){return!t||!t.length?function(){return""}:t.length===1?t[0]:TX(t)}function EM(t,e,r){return r||t+(e?"_"+e:"")}const iv=()=>{},MX={init:iv,add:iv,rem:iv,idx:0},ud={values:{init:t=>t.cell.store=!0,value:t=>t.cell.data.values(),idx:-1},count:{value:t=>t.cell.num},__count__:{value:t=>t.missing+t.valid},missing:{value:t=>t.missing},valid:{value:t=>t.valid},sum:{init:t=>t.sum=0,value:t=>t.sum,add:(t,e)=>t.sum+=+e,rem:(t,e)=>t.sum-=e},product:{init:t=>t.product=1,value:t=>t.valid?t.product:void 0,add:(t,e)=>t.product*=e,rem:(t,e)=>t.product/=e},mean:{init:t=>t.mean=0,value:t=>t.valid?t.mean:void 0,add:(t,e)=>(t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid),rem:(t,e)=>(t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean)},average:{value:t=>t.valid?t.mean:void 0,req:["mean"],idx:1},variance:{init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):void 0,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean),req:["mean"],idx:1},variancep:{value:t=>t.valid>1?t.dev/t.valid:void 0,req:["variance"],idx:2},stdev:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):void 0,req:["variance"],idx:2},stderr:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:t=>t.cell.data.distinct(t.get),req:["values"],idx:3},ci0:{value:t=>t.cell.data.ci0(t.get),req:["values"],idx:3},ci1:{value:t=>t.cell.data.ci1(t.get),req:["values"],idx:3},median:{value:t=>t.cell.data.q2(t.get),req:["values"],idx:3},q1:{value:t=>t.cell.data.q1(t.get),req:["values"],idx:3},q3:{value:t=>t.cell.data.q3(t.get),req:["values"],idx:3},min:{init:t=>t.min=void 0,value:t=>t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min,add:(t,e)=>{(e<t.min||t.min===void 0)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:t=>t.max=void 0,value:t=>t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max,add:(t,e)=>{(e>t.max||t.max===void 0)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:t=>t.argmin=void 0,value:t=>t.argmin||t.cell.data.argmin(t.get),add:(t,e,r)=>{e<t.min&&(t.argmin=r)},rem:(t,e)=>{e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:t=>t.argmax=void 0,value:t=>t.argmax||t.cell.data.argmax(t.get),add:(t,e,r)=>{e>t.max&&(t.argmax=r)},rem:(t,e)=>{e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},Hd=Object.keys(ud).filter(t=>t!=="__count__");function FX(t,e){return r=>bt({name:t,out:r||t},MX,e)}[...Hd,"__count__"].forEach(t=>{ud[t]=FX(t,ud[t])});function SM(t,e){return ud[t](e)}function $M(t,e){return t.idx-e.idx}function zX(t){const e={};t.forEach(n=>e[n.name]=n);const r=n=>{n.req&&n.req.forEach(o=>{e[o]||r(e[o]=ud[o]())})};return t.forEach(r),Object.values(e).sort($M)}function RX(){this.valid=0,this.missing=0,this._ops.forEach(t=>t.init(this))}function LX(t,e){if(t==null||t===""){++this.missing;return}t===t&&(++this.valid,this._ops.forEach(r=>r.add(this,t,e)))}function IX(t,e){if(t==null||t===""){--this.missing;return}t===t&&(--this.valid,this._ops.forEach(r=>r.rem(this,t,e)))}function BX(t){return this._out.forEach(e=>t[e.out]=e.value(this)),t}function CM(t,e){const r=e||Ze,n=zX(t),o=t.slice().sort($M);function i(a){this._ops=n,this._out=o,this.cell=a,this.init()}return i.prototype.init=RX,i.prototype.add=LX,i.prototype.rem=IX,i.prototype.set=BX,i.prototype.get=r,i.fields=t.map(a=>a.out),i}function Dx(t){this._key=t?Pr(t):ut,this.reset()}const Fe=Dx.prototype;Fe.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Fe.add=function(t){this._add.push(t)};Fe.rem=function(t){this._rem.push(t)};Fe.values=function(){if(this._get=null,this._rem.length===0)return this._add;const t=this._add,e=this._rem,r=this._key,n=t.length,o=e.length,i=Array(n-o),a={};let c,u,s;for(c=0;c<o;++c)a[r(e[c])]=1;for(c=0,u=0;c<n;++c)a[r(s=t[c])]?a[r(s)]=0:i[u++]=s;return this._rem=[],this._add=i};Fe.distinct=function(t){const e=this.values(),r={};let n=e.length,o=0,i;for(;--n>=0;)i=t(e[n])+"",lt(r,i)||(r[i]=1,++o);return o};Fe.extent=function(t){if(this._get!==t||!this._ext){const e=this.values(),r=Wj(e,t);this._ext=[e[r[0]],e[r[1]]],this._get=t}return this._ext};Fe.argmin=function(t){return this.extent(t)[0]||{}};Fe.argmax=function(t){return this.extent(t)[1]||{}};Fe.min=function(t){const e=this.extent(t)[0];return e!=null?t(e):void 0};Fe.max=function(t){const e=this.extent(t)[1];return e!=null?t(e):void 0};Fe.quartile=function(t){return(this._get!==t||!this._q)&&(this._q=bx(this.values(),t),this._get=t),this._q};Fe.q1=function(t){return this.quartile(t)[0]};Fe.q2=function(t){return this.quartile(t)[1]};Fe.q3=function(t){return this.quartile(t)[2]};Fe.ci=function(t){return(this._get!==t||!this._ci)&&(this._ci=pM(this.values(),1e3,.05,t),this._get=t),this._ci};Fe.ci0=function(t){return this.ci(t)[0]};Fe.ci1=function(t){return this.ci(t)[1]};function Qi(t){M.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Qi.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Hd},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};X(Qi,M,{transform(t,e){const r=this,n=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=t.modified();return r.stamp=n.stamp,r.value&&(o||e.modified(r._inputs,!0))?(r._prev=r.value,r.value=o?r.init(t):Object.create(null),e.visit(e.SOURCE,i=>r.add(i))):(r.value=r.value||r.init(t),e.visit(e.REM,i=>r.rem(i)),e.visit(e.ADD,i=>r.add(i))),n.modifies(r._outputs),r._drop=t.drop!==!1,t.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),e.clean()&&r._drop&&n.clean(!0).runAfter(()=>this.clean()),r.changes(n)},cross(){const t=this,e=t.value,r=t._dnames,n=r.map(()=>({})),o=r.length;function i(c){let u,s,l,d;for(u in c)for(l=c[u].tuple,s=0;s<o;++s)n[s][d=l[r[s]]]=d}i(t._prev),i(e);function a(c,u,s){const l=r[s],d=n[s++];for(const f in d){const h=c?c+"|"+f:f;u[l]=d[f],s<o?a(h,u,s):e[h]||t.cell(h,u)}}a("",{},0)},init(t){const e=this._inputs=[],r=this._outputs=[],n={};function o(b){const m=Z(Ve(b)),v=m.length;let y=0,x;for(;y<v;++y)n[x=m[y]]||(n[x]=1,e.push(x))}this._dims=Z(t.groupby),this._dnames=this._dims.map(b=>{const m=ae(b);return o(b),r.push(m),m}),this.cellkey=t.key?t.key:H0(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const i=t.fields||[null],a=t.ops||["count"],c=t.as||[],u=i.length,s={};let l,d,f,h,p,g;for(u!==a.length&&R("Unmatched number of fields and aggregate ops."),g=0;g<u;++g){if(l=i[g],d=a[g],l==null&&d!=="count"&&R("Null aggregate field specified."),h=ae(l),p=EM(d,h,c[g]),r.push(p),d==="count"){this._counts.push(p);continue}f=s[h],f||(o(l),f=s[h]=[],f.field=l,this._measures.push(f)),d!=="count"&&(this._countOnly=!1),f.push(SM(d,p))}return this._measures=this._measures.map(b=>CM(b,b.field)),Object.create(null)},cellkey:H0(),cell(t,e){let r=this.value[t];return r?r.num===0&&this._drop&&r.stamp<this.stamp?(r.stamp=this.stamp,this._adds[this._alen++]=r):r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r):(r=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=r),r},newcell(t,e){const r={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){const n=this._measures,o=n.length;r.agg=Array(o);for(let i=0;i<o;++i)r.agg[i]=new n[i](r)}return r.store&&(r.data=new Dx),r},newtuple(t,e){const r=this._dnames,n=this._dims,o=n.length,i={};for(let a=0;a<o;++a)i[r[a]]=n[a](t);return e?aM(e.tuple,i):Ft(i)},clean(){const t=this.value;for(const e in t)t[e].num===0&&delete t[e]},add(t){const e=this.cellkey(t),r=this.cell(e,t);if(r.num+=1,this._countOnly)return;r.store&&r.data.add(t);const n=r.agg;for(let o=0,i=n.length;o<i;++o)n[o].add(n[o].get(t),t)},rem(t){const e=this.cellkey(t),r=this.cell(e,t);if(r.num-=1,this._countOnly)return;r.store&&r.data.rem(t);const n=r.agg;for(let o=0,i=n.length;o<i;++o)n[o].rem(n[o].get(t),t)},celltuple(t){const e=t.tuple,r=this._counts;t.store&&t.data.values();for(let n=0,o=r.length;n<o;++n)e[r[n]]=t.num;if(!this._countOnly){const n=t.agg;for(let o=0,i=n.length;o<i;++o)n[o].set(e)}return e},changes(t){const e=this._adds,r=this._mods,n=this._prev,o=this._drop,i=t.add,a=t.rem,c=t.mod;let u,s,l,d;if(n)for(s in n)u=n[s],(!o||u.num)&&a.push(u.tuple);for(l=0,d=this._alen;l<d;++l)i.push(this.celltuple(e[l])),e[l]=null;for(l=0,d=this._mlen;l<d;++l)u=r[l],(u.num===0&&o?a:c).push(this.celltuple(u)),r[l]=null;return this._alen=this._mlen=0,this._prev=null,t}});const UX=1e-14;function jx(t){M.call(this,null,t)}jx.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};X(jx,M,{transform(t,e){const r=t.interval!==!1,n=this._bins(t),o=n.start,i=n.step,a=t.as||["bin0","bin1"],c=a[0],u=a[1];let s;return t.modified()?(e=e.reflow(!0),s=e.SOURCE):s=e.modified(Ve(t.field))?e.ADD_MOD:e.ADD,e.visit(s,r?l=>{const d=n(l);l[c]=d,l[u]=d==null?null:o+i*(1+(d-o)/i)}:l=>l[c]=n(l)),e.modifies(r?a:c)},_bins(t){if(this.value&&!t.modified())return this.value;const e=t.field,r=hM(t),n=r.step;let o=r.start,i=o+Math.ceil((r.stop-o)/n)*n,a,c;(a=t.anchor)!=null&&(c=a-(o+n*Math.floor((a-o)/n)),o+=c,i+=c);const u=function(s){let l=He(e(s));return l==null?null:l<o?-1/0:l>i?1/0:(l=Math.max(o,Math.min(l,i-n)),o+n*Math.floor(UX+(l-o)/n))};return u.start=o,u.stop=r.stop,u.step=n,this.value=zr(u,Ve(e),t.name||"bin_"+ae(e))}});function AM(t,e,r){const n=t;let o=e||[],i=r||[],a={},c=0;return{add:u=>i.push(u),remove:u=>a[n(u)]=++c,size:()=>o.length,data:(u,s)=>(c&&(o=o.filter(l=>!a[n(l)]),a={},c=0),s&&u&&o.sort(u),i.length&&(o=u?Kj(u,o,i.sort(u)):o.concat(i),i=[]),o)}}function Tx(t){M.call(this,[],t)}Tx.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};X(Tx,M,{transform(t,e){const r=e.fork(e.ALL),n=AM(ut,this.value,r.materialize(r.ADD).add),o=t.sort,i=e.changed()||o&&(t.modified("sort")||e.modified(o.fields));return r.visit(r.REM,n.remove),this.modified(i),this.value=r.source=n.data(Fc(o),i),e.source&&e.source.root&&(this.value.root=e.source.root),r}});function PM(t){Ht.call(this,null,qX,t)}X(PM,Ht);function qX(t){return this.value&&!t.modified()?this.value:V1(t.fields,t.orders)}function Mx(t){M.call(this,null,t)}Mx.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function WX(t,e,r){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break}return t.match(r)}X(Mx,M,{transform(t,e){const r=d=>f=>{for(var h=WX(c(f),t.case,i)||[],p,g=0,b=h.length;g<b;++g)a.test(p=h[g])||d(p)},n=this._parameterCheck(t,e),o=this._counts,i=this._match,a=this._stop,c=t.field,u=t.as||["text","count"],s=r(d=>o[d]=1+(o[d]||0)),l=r(d=>o[d]-=1);return n?e.visit(e.SOURCE,s):(e.visit(e.ADD,s),e.visit(e.REM,l)),this._finish(e,u)},_parameterCheck(t,e){let r=!1;return(t.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),r=!0),(t.modified("pattern")||!this._match)&&(this._match=new RegExp(t.pattern||"[\\w']+","g"),r=!0),(t.modified("field")||e.modified(t.field.fields))&&(r=!0),r&&(this._counts={}),r},_finish(t,e){const r=this._counts,n=this._tuples||(this._tuples={}),o=e[0],i=e[1],a=t.fork(t.NO_SOURCE|t.NO_FIELDS);let c,u,s;for(c in r)u=n[c],s=r[c]||0,!u&&s?(n[c]=u=Ft({}),u[o]=c,u[i]=s,a.add.push(u)):s===0?(u&&a.rem.push(u),r[c]=null,n[c]=null):u[i]!==s&&(u[i]=s,a.mod.push(u));return a.modifies(e)}});function Fx(t){M.call(this,null,t)}Fx.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};X(Fx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE),n=t.as||["a","b"],o=n[0],i=n[1],a=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter");let c=this.value;return a?(c&&(r.rem=c),c=e.materialize(e.SOURCE).source,r.add=this.value=HX(c,o,i,t.filter||an)):r.mod=c,r.source=this.value,r.modifies(n)}});function HX(t,e,r,n){for(var o=[],i={},a=t.length,c=0,u,s;c<a;++c)for(i[e]=s=t[c],u=0;u<a;++u)i[r]=t[u],n(i)&&(o.push(Ft(i)),i={},i[e]=s);return o}const uC={kde:xx,mixture:vM,normal:yx,lognormal:mM,uniform:yM},GX="distributions",sC="function",YX="field";function NM(t,e){const r=t[sC];lt(uC,r)||R("Unknown distribution function: "+r);const n=uC[r]();for(const o in t)o===YX?n.data((t.from||e()).map(t[o])):o===GX?n[o](t[o].map(i=>NM(i,e))):typeof n[o]===sC&&n[o](t[o]);return n}function zx(t){M.call(this,null,t)}const DM=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],VX={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:DM},{name:"weights",type:"number",array:!0}]};zx.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:DM.concat(VX)},{name:"as",type:"string",array:!0,default:["value","density"]}]};X(zx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const n=NM(t.distribution,XX(e)),o=t.steps||t.minsteps||25,i=t.steps||t.maxsteps||200;let a=t.method||"pdf";a!=="pdf"&&a!=="cdf"&&R("Invalid density method: "+a),!t.extent&&!n.data&&R("Missing density extent parameter."),a=n[a];const c=t.as||["value","density"],u=t.extent||go(n.data()),s=ob(a,u,o,i).map(l=>{const d={};return d[c[0]]=l[0],d[c[1]]=l[1],Ft(d)});this.value&&(r.rem=this.value),this.value=r.add=r.source=s}return r}});function XX(t){return()=>t.materialize(t.SOURCE).source}function jM(t,e){return t?t.map((r,n)=>e[n]||ae(r)):null}function Rx(t,e,r){const n=[],o=d=>d(u);let i,a,c,u,s,l;if(e==null)n.push(t.map(r));else for(i={},a=0,c=t.length;a<c;++a)u=t[a],s=e.map(o),l=i[s],l||(i[s]=l=[],l.dims=s,n.push(l)),l.push(r(u));return n}const TM="bin";function Lx(t){M.call(this,null,t)}Lx.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:TM}]};const KX=(t,e)=>Id(go(t,e))/30;X(Lx,M,{transform(t,e){if(this.value&&!(t.modified()||e.changed()))return e;const r=e.materialize(e.SOURCE).source,n=Rx(e.source,t.groupby,Ze),o=t.smooth||!1,i=t.field,a=t.step||KX(r,i),c=Fc((p,g)=>i(p)-i(g)),u=t.as||TM,s=n.length;let l=1/0,d=-1/0,f=0,h;for(;f<s;++f){const p=n[f].sort(c);h=-1;for(const g of gM(p,a,o,i))g<l&&(l=g),g>d&&(d=g),p[++h][u]=g}return this.value={start:l,stop:d,step:a},e.reflow(!0).modifies(u)}});function MM(t){Ht.call(this,null,QX,t),this.modified(!0)}X(MM,Ht);function QX(t){const e=t.expr;return this.value&&!t.modified("expr")?this.value:zr(r=>e(r,t),Ve(e),ae(e))}function Ix(t){M.call(this,[void 0,void 0],t)}Ix.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};X(Ix,M,{transform(t,e){const r=this.value,n=t.field,o=e.changed()||e.modified(n.fields)||t.modified("field");let i=r[0],a=r[1];if((o||i==null)&&(i=1/0,a=-1/0),e.visit(o?e.SOURCE:e.ADD,c=>{const u=He(n(c));u!=null&&(u<i&&(i=u),u>a&&(a=u))}),!Number.isFinite(i)||!Number.isFinite(a)){let c=ae(n);c&&(c=` for field "${c}"`),e.dataflow.warn(`Infinite extent${c}: [${i}, ${a}]`),i=a=void 0}this.value=[i,a]}});function Bx(t,e){Ht.call(this,t),this.parent=e,this.count=0}X(Bx,Ht,{connect(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add(t){this.count+=1,this.value.add.push(t)},rem(t){this.count-=1,this.value.rem.push(t)},mod(t){this.value.mod.push(t)},init(t){this.value.init(t,t.NO_SOURCE)},evaluate(){return this.value}});function ib(t){M.call(this,{},t),this._keys=xs();const e=this._targets=[];e.active=0,e.forEach=r=>{for(let n=0,o=e.active;n<o;++n)r(e[n],n,e)}}X(ib,M,{activate(t){this._targets[this._targets.active++]=t},subflow(t,e,r,n){const o=this.value;let i=lt(o,t)&&o[t],a,c;return i?i.value.stamp<r.stamp&&(i.init(r),this.activate(i)):(c=n||(c=this._group[t])&&c.tuple,a=r.dataflow,i=new Bx(r.fork(r.NO_SOURCE),this),a.add(i).connect(e(a,t,c)),o[t]=i,this.activate(i)),i},clean(){const t=this.value;let e=0;for(const r in t)if(t[r].count===0){const n=t[r].detachSubflow;n&&n(),delete t[r],++e}if(e){const r=this._targets.filter(n=>n&&n.count>0);this.initTargets(r)}},initTargets(t){const e=this._targets,r=e.length,n=t?t.length:0;let o=0;for(;o<n;++o)e[o]=t[o];for(;o<r&&e[o]!=null;++o)e[o]=null;e.active=n},transform(t,e){const r=e.dataflow,n=t.key,o=t.subflow,i=this._keys,a=t.modified("key"),c=u=>this.subflow(u,o,e);return this._group=t.group||{},this.initTargets(),e.visit(e.REM,u=>{const s=ut(u),l=i.get(s);l!==void 0&&(i.delete(s),c(l).rem(u))}),e.visit(e.ADD,u=>{const s=n(u);i.set(ut(u),s),c(s).add(u)}),a||e.modified(n.fields)?e.visit(e.MOD,u=>{const s=ut(u),l=i.get(s),d=n(u);l===d?c(d).mod(u):(i.set(s,d),c(l).rem(u),c(d).add(u))}):e.changed(e.MOD)&&e.visit(e.MOD,u=>{c(i.get(ut(u))).mod(u)}),a&&e.visit(e.REFLOW,u=>{const s=ut(u),l=i.get(s),d=n(u);l!==d&&(i.set(s,d),c(l).rem(u),c(d).add(u))}),e.clean()?r.runAfter(()=>{this.clean(),i.clean()}):i.empty>r.cleanThreshold&&r.runAfter(i.clean),e}});function FM(t){Ht.call(this,null,JX,t)}X(FM,Ht);function JX(t){return this.value&&!t.modified()?this.value:L(t.name)?Z(t.name).map(e=>Pr(e)):Pr(t.name,t.as)}function Ux(t){M.call(this,xs(),t)}Ux.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};X(Ux,M,{transform(t,e){const r=e.dataflow,n=this.value,o=e.fork(),i=o.add,a=o.rem,c=o.mod,u=t.expr;let s=!0;e.visit(e.REM,d=>{const f=ut(d);n.has(f)?n.delete(f):a.push(d)}),e.visit(e.ADD,d=>{u(d,t)?i.push(d):n.set(ut(d),1)});function l(d){const f=ut(d),h=u(d,t),p=n.get(f);h&&p?(n.delete(f),i.push(d)):!h&&!p?(n.set(f,1),a.push(d)):s&&h&&!p&&c.push(d)}return e.visit(e.MOD,l),t.modified()&&(s=!1,e.visit(e.REFLOW,l)),n.empty>r.cleanThreshold&&r.runAfter(n.clean),o}});function qx(t){M.call(this,[],t)}qx.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};X(qx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE),n=t.fields,o=jM(n,t.as||[]),i=t.index||null,a=o.length;return r.rem=this.value,e.visit(e.SOURCE,c=>{const u=n.map(p=>p(c)),s=u.reduce((p,g)=>Math.max(p,g.length),0);let l=0,d,f,h;for(;l<s;++l){for(f=fx(c),d=0;d<a;++d)f[o[d]]=(h=u[d][l])==null?null:h;i&&(f[i]=l),r.add.push(f)}}),this.value=r.source=r.add,i&&r.modifies(i),r.modifies(o)}});function Wx(t){M.call(this,[],t)}Wx.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};X(Wx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE),n=t.fields,o=n.map(ae),i=t.as||["key","value"],a=i[0],c=i[1],u=n.length;return r.rem=this.value,e.visit(e.SOURCE,s=>{for(let l=0,d;l<u;++l)d=fx(s),d[a]=o[l],d[c]=n[l](s),r.add.push(d)}),this.value=r.source=r.add,r.modifies(i)}});function Hx(t){M.call(this,null,t)}Hx.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};X(Hx,M,{transform(t,e){const r=t.expr,n=t.as,o=t.modified(),i=t.initonly?e.ADD:o?e.SOURCE:e.modified(r.fields)||e.modified(n)?e.ADD_MOD:e.ADD;return o&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(n),e.visit(i,a=>a[n]=r(a,t))}});function zM(t){M.call(this,[],t)}X(zM,M,{transform(t,e){const r=e.fork(e.ALL),n=t.generator;let o=this.value,i=t.size-o.length,a,c,u;if(i>0){for(a=[];--i>=0;)a.push(u=Ft(n(t))),o.push(u);r.add=r.add.length?r.materialize(r.ADD).add.concat(a):a}else c=o.slice(0,-i),r.rem=r.rem.length?r.materialize(r.REM).rem.concat(c):c,o=o.slice(-i);return r.source=this.value=o,r}});const If={value:"value",median:sT,mean:zG,min:T0,max:nc},ZX=[];function Gx(t){M.call(this,[],t)}Gx.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function tK(t){var e=t.method||If.value,r;if(If[e]==null)R("Unrecognized imputation method: "+e);else return e===If.value?(r=t.value!==void 0?t.value:0,()=>r):If[e]}function eK(t){const e=t.field;return r=>r?e(r):NaN}X(Gx,M,{transform(t,e){var r=e.fork(e.ALL),n=tK(t),o=eK(t),i=ae(t.field),a=ae(t.key),c=(t.groupby||[]).map(ae),u=rK(e.source,t.groupby,t.key,t.keyvals),s=[],l=this.value,d=u.domain.length,f,h,p,g,b,m,v,y,x,k;for(b=0,y=u.length;b<y;++b)for(f=u[b],p=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(g=u.domain[v],k={_impute:!0},m=0,x=p.length;m<x;++m)k[c[m]]=p[m];k[a]=g,k[i]=Number.isNaN(h)?h=n(f,o):h,s.push(Ft(k))}return s.length&&(r.add=r.materialize(r.ADD).add.concat(s)),l.length&&(r.rem=r.materialize(r.REM).rem.concat(l)),this.value=s,r}});function rK(t,e,r,n){var o=m=>m(b),i=[],a=n?n.slice():[],c={},u={},s,l,d,f,h,p,g,b;for(a.forEach((m,v)=>c[m]=v+1),f=0,g=t.length;f<g;++f)b=t[f],p=r(b),h=c[p]||(c[p]=a.push(p)),l=(s=e?e.map(o):ZX)+"",(d=u[l])||(d=u[l]=[],i.push(d),d.values=s),d[h-1]=b;return i.domain=a,i}function Yx(t){Qi.call(this,t)}Yx.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Hd},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};X(Yx,Qi,{transform(t,e){const r=this,n=t.modified();let o;return r.value&&(n||e.modified(r._inputs,!0))?(o=r.value=n?r.init(t):{},e.visit(e.SOURCE,i=>r.add(i))):(o=r.value=r.value||this.init(t),e.visit(e.REM,i=>r.rem(i)),e.visit(e.ADD,i=>r.add(i))),r.changes(),e.visit(e.SOURCE,i=>{bt(i,o[r.cellkey(i)].tuple)}),e.reflow(n).modifies(this._outputs)},changes(){const t=this._adds,e=this._mods;let r,n;for(r=0,n=this._alen;r<n;++r)this.celltuple(t[r]),t[r]=null;for(r=0,n=this._mlen;r<n;++r)this.celltuple(e[r]),e[r]=null;this._alen=this._mlen=0}});function Vx(t){M.call(this,null,t)}Vx.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};X(Vx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const n=e.materialize(e.SOURCE).source,o=Rx(n,t.groupby,t.field),i=(t.groupby||[]).map(ae),a=t.bandwidth,c=t.cumulative?"cdf":"pdf",u=t.as||["value","density"],s=[];let l=t.extent,d=t.steps||t.minsteps||25,f=t.steps||t.maxsteps||200;c!=="pdf"&&c!=="cdf"&&R("Invalid density method: "+c),t.resolve==="shared"&&(l||(l=go(n,t.field)),d=f=t.steps||f),o.forEach(h=>{const p=xx(h,a)[c],g=t.counts?h.length:1,b=l||go(h);ob(p,b,d,f).forEach(m=>{const v={};for(let y=0;y<i.length;++y)v[i[y]]=h.dims[y];v[u[0]]=m[0],v[u[1]]=m[1]*g,s.push(Ft(v))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=s}return r}});function RM(t){Ht.call(this,null,nK,t)}X(RM,Ht);function nK(t){return this.value&&!t.modified()?this.value:K1(t.fields,t.flat)}function LM(t){M.call(this,[],t),this._pending=null}X(LM,M,{transform(t,e){const r=e.dataflow;return this._pending?av(this,e,this._pending):oK(t)?e.StopPropagation:t.values?av(this,e,r.parse(t.values,t.format)):t.async?{async:r.request(t.url,t.format).then(o=>(this._pending=Z(o.data),i=>i.touch(this)))}:r.request(t.url,t.format).then(n=>av(this,e,Z(n.data)))}});function oK(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}function av(t,e,r){r.forEach(Ft);const n=e.fork(e.NO_FIELDS&e.NO_SOURCE);return n.rem=t.value,t.value=n.source=n.add=r,t._pending=null,n.rem.length&&n.clean(!0),n}function Xx(t){M.call(this,{},t)}Xx.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};X(Xx,M,{transform(t,e){const r=t.fields,n=t.index,o=t.values,i=t.default==null?null:t.default,a=t.modified(),c=r.length;let u=a?e.SOURCE:e.ADD,s=e,l=t.as,d,f,h;return o?(f=o.length,c>1&&!l&&R('Multi-field lookup requires explicit "as" parameter.'),l&&l.length!==c*f&&R('The "as" parameter has too few output field names.'),l=l||o.map(ae),d=function(p){for(var g=0,b=0,m,v;g<c;++g)if(v=n.get(r[g](p)),v==null)for(m=0;m<f;++m,++b)p[l[b]]=i;else for(m=0;m<f;++m,++b)p[l[b]]=o[m](v)}):(l||R("Missing output field names."),d=function(p){for(var g=0,b;g<c;++g)b=n.get(r[g](p)),p[l[g]]=b??i}),a?s=e.reflow(!0):(h=r.some(p=>e.modified(p.fields)),u|=h?e.MOD:0),e.visit(u,d),s.modifies(l)}});function IM(t){Ht.call(this,null,iK,t)}X(IM,Ht);function iK(t){if(this.value&&!t.modified())return this.value;const e=t.extents,r=e.length;let n=1/0,o=-1/0,i,a;for(i=0;i<r;++i)a=e[i],a[0]<n&&(n=a[0]),a[1]>o&&(o=a[1]);return[n,o]}function BM(t){Ht.call(this,null,aK,t)}X(BM,Ht);function aK(t){return this.value&&!t.modified()?this.value:t.values.reduce((e,r)=>e.concat(r),[])}function UM(t){M.call(this,null,t)}X(UM,M,{transform(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function Kx(t){Qi.call(this,t)}Kx.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Hd,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};X(Kx,Qi,{_transform:Qi.prototype.transform,transform(t,e){return this._transform(cK(t,e),e)}});function cK(t,e){const r=t.field,n=t.value,o=(t.op==="count"?"__count__":t.op)||"sum",i=Ve(r).concat(Ve(n)),a=sK(r,t.limit||0,e);return e.changed()&&t.set("__pivot__",null,null,!0),{key:t.key,groupby:t.groupby,ops:a.map(()=>o),fields:a.map(c=>uK(c,r,n,i)),as:a.map(c=>c+""),modified:t.modified.bind(t)}}function uK(t,e,r,n){return zr(o=>e(o)===t?r(o):NaN,n,t+"")}function sK(t,e,r){const n={},o=[];return r.visit(r.SOURCE,i=>{const a=t(i);n[a]||(n[a]=1,o.push(a))}),o.sort(Bg),e?o.slice(0,e):o}function qM(t){ib.call(this,t)}X(qM,ib,{transform(t,e){const r=t.subflow,n=t.field,o=i=>this.subflow(ut(i),r,e,i);return(t.modified("field")||n&&e.modified(Ve(n)))&&R("PreFacet does not support field modification."),this.initTargets(),n?(e.visit(e.MOD,i=>{const a=o(i);n(i).forEach(c=>a.mod(c))}),e.visit(e.ADD,i=>{const a=o(i);n(i).forEach(c=>a.add(Ft(c)))}),e.visit(e.REM,i=>{const a=o(i);n(i).forEach(c=>a.rem(c))})):(e.visit(e.MOD,i=>o(i).mod(i)),e.visit(e.ADD,i=>o(i).add(i)),e.visit(e.REM,i=>o(i).rem(i))),e.clean()&&e.runAfter(()=>this.clean()),e}});function Qx(t){M.call(this,null,t)}Qx.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};X(Qx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE),n=t.fields,o=jM(t.fields,t.as||[]),i=n?(c,u)=>lK(c,u,n,o):Qg;let a;return this.value?a=this.value:(e=e.addAll(),a=this.value={}),e.visit(e.REM,c=>{const u=ut(c);r.rem.push(a[u]),a[u]=null}),e.visit(e.ADD,c=>{const u=i(c,Ft({}));a[ut(c)]=u,r.add.push(u)}),e.visit(e.MOD,c=>{r.mod.push(i(c,a[ut(c)]))}),r}});function lK(t,e,r,n){for(let o=0,i=r.length;o<i;++o)e[n[o]]=r[o](t);return e}function WM(t){M.call(this,null,t)}X(WM,M,{transform(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});function Jx(t){M.call(this,null,t)}Jx.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const dK=1e-14;X(Jx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS),n=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return r.source=this.value,r;const o=e.materialize(e.SOURCE).source,i=Rx(o,t.groupby,t.field),a=(t.groupby||[]).map(ae),c=[],u=t.step||.01,s=t.probs||Wr(u/2,1-dK,u),l=s.length;return i.forEach(d=>{const f=gx(d,s);for(let h=0;h<l;++h){const p={};for(let g=0;g<a.length;++g)p[a[g]]=d.dims[g];p[n[0]]=s[h],p[n[1]]=f[h],c.push(Ft(p))}}),this.value&&(r.rem=this.value),this.value=r.add=r.source=c,r}});function HM(t){M.call(this,null,t)}X(HM,M,{transform(t,e){let r,n;return this.value?n=this.value:(r=e=e.addAll(),n=this.value={}),t.derive&&(r=e.fork(e.NO_SOURCE),e.visit(e.REM,o=>{const i=ut(o);r.rem.push(n[i]),n[i]=null}),e.visit(e.ADD,o=>{const i=fx(o);n[ut(o)]=i,r.add.push(i)}),e.visit(e.MOD,o=>{const i=n[ut(o)];for(const a in o)i[a]=o[a],r.modifies(a);r.mod.push(i)})),r}});function Zx(t){M.call(this,[],t),this.count=0}Zx.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};X(Zx,M,{transform(t,e){const r=e.fork(e.NO_SOURCE),n=t.modified("size"),o=t.size,i=this.value.reduce((l,d)=>(l[ut(d)]=1,l),{});let a=this.value,c=this.count,u=0;function s(l){let d,f;a.length<o?a.push(l):(f=~~((c+1)*un()),f<a.length&&f>=u&&(d=a[f],i[ut(d)]&&r.rem.push(d),a[f]=l)),++c}if(e.rem.length&&(e.visit(e.REM,l=>{const d=ut(l);i[d]&&(i[d]=-1,r.rem.push(l)),--c}),a=a.filter(l=>i[ut(l)]!==-1)),(e.rem.length||n)&&a.length<o&&e.source&&(u=c=a.length,e.visit(e.SOURCE,l=>{i[ut(l)]||s(l)}),u=-1),n&&a.length>o){const l=a.length-o;for(let d=0;d<l;++d)i[ut(a[d])]=-1,r.rem.push(a[d]);a=a.slice(l)}return e.mod.length&&e.visit(e.MOD,l=>{i[ut(l)]&&r.mod.push(l)}),e.add.length&&e.visit(e.ADD,s),(e.add.length||u<0)&&(r.add=a.filter(l=>!i[ut(l)])),this.count=c,this.value=r.source=a,r}});function tw(t){M.call(this,null,t)}tw.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};X(tw,M,{transform(t,e){if(this.value&&!t.modified())return;const r=e.materialize().fork(e.MOD),n=t.as||"data";return r.rem=this.value?e.rem.concat(this.value):e.rem,this.value=Wr(t.start,t.stop,t.step||1).map(o=>{const i={};return i[n]=o,Ft(i)}),r.add=e.add.concat(this.value),r}});function GM(t){M.call(this,null,t),this.modified(!0)}X(GM,M,{transform(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});function ew(t){M.call(this,null,t)}const YM=["unit0","unit1"];ew.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:nx,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:YM}]};X(ew,M,{transform(t,e){const r=t.field,n=t.interval!==!1,o=t.timezone==="utc",i=this._floor(t,e),a=(o?Os:_s)(i.unit).offset,c=t.as||YM,u=c[0],s=c[1],l=i.step;let d=i.start||1/0,f=i.stop||-1/0,h=e.ADD;return(t.modified()||e.changed(e.REM)||e.modified(Ve(r)))&&(e=e.reflow(!0),h=e.SOURCE,d=1/0,f=-1/0),e.visit(h,p=>{const g=r(p);let b,m;g==null?(p[u]=null,n&&(p[s]=null)):(p[u]=b=m=i(g),n&&(p[s]=m=a(b,l)),b<d&&(d=b),m>f&&(f=m))}),i.start=d,i.stop=f,e.modifies(n?c:u)},_floor(t,e){const r=t.timezone==="utc",{units:n,step:o}=t.units?{units:t.units,step:t.step||1}:zT({extent:t.extent||go(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),i=ox(n),a=this.value||{},c=(r?CT:$T)(i,o);return c.unit=$t(i),c.units=i,c.step=o,c.start=a.start,c.stop=a.stop,this.value=c}});function VM(t){M.call(this,xs(),t)}X(VM,M,{transform(t,e){const r=e.dataflow,n=t.field,o=this.value,i=c=>o.set(n(c),c);let a=!0;return t.modified("field")||e.modified(n.fields)?(o.clear(),e.visit(e.SOURCE,i)):e.changed()?(e.visit(e.REM,c=>o.delete(n(c))),e.visit(e.ADD,i)):a=!1,this.modified(a),o.empty>r.cleanThreshold&&r.runAfter(o.clean),e.fork()}});function XM(t){M.call(this,null,t)}X(XM,M,{transform(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(Fc(t.sort)):e.source).map(t.field))}});function fK(t,e,r,n){const o=sd[t](e,r);return{init:o.init||Ni,update:function(i,a){a[n]=o.next(i)}}}const sd={row_number:function(){return{next:t=>t.index+1}},rank:function(){let t;return{init:()=>t=1,next:e=>{const r=e.index,n=e.data;return r&&e.compare(n[r-1],n[r])?t=r+1:t}}},dense_rank:function(){let t;return{init:()=>t=1,next:e=>{const r=e.index,n=e.data;return r&&e.compare(n[r-1],n[r])?++t:t}}},percent_rank:function(){const t=sd.rank(),e=t.next;return{init:t.init,next:r=>(e(r)-1)/(r.data.length-1)}},cume_dist:function(){let t;return{init:()=>t=0,next:e=>{const r=e.data,n=e.compare;let o=e.index;if(t<o){for(;o+1<r.length&&!n(r[o],r[o+1]);)++o;t=o}return(1+t)/r.length}}},ntile:function(t,e){e=+e,e>0||R("ntile num must be greater than zero.");const r=sd.cume_dist(),n=r.next;return{init:r.init,next:o=>Math.ceil(e*n(o))}},lag:function(t,e){return e=+e||1,{next:r=>{const n=r.index-e;return n>=0?t(r.data[n]):null}}},lead:function(t,e){return e=+e||1,{next:r=>{const n=r.index+e,o=r.data;return n<o.length?t(o[n]):null}}},first_value:function(t){return{next:e=>t(e.data[e.i0])}},last_value:function(t){return{next:e=>t(e.data[e.i1-1])}},nth_value:function(t,e){return e=+e,e>0||R("nth_value nth must be greater than zero."),{next:r=>{const n=r.i0+(e-1);return n<r.i1?t(r.data[n]):null}}},prev_value:function(t){let e;return{init:()=>e=null,next:r=>{const n=t(r.data[r.index]);return n!=null?e=n:e}}},next_value:function(t){let e,r;return{init:()=>(e=null,r=-1),next:n=>{const o=n.data;return n.index<=r?e:(r=hK(t,o,n.index))<0?(r=o.length,e=null):e=t(o[r])}}}};function hK(t,e,r){for(let n=e.length;r<n;++r)if(t(e[r])!=null)return r;return-1}const pK=Object.keys(sd);function KM(t){const e=Z(t.ops),r=Z(t.fields),n=Z(t.params),o=Z(t.as),i=this.outputs=[],a=this.windows=[],c={},u={},s=[],l=[];let d=!0;function f(h){Z(Ve(h)).forEach(p=>c[p]=1)}f(t.sort),e.forEach((h,p)=>{const g=r[p],b=ae(g),m=EM(h,b,o[p]);if(f(g),i.push(m),lt(sd,h))a.push(fK(h,r[p],n[p],m));else{if(g==null&&h!=="count"&&R("Null aggregate field specified."),h==="count"){s.push(m);return}d=!1;let v=u[b];v||(v=u[b]=[],v.field=g,l.push(v)),v.push(SM(h,m))}}),(s.length||l.length)&&(this.cell=gK(l,s,d)),this.inputs=Object.keys(c)}const QM=KM.prototype;QM.init=function(){this.windows.forEach(t=>t.init()),this.cell&&this.cell.init()};QM.update=function(t,e){const r=this.cell,n=this.windows,o=t.data,i=n&&n.length;let a;if(r){for(a=t.p0;a<t.i0;++a)r.rem(o[a]);for(a=t.p1;a<t.i1;++a)r.add(o[a]);r.set(e)}for(a=0;a<i;++a)n[a].update(t,e)};function gK(t,e,r){t=t.map(u=>CM(u,u.field));const n={num:0,agg:null,store:!1,count:e};if(!r)for(var o=t.length,i=n.agg=Array(o),a=0;a<o;++a)i[a]=new t[a](n);if(n.store)var c=n.data=new Dx;return n.add=function(u){if(n.num+=1,!r){c&&c.add(u);for(let s=0;s<o;++s)i[s].add(i[s].get(u),u)}},n.rem=function(u){if(n.num-=1,!r){c&&c.rem(u);for(let s=0;s<o;++s)i[s].rem(i[s].get(u),u)}},n.set=function(u){let s,l;for(c&&c.values(),s=0,l=e.length;s<l;++s)u[e[s]]=n.num;if(!r)for(s=0,l=i.length;s<l;++s)i[s].set(u)},n.init=function(){n.num=0,c&&c.reset();for(let u=0;u<o;++u)i[u].init()},n}function rw(t){M.call(this,{},t),this._mlen=0,this._mods=[]}rw.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:pK.concat(Hd)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};X(rw,M,{transform(t,e){this.stamp=e.stamp;const r=t.modified(),n=Fc(t.sort),o=H0(t.groupby),i=c=>this.group(o(c));let a=this.state;(!a||r)&&(a=this.state=new KM(t)),r||e.modified(a.inputs)?(this.value={},e.visit(e.SOURCE,c=>i(c).add(c))):(e.visit(e.REM,c=>i(c).remove(c)),e.visit(e.ADD,c=>i(c).add(c)));for(let c=0,u=this._mlen;c<u;++c)bK(this._mods[c],a,n,t);return this._mlen=0,this._mods=[],e.reflow(r).modifies(a.outputs)},group(t){let e=this.value[t];return e||(e=this.value[t]=AM(ut),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}});function bK(t,e,r,n){const o=n.sort,i=o&&!n.ignorePeers,a=n.frame||[null,0],c=t.data(r),u=c.length,s=i?Bd(o):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:c,compare:o||tr(-1)};e.init();for(let d=0;d<u;++d)mK(l,a,d,u),i&&vK(l,s),e.update(l,c[d])}function mK(t,e,r,n){t.p0=t.i0,t.p1=t.i1,t.i0=e[0]==null?0:Math.max(0,r-Math.abs(e[0])),t.i1=e[1]==null?n:Math.min(n,r+Math.abs(e[1])+1),t.index=r}function vK(t,e){const r=t.i0,n=t.i1-1,o=t.compare,i=t.data,a=i.length-1;r>0&&!o(i[r],i[r-1])&&(t.i0=e.left(i,i[r])),n<a&&!o(i[n],i[n+1])&&(t.i1=e.right(i,i[n]))}var yK=Object.freeze({__proto__:null,aggregate:Qi,bin:jx,collect:Tx,compare:PM,countpattern:Mx,cross:Fx,density:zx,dotbin:Lx,expression:MM,extent:Ix,facet:ib,field:FM,filter:Ux,flatten:qx,fold:Wx,formula:Hx,generate:zM,impute:Gx,joinaggregate:Yx,kde:Vx,key:RM,load:LM,lookup:Xx,multiextent:IM,multivalues:BM,params:UM,pivot:Kx,prefacet:qM,project:Qx,proxy:WM,quantile:Jx,relay:HM,sample:Zx,sequence:tw,sieve:GM,subflow:Bx,timeunit:ew,tupleindex:VM,values:XM,window:rw});function Rt(t){return function(){return t}}const lC=Math.abs,Re=Math.atan2,Pa=Math.cos,xK=Math.max,cv=Math.min,Xn=Math.sin,Qa=Math.sqrt,Ie=1e-12,Bu=Math.PI,hp=Bu/2,JM=2*Bu;function wK(t){return t>1?0:t<-1?Bu:Math.acos(t)}function dC(t){return t>=1?hp:t<=-1?-hp:Math.asin(t)}const G0=Math.PI,Y0=2*G0,qa=1e-6,kK=Y0-qa;function ZM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function _K(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZM;const r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}let nw=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZM:_K(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,c=this._y1,u=n-e,s=o-r,l=a-e,d=c-r,f=l*l+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>qa)if(!(Math.abs(d*u-s*l)>qa)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-a,p=o-c,g=u*u+s*s,b=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(f),y=i*Math.tan((G0-Math.acos((g+f-b)/(2*m*v)))/2),x=y/v,k=y/m;Math.abs(x-1)>qa&&this._append`L${e+x*l},${r+x*d}`,this._append`A${i},${i},0,0,${+(d*h>l*p)},${this._x1=e+k*u},${this._y1=r+k*s}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(o),u=n*Math.sin(o),s=e+c,l=r+u,d=1^a,f=a?o-i:i-o;this._x1===null?this._append`M${s},${l}`:(Math.abs(this._x1-s)>qa||Math.abs(this._y1-l)>qa)&&this._append`L${s},${l}`,n&&(f<0&&(f=f%Y0+Y0),f>kK?this._append`A${n},${n},0,1,${d},${e-c},${r-u}A${n},${n},0,1,${d},${this._x1=s},${this._y1=l}`:f>qa&&this._append`A${n},${n},0,${+(f>=G0)},${d},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function ab(){return new nw}ab.prototype=nw.prototype;function cb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new nw(e)}function OK(t){return t.innerRadius}function EK(t){return t.outerRadius}function SK(t){return t.startAngle}function $K(t){return t.endAngle}function CK(t){return t&&t.padAngle}function AK(t,e,r,n,o,i,a,c){var u=r-t,s=n-e,l=a-o,d=c-i,f=d*u-l*s;if(!(f*f<Ie))return f=(l*(e-i)-d*(t-o))/f,[t+f*u,e+f*s]}function Bf(t,e,r,n,o,i,a){var c=t-r,u=e-n,s=(a?i:-i)/Qa(c*c+u*u),l=s*u,d=-s*c,f=t+l,h=e+d,p=r+l,g=n+d,b=(f+p)/2,m=(h+g)/2,v=p-f,y=g-h,x=v*v+y*y,k=o-i,_=f*g-p*h,w=(y<0?-1:1)*Qa(xK(0,k*k*x-_*_)),O=(_*y-v*w)/x,C=(-_*v-y*w)/x,S=(_*y+v*w)/x,A=(-_*v+y*w)/x,T=O-b,$=C-m,P=S-b,E=A-m;return T*T+$*$>P*P+E*E&&(O=S,C=A),{cx:O,cy:C,x01:-l,y01:-d,x11:O*(o/k-1),y11:C*(o/k-1)}}function PK(){var t=OK,e=EK,r=Rt(0),n=null,o=SK,i=$K,a=CK,c=null,u=cb(s);function s(){var l,d,f=+t.apply(this,arguments),h=+e.apply(this,arguments),p=o.apply(this,arguments)-hp,g=i.apply(this,arguments)-hp,b=lC(g-p),m=g>p;if(c||(c=l=u()),h<f&&(d=h,h=f,f=d),!(h>Ie))c.moveTo(0,0);else if(b>JM-Ie)c.moveTo(h*Pa(p),h*Xn(p)),c.arc(0,0,h,p,g,!m),f>Ie&&(c.moveTo(f*Pa(g),f*Xn(g)),c.arc(0,0,f,g,p,m));else{var v=p,y=g,x=p,k=g,_=b,w=b,O=a.apply(this,arguments)/2,C=O>Ie&&(n?+n.apply(this,arguments):Qa(f*f+h*h)),S=cv(lC(h-f)/2,+r.apply(this,arguments)),A=S,T=S,$,P;if(C>Ie){var E=dC(C/f*Xn(O)),N=dC(C/h*Xn(O));(_-=E*2)>Ie?(E*=m?1:-1,x+=E,k-=E):(_=0,x=k=(p+g)/2),(w-=N*2)>Ie?(N*=m?1:-1,v+=N,y-=N):(w=0,v=y=(p+g)/2)}var D=h*Pa(v),F=h*Xn(v),I=f*Pa(k),rt=f*Xn(k);if(S>Ie){var it=h*Pa(y),gt=h*Xn(y),Pt=f*Pa(x),_t=f*Xn(x),Gt;if(b<Bu)if(Gt=AK(D,F,Pt,_t,it,gt,I,rt)){var Fo=D-Gt[0],Qc=F-Gt[1],$a=it-Gt[0],et=gt-Gt[1],vt=1/Xn(wK((Fo*$a+Qc*et)/(Qa(Fo*Fo+Qc*Qc)*Qa($a*$a+et*et)))/2),xt=Qa(Gt[0]*Gt[0]+Gt[1]*Gt[1]);A=cv(S,(f-xt)/(vt-1)),T=cv(S,(h-xt)/(vt+1))}else A=T=0}w>Ie?T>Ie?($=Bf(Pt,_t,D,F,h,T,m),P=Bf(it,gt,I,rt,h,T,m),c.moveTo($.cx+$.x01,$.cy+$.y01),T<S?c.arc($.cx,$.cy,T,Re($.y01,$.x01),Re(P.y01,P.x01),!m):(c.arc($.cx,$.cy,T,Re($.y01,$.x01),Re($.y11,$.x11),!m),c.arc(0,0,h,Re($.cy+$.y11,$.cx+$.x11),Re(P.cy+P.y11,P.cx+P.x11),!m),c.arc(P.cx,P.cy,T,Re(P.y11,P.x11),Re(P.y01,P.x01),!m))):(c.moveTo(D,F),c.arc(0,0,h,v,y,!m)):c.moveTo(D,F),!(f>Ie)||!(_>Ie)?c.lineTo(I,rt):A>Ie?($=Bf(I,rt,it,gt,f,-A,m),P=Bf(D,F,Pt,_t,f,-A,m),c.lineTo($.cx+$.x01,$.cy+$.y01),A<S?c.arc($.cx,$.cy,A,Re($.y01,$.x01),Re(P.y01,P.x01),!m):(c.arc($.cx,$.cy,A,Re($.y01,$.x01),Re($.y11,$.x11),!m),c.arc(0,0,f,Re($.cy+$.y11,$.cx+$.x11),Re(P.cy+P.y11,P.cx+P.x11),m),c.arc(P.cx,P.cy,A,Re(P.y11,P.x11),Re(P.y01,P.x01),!m))):c.arc(0,0,f,k,x,m)}if(c.closePath(),l)return c=null,l+""||null}return s.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Bu/2;return[Pa(d)*l,Xn(d)*l]},s.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Rt(+l),s):t},s.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Rt(+l),s):e},s.cornerRadius=function(l){return arguments.length?(r=typeof l=="function"?l:Rt(+l),s):r},s.padRadius=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:Rt(+l),s):n},s.startAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Rt(+l),s):o},s.endAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Rt(+l),s):i},s.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Rt(+l),s):a},s.context=function(l){return arguments.length?(c=l??null,s):c},s}function tF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eF(t){this._context=t}eF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ow(t){return new eF(t)}function rF(t){return t[0]}function nF(t){return t[1]}function oF(t,e){var r=Rt(!0),n=null,o=ow,i=null,a=cb(c);t=typeof t=="function"?t:t===void 0?rF:Rt(t),e=typeof e=="function"?e:e===void 0?nF:Rt(e);function c(u){var s,l=(u=tF(u)).length,d,f=!1,h;for(n==null&&(i=o(h=a())),s=0;s<=l;++s)!(s<l&&r(d=u[s],s,u))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(d,s,u),+e(d,s,u));if(h)return i=null,h+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Rt(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Rt(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Rt(!!u),c):r},c.curve=function(u){return arguments.length?(o=u,n!=null&&(i=o(n)),c):o},c.context=function(u){return arguments.length?(u==null?n=i=null:i=o(n=u),c):n},c}function iF(t,e,r){var n=null,o=Rt(!0),i=null,a=ow,c=null,u=cb(s);t=typeof t=="function"?t:t===void 0?rF:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?nF:Rt(+r);function s(d){var f,h,p,g=(d=tF(d)).length,b,m=!1,v,y=new Array(g),x=new Array(g);for(i==null&&(c=a(v=u())),f=0;f<=g;++f){if(!(f<g&&o(b=d[f],f,d))===m)if(m=!m)h=f,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=f-1;p>=h;--p)c.point(y[p],x[p]);c.lineEnd(),c.areaEnd()}m&&(y[f]=+t(b,f,d),x[f]=+e(b,f,d),c.point(n?+n(b,f,d):y[f],r?+r(b,f,d):x[f]))}if(v)return c=null,v+""||null}function l(){return oF().defined(o).curve(a).context(i)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),n=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),s):t},s.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Rt(+d),s):n},s.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),r=null,s):e},s.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),s):e},s.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Rt(+d),s):r},s.lineX0=s.lineY0=function(){return l().x(t).y(e)},s.lineY1=function(){return l().x(t).y(r)},s.lineX1=function(){return l().x(n).y(e)},s.defined=function(d){return arguments.length?(o=typeof d=="function"?d:Rt(!!d),s):o},s.curve=function(d){return arguments.length?(a=d,i!=null&&(c=a(i)),s):a},s.context=function(d){return arguments.length?(d==null?i=c=null:c=a(i=d),s):i},s}var NK={draw(t,e){const r=Qa(e/Bu);t.moveTo(r,0),t.arc(0,0,r,0,JM)}};function DK(t,e){let r=null,n=cb(o);t=typeof t=="function"?t:Rt(t||NK),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function o(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return o.type=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(i),o):t},o.size=function(i){return arguments.length?(e=typeof i=="function"?i:Rt(+i),o):e},o.context=function(i){return arguments.length?(r=i??null,o):r},o}function Ji(){}function pp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ub(t){this._context=t}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jK(t){return new ub(t)}function aF(t){this._context=t}aF.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TK(t){return new aF(t)}function cF(t){this._context=t}cF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MK(t){return new cF(t)}function uF(t,e){this._basis=new ub(t),this._beta=e}uF.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],o=e[0],i=t[r]-n,a=e[r]-o,c=-1,u;++c<=r;)u=c/r,this._basis.point(this._beta*t[c]+(1-this._beta)*(n+u*i),this._beta*e[c]+(1-this._beta)*(o+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var FK=function t(e){function r(n){return e===1?new ub(n):new uF(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function gp(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function iw(t,e){this._context=t,this._k=(1-e)/6}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gp(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gp(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zK=function t(e){function r(n){return new iw(n,e)}return r.tension=function(n){return t(+n)},r}(0);function aw(t,e){this._context=t,this._k=(1-e)/6}aw.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var RK=function t(e){function r(n){return new aw(n,e)}return r.tension=function(n){return t(+n)},r}(0);function cw(t,e){this._context=t,this._k=(1-e)/6}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var LK=function t(e){function r(n){return new cw(n,e)}return r.tension=function(n){return t(+n)},r}(0);function uw(t,e,r){var n=t._x1,o=t._y1,i=t._x2,a=t._y2;if(t._l01_a>Ie){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,o=(o*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ie){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*s+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-r*t._l12_2a)/l}t._context.bezierCurveTo(n,o,i,a,t._x2,t._y2)}function sF(t,e){this._context=t,this._alpha=e}sF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:uw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var IK=function t(e){function r(n){return e?new sF(n,e):new iw(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function lF(t,e){this._context=t,this._alpha=e}lF.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:uw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var BK=function t(e){function r(n){return e?new lF(n,e):new aw(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function dF(t,e){this._context=t,this._alpha=e}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var UK=function t(e){function r(n){return e?new dF(n,e):new cw(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function fF(t){this._context=t}fF.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qK(t){return new fF(t)}function fC(t){return t<0?-1:1}function hC(t,e,r){var n=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(n||o<0&&-0),a=(r-t._y1)/(o||n<0&&-0),c=(i*o+a*n)/(n+o);return(fC(i)+fC(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(c))||0}function pC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function uv(t,e,r){var n=t._x0,o=t._y0,i=t._x1,a=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,o+c*e,i-c,a-c*r,i,a)}function bp(t){this._context=t}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uv(this,this._t0,pC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uv(this,pC(this,r=hC(this,t,e)),r);break;default:uv(this,this._t0,r=hC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function hF(t){this._context=new pF(t)}(hF.prototype=Object.create(bp.prototype)).point=function(t,e){bp.prototype.point.call(this,e,t)};function pF(t){this._context=t}pF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,o,i){this._context.bezierCurveTo(e,t,n,r,i,o)}};function WK(t){return new bp(t)}function HK(t){return new hF(t)}function gF(t){this._context=t}gF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=gC(t),o=gC(e),i=0,a=1;a<r;++i,++a)this._context.bezierCurveTo(n[0][i],o[0][i],n[1][i],o[1][i],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gC(t){var e,r=t.length-1,n,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)o[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=o[e]/i[e-1],i[e]-=n,a[e]-=n*a[e-1];for(o[r-1]=a[r-1]/i[r-1],e=r-2;e>=0;--e)o[e]=(a[e]-o[e+1])/i[e];for(i[r-1]=(t[r]+o[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-o[e+1];return[o,i]}function GK(t){return new gF(t)}function sb(t,e){this._context=t,this._t=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function YK(t){return new sb(t,.5)}function VK(t){return new sb(t,0)}function XK(t){return new sb(t,1)}function Hi(t,e){if(typeof document<"u"&&document.createElement){const r=document.createElement("canvas");if(r&&r.getContext)return r.width=t,r.height=e,r}return null}const KK=()=>typeof Image<"u"?Image:null;function Eo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const V0=Symbol("implicit");function sw(){var t=new D$,e=[],r=[],n=V0;function o(i){let a=t.get(i);if(a===void 0){if(n!==V0)return n;t.set(i,a=e.push(i)-1)}return r[a%r.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new D$;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return sw(e,r).unknown(n)},Eo.apply(o,arguments),o}function Ss(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Gd(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function pa(){}var hc=.7,Uu=1/hc,Eu="\\s*([+-]?\\d+)\\s*",ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QK=/^#([0-9a-f]{3,8})$/,JK=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),ZK=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),tQ=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${ld}\\)$`),eQ=new RegExp(`^rgba\\(${uo},${uo},${uo},${ld}\\)$`),rQ=new RegExp(`^hsl\\(${ld},${uo},${uo}\\)$`),nQ=new RegExp(`^hsla\\(${ld},${uo},${uo},${ld}\\)$`),bC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ss(pa,dd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mC,formatHex:mC,formatHex8:oQ,formatHsl:iQ,formatRgb:vC,toString:vC});function mC(){return this.rgb().formatHex()}function oQ(){return this.rgb().formatHex8()}function iQ(){return bF(this).formatHsl()}function vC(){return this.rgb().formatRgb()}function dd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=QK.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yC(e):r===3?new ye(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Uf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Uf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JK.exec(t))?new ye(e[1],e[2],e[3],1):(e=ZK.exec(t))?new ye(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tQ.exec(t))?Uf(e[1],e[2],e[3],e[4]):(e=eQ.exec(t))?Uf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rQ.exec(t))?kC(e[1],e[2]/100,e[3]/100,1):(e=nQ.exec(t))?kC(e[1],e[2]/100,e[3]/100,e[4]):bC.hasOwnProperty(t)?yC(bC[t]):t==="transparent"?new ye(NaN,NaN,NaN,0):null}function yC(t){return new ye(t>>16&255,t>>8&255,t&255,1)}function Uf(t,e,r,n){return n<=0&&(t=e=r=NaN),new ye(t,e,r,n)}function lw(t){return t instanceof pa||(t=dd(t)),t?(t=t.rgb(),new ye(t.r,t.g,t.b,t.opacity)):new ye}function Zi(t,e,r,n){return arguments.length===1?lw(t):new ye(t,e,r,n??1)}function ye(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ss(ye,Zi,Gd(pa,{brighter(t){return t=t==null?Uu:Math.pow(Uu,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hc:Math.pow(hc,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ye(oc(this.r),oc(this.g),oc(this.b),mp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xC,formatHex:xC,formatHex8:aQ,formatRgb:wC,toString:wC}));function xC(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}`}function aQ(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}${Ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function wC(){const t=mp(this.opacity);return`${t===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${t===1?")":`, ${t})`}`}function mp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ja(t){return t=oc(t),(t<16?"0":"")+t.toString(16)}function kC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new _n(t,e,r,n)}function bF(t){if(t instanceof _n)return new _n(t.h,t.s,t.l,t.opacity);if(t instanceof pa||(t=dd(t)),!t)return new _n;if(t instanceof _n)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,c=i-o,u=(i+o)/2;return c?(e===i?a=(r-n)/c+(r<n)*6:r===i?a=(n-e)/c+2:a=(e-r)/c+4,c/=u<.5?i+o:2-i-o,a*=60):c=u>0&&u<1?0:a,new _n(a,c,u,t.opacity)}function vp(t,e,r,n){return arguments.length===1?bF(t):new _n(t,e,r,n??1)}function _n(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ss(_n,vp,Gd(pa,{brighter(t){return t=t==null?Uu:Math.pow(Uu,t),new _n(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hc:Math.pow(hc,t),new _n(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new ye(sv(t>=240?t-240:t+120,o,n),sv(t,o,n),sv(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new _n(_C(this.h),qf(this.s),qf(this.l),mp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mp(this.opacity);return`${t===1?"hsl(":"hsla("}${_C(this.h)}, ${qf(this.s)*100}%, ${qf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _C(t){return t=(t||0)%360,t<0?t+360:t}function qf(t){return Math.max(0,Math.min(1,t||0))}function sv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const mF=Math.PI/180,vF=180/Math.PI,yp=18,yF=.96422,xF=1,wF=.82521,kF=4/29,Su=6/29,_F=3*Su*Su,cQ=Su*Su*Su;function OF(t){if(t instanceof so)return new so(t.l,t.a,t.b,t.opacity);if(t instanceof Ko)return EF(t);t instanceof ye||(t=lw(t));var e=hv(t.r),r=hv(t.g),n=hv(t.b),o=lv((.2225045*e+.7168786*r+.0606169*n)/xF),i,a;return e===r&&r===n?i=a=o:(i=lv((.4360747*e+.3850649*r+.1430804*n)/yF),a=lv((.0139322*e+.0971045*r+.7141733*n)/wF)),new so(116*o-16,500*(i-o),200*(o-a),t.opacity)}function xp(t,e,r,n){return arguments.length===1?OF(t):new so(t,e,r,n??1)}function so(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}Ss(so,xp,Gd(pa,{brighter(t){return new so(this.l+yp*(t??1),this.a,this.b,this.opacity)},darker(t){return new so(this.l-yp*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=yF*dv(e),t=xF*dv(t),r=wF*dv(r),new ye(fv(3.1338561*e-1.6168667*t-.4906146*r),fv(-.9787684*e+1.9161415*t+.033454*r),fv(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function lv(t){return t>cQ?Math.pow(t,1/3):t/_F+kF}function dv(t){return t>Su?t*t*t:_F*(t-kF)}function fv(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function hv(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function uQ(t){if(t instanceof Ko)return new Ko(t.h,t.c,t.l,t.opacity);if(t instanceof so||(t=OF(t)),t.a===0&&t.b===0)return new Ko(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*vF;return new Ko(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wp(t,e,r,n){return arguments.length===1?uQ(t):new Ko(t,e,r,n??1)}function Ko(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function EF(t){if(isNaN(t.h))return new so(t.l,0,0,t.opacity);var e=t.h*mF;return new so(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ss(Ko,wp,Gd(pa,{brighter(t){return new Ko(this.h,this.c,this.l+yp*(t??1),this.opacity)},darker(t){return new Ko(this.h,this.c,this.l-yp*(t??1),this.opacity)},rgb(){return EF(this).rgb()}}));var SF=-.14861,dw=1.78277,fw=-.29227,lb=-.90649,fd=1.97294,OC=fd*lb,EC=fd*dw,SC=dw*fw-lb*SF;function sQ(t){if(t instanceof ic)return new ic(t.h,t.s,t.l,t.opacity);t instanceof ye||(t=lw(t));var e=t.r/255,r=t.g/255,n=t.b/255,o=(SC*n+OC*e-EC*r)/(SC+OC-EC),i=n-o,a=(fd*(r-o)-fw*i)/lb,c=Math.sqrt(a*a+i*i)/(fd*o*(1-o)),u=c?Math.atan2(a,i)*vF-120:NaN;return new ic(u<0?u+360:u,c,o,t.opacity)}function X0(t,e,r,n){return arguments.length===1?sQ(t):new ic(t,e,r,n??1)}function ic(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ss(ic,X0,Gd(pa,{brighter(t){return t=t==null?Uu:Math.pow(Uu,t),new ic(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hc:Math.pow(hc,t),new ic(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*mF,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),o=Math.sin(t);return new ye(255*(e+r*(SF*n+dw*o)),255*(e+r*(fw*n+lb*o)),255*(e+r*(fd*n)),this.opacity)}}));function $F(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function CF(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,c=n<e-1?t[n+2]:2*i-o;return $F((r-n/e)*e,a,o,i,c)}}function AF(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],c=t[(n+2)%e];return $F((r-n/e)*e,o,i,a,c)}}var db=t=>()=>t;function PF(t,e){return function(r){return t+r*e}}function lQ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fb(t,e){var r=e-t;return r?PF(t,r>180||r<-180?r-360*Math.round(r/360):r):db(isNaN(t)?e:t)}function dQ(t){return(t=+t)==1?xe:function(e,r){return r-e?lQ(e,r,t):db(isNaN(e)?r:e)}}function xe(t,e){var r=e-t;return r?PF(t,r):db(isNaN(t)?e:t)}var K0=function t(e){var r=dQ(e);function n(o,i){var a=r((o=Zi(o)).r,(i=Zi(i)).r),c=r(o.g,i.g),u=r(o.b,i.b),s=xe(o.opacity,i.opacity);return function(l){return o.r=a(l),o.g=c(l),o.b=u(l),o.opacity=s(l),o+""}}return n.gamma=t,n}(1);function NF(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,c;for(a=0;a<r;++a)c=Zi(e[a]),n[a]=c.r||0,o[a]=c.g||0,i[a]=c.b||0;return n=t(n),o=t(o),i=t(i),c.opacity=1,function(u){return c.r=n(u),c.g=o(u),c.b=i(u),c+""}}}var fQ=NF(CF),hQ=NF(AF);function hw(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=t[o]*(1-i)+e[o]*i;return n}}function DF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pQ(t,e){return(DF(e)?hw:jF)(t,e)}function jF(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,o=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)o[a]=ga(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(c){for(a=0;a<n;++a)i[a]=o[a](c);return i}}function TF(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function wn(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function MF(t,e){var r={},n={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=ga(t[o],e[o]):n[o]=e[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var Q0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pv=new RegExp(Q0.source,"g");function gQ(t){return function(){return t}}function bQ(t){return function(e){return t(e)+""}}function FF(t,e){var r=Q0.lastIndex=pv.lastIndex=0,n,o,i,a=-1,c=[],u=[];for(t=t+"",e=e+"";(n=Q0.exec(t))&&(o=pv.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),c[a]?c[a]+=i:c[++a]=i),(n=n[0])===(o=o[0])?c[a]?c[a]+=o:c[++a]=o:(c[++a]=null,u.push({i:a,x:wn(n,o)})),r=pv.lastIndex;return r<e.length&&(i=e.slice(r),c[a]?c[a]+=i:c[++a]=i),c.length<2?u[0]?bQ(u[0].x):gQ(e):(e=u.length,function(s){for(var l=0,d;l<e;++l)c[(d=u[l]).i]=d.x(s);return c.join("")})}function ga(t,e){var r=typeof e,n;return e==null||r==="boolean"?db(e):(r==="number"?wn:r==="string"?(n=dd(e))?(e=n,K0):FF:e instanceof dd?K0:e instanceof Date?TF:DF(e)?hw:Array.isArray(e)?jF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MF:wn)(t,e)}function mQ(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}function vQ(t,e){var r=fb(+t,+e);return function(n){var o=r(n);return o-360*Math.floor(o/360)}}function Yd(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var $C=180/Math.PI,J0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zF(t,e,r,n,o,i){var a,c,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(c=Math.sqrt(r*r+n*n))&&(r/=c,n/=c,u/=c),t*n<e*r&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*$C,skewX:Math.atan(u)*$C,scaleX:a,scaleY:c}}var Wf;function yQ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?J0:zF(e.a,e.b,e.c,e.d,e.e,e.f)}function xQ(t){return t==null||(Wf||(Wf=document.createElementNS("http://www.w3.org/2000/svg","g")),Wf.setAttribute("transform",t),!(t=Wf.transform.baseVal.consolidate()))?J0:(t=t.matrix,zF(t.a,t.b,t.c,t.d,t.e,t.f))}function RF(t,e,r,n){function o(s){return s.length?s.pop()+" ":""}function i(s,l,d,f,h,p){if(s!==d||l!==f){var g=h.push("translate(",null,e,null,r);p.push({i:g-4,x:wn(s,d)},{i:g-2,x:wn(l,f)})}else(d||f)&&h.push("translate("+d+e+f+r)}function a(s,l,d,f){s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),f.push({i:d.push(o(d)+"rotate(",null,n)-2,x:wn(s,l)})):l&&d.push(o(d)+"rotate("+l+n)}function c(s,l,d,f){s!==l?f.push({i:d.push(o(d)+"skewX(",null,n)-2,x:wn(s,l)}):l&&d.push(o(d)+"skewX("+l+n)}function u(s,l,d,f,h,p){if(s!==d||l!==f){var g=h.push(o(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wn(s,d)},{i:g-2,x:wn(l,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(s,l){var d=[],f=[];return s=t(s),l=t(l),i(s.translateX,s.translateY,l.translateX,l.translateY,d,f),a(s.rotate,l.rotate,d,f),c(s.skewX,l.skewX,d,f),u(s.scaleX,s.scaleY,l.scaleX,l.scaleY,d,f),s=l=null,function(h){for(var p=-1,g=f.length,b;++p<g;)d[(b=f[p]).i]=b.x(h);return d.join("")}}}var wQ=RF(yQ,"px, ","px)","deg)"),kQ=RF(xQ,", ",")",")"),_Q=1e-12;function CC(t){return((t=Math.exp(t))+1/t)/2}function OQ(t){return((t=Math.exp(t))-1/t)/2}function EQ(t){return((t=Math.exp(2*t))-1)/(t+1)}var SQ=function t(e,r,n){function o(i,a){var c=i[0],u=i[1],s=i[2],l=a[0],d=a[1],f=a[2],h=l-c,p=d-u,g=h*h+p*p,b,m;if(g<_Q)m=Math.log(f/s)/e,b=function(w){return[c+w*h,u+w*p,s*Math.exp(e*w*m)]};else{var v=Math.sqrt(g),y=(f*f-s*s+n*g)/(2*s*r*v),x=(f*f-s*s-n*g)/(2*f*r*v),k=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(x*x+1)-x);m=(_-k)/e,b=function(w){var O=w*m,C=CC(k),S=s/(r*v)*(C*EQ(e*O+k)-OQ(k));return[c+S*h,u+S*p,s*C/CC(e*O+k)]}}return b.duration=m*1e3*e/Math.SQRT2,b}return o.rho=function(i){var a=Math.max(.001,+i),c=a*a,u=c*c;return t(a,c,u)},o}(Math.SQRT2,2,4);function LF(t){return function(e,r){var n=t((e=vp(e)).h,(r=vp(r)).h),o=xe(e.s,r.s),i=xe(e.l,r.l),a=xe(e.opacity,r.opacity);return function(c){return e.h=n(c),e.s=o(c),e.l=i(c),e.opacity=a(c),e+""}}}var $Q=LF(fb),CQ=LF(xe);function AQ(t,e){var r=xe((t=xp(t)).l,(e=xp(e)).l),n=xe(t.a,e.a),o=xe(t.b,e.b),i=xe(t.opacity,e.opacity);return function(a){return t.l=r(a),t.a=n(a),t.b=o(a),t.opacity=i(a),t+""}}function IF(t){return function(e,r){var n=t((e=wp(e)).h,(r=wp(r)).h),o=xe(e.c,r.c),i=xe(e.l,r.l),a=xe(e.opacity,r.opacity);return function(c){return e.h=n(c),e.c=o(c),e.l=i(c),e.opacity=a(c),e+""}}}var PQ=IF(fb),NQ=IF(xe);function BF(t){return function e(r){r=+r;function n(o,i){var a=t((o=X0(o)).h,(i=X0(i)).h),c=xe(o.s,i.s),u=xe(o.l,i.l),s=xe(o.opacity,i.opacity);return function(l){return o.h=a(l),o.s=c(l),o.l=u(Math.pow(l,r)),o.opacity=s(l),o+""}}return n.gamma=e,n}(1)}var DQ=BF(fb),jQ=BF(xe);function pw(t,e){e===void 0&&(e=t,t=ga);for(var r=0,n=e.length-1,o=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(o,o=e[++r]);return function(a){var c=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[c](a-c)}}function TQ(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t(n/(e-1));return r}var MQ=Object.freeze({__proto__:null,interpolate:ga,interpolateArray:pQ,interpolateBasis:CF,interpolateBasisClosed:AF,interpolateCubehelix:DQ,interpolateCubehelixLong:jQ,interpolateDate:TF,interpolateDiscrete:mQ,interpolateHcl:PQ,interpolateHclLong:NQ,interpolateHsl:$Q,interpolateHslLong:CQ,interpolateHue:vQ,interpolateLab:AQ,interpolateNumber:wn,interpolateNumberArray:hw,interpolateObject:MF,interpolateRgb:K0,interpolateRgbBasis:fQ,interpolateRgbBasisClosed:hQ,interpolateRound:Yd,interpolateString:FF,interpolateTransformCss:wQ,interpolateTransformSvg:kQ,interpolateZoom:SQ,piecewise:pw,quantize:TQ});function FQ(t){return function(){return t}}function Z0(t){return+t}var AC=[0,1];function Or(t){return t}function ty(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:FQ(isNaN(e)?NaN:.5)}function zQ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function RQ(t,e,r){var n=t[0],o=t[1],i=e[0],a=e[1];return o<n?(n=ty(o,n),i=r(a,i)):(n=ty(n,o),i=r(i,a)),function(c){return i(n(c))}}function LQ(t,e,r){var n=Math.min(t.length,e.length)-1,o=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)o[a]=ty(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(c){var u=Ud(t,c,1,n)-1;return i[u](o[u](c))}}function Vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hb(){var t=AC,e=AC,r=ga,n,o,i,a=Or,c,u,s;function l(){var f=Math.min(t.length,e.length);return a!==Or&&(a=zQ(t[0],t[f-1])),c=f>2?LQ:RQ,u=s=null,d}function d(f){return f==null||isNaN(f=+f)?i:(u||(u=c(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(o((s||(s=c(e,t.map(n),wn)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Z0),l()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=Yd,l()},d.clamp=function(f){return arguments.length?(a=f?!0:Or,l()):a!==Or},d.interpolate=function(f){return arguments.length?(r=f,l()):r},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,h){return n=f,o=h,l()}}function UF(){return hb()(Or,Or)}function qF(t,e,r,n){var o=Ki(t,e,r),i;switch(n=fc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=gT(o,a))&&(n.precision=i),ex(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bT(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pT(o))&&(n.precision=i-(n.type==="%")*2);break}}return Ug(n)}function Rc(t){var e=t.domain;return t.ticks=function(r){var n=e();return D0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var o=e();return qF(o[0],o[o.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),o=0,i=n.length-1,a=n[o],c=n[i],u,s,l=10;for(c<a&&(s=a,a=c,c=s,s=o,o=i,i=s);l-- >0;){if(s=j0(a,c,r),s===u)return n[o]=a,n[i]=c,e(n);if(s>0)a=Math.floor(a/s)*s,c=Math.ceil(c/s)*s;else if(s<0)a=Math.ceil(a*s)/s,c=Math.floor(c*s)/s;else break;u=s}return t},t}function WF(){var t=UF();return t.copy=function(){return Vd(t,WF())},Eo.apply(t,arguments),Rc(t)}function HF(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Z0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return HF(t).unknown(e)},t=arguments.length?Array.from(t,Z0):[0,1],Rc(r)}function GF(t,e){t=t.slice();var r=0,n=t.length-1,o=t[r],i=t[n],a;return i<o&&(a=r,r=n,n=a,a=o,o=i,i=a),t[r]=e.floor(o),t[n]=e.ceil(i),t}function PC(t){return Math.log(t)}function NC(t){return Math.exp(t)}function IQ(t){return-Math.log(-t)}function BQ(t){return-Math.exp(-t)}function UQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qQ(t){return t===10?UQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DC(t){return(e,r)=>-t(-e,r)}function gw(t){const e=t(PC,NC),r=e.domain;let n=10,o,i;function a(){return o=WQ(n),i=qQ(n),r()[0]<0?(o=DC(o),i=DC(i),t(IQ,BQ)):t(PC,NC),e}return e.base=function(c){return arguments.length?(n=+c,a()):n},e.domain=function(c){return arguments.length?(r(c),a()):r()},e.ticks=c=>{const u=r();let s=u[0],l=u[u.length-1];const d=l<s;d&&([s,l]=[l,s]);let f=o(s),h=o(l),p,g;const b=c==null?10:+c;let m=[];if(!(n%1)&&h-f<b){if(f=Math.floor(f),h=Math.ceil(h),s>0){for(;f<=h;++f)for(p=1;p<n;++p)if(g=f<0?p/i(-f):p*i(f),!(g<s)){if(g>l)break;m.push(g)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(g=f>0?p/i(-f):p*i(f),!(g<s)){if(g>l)break;m.push(g)}m.length*2<b&&(m=D0(s,l,b))}else m=D0(f,h,Math.min(h-f,b)).map(i);return d?m.reverse():m},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=fc(u)).precision==null&&(u.trim=!0),u=Ug(u)),c===1/0)return u;const s=Math.max(1,n*c/e.ticks().length);return l=>{let d=l/i(Math.round(o(l)));return d*n<n-.5&&(d*=n),d<=s?u(l):""}},e.nice=()=>r(GF(r(),{floor:c=>i(Math.floor(o(c))),ceil:c=>i(Math.ceil(o(c)))})),e}function YF(){const t=gw(hb()).domain([1,10]);return t.copy=()=>Vd(t,YF()).base(t.base()),Eo.apply(t,arguments),t}function jC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bw(t){var e=1,r=t(jC(e),TC(e));return r.constant=function(n){return arguments.length?t(jC(e=+n),TC(e)):e},Rc(r)}function VF(){var t=bw(hb());return t.copy=function(){return Vd(t,VF()).constant(t.constant())},Eo.apply(t,arguments)}function MC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GQ(t){return t<0?-t*t:t*t}function mw(t){var e=t(Or,Or),r=1;function n(){return r===1?t(Or,Or):r===.5?t(HQ,GQ):t(MC(r),MC(1/r))}return e.exponent=function(o){return arguments.length?(r=+o,n()):r},Rc(e)}function vw(){var t=mw(hb());return t.copy=function(){return Vd(t,vw()).exponent(t.exponent())},Eo.apply(t,arguments),t}function YQ(){return vw.apply(null,arguments).exponent(.5)}function XF(){var t=[],e=[],r=[],n;function o(){var a=0,c=Math.max(1,e.length);for(r=new Array(c-1);++a<c;)r[a-1]=uT(t,a/c);return i}function i(a){return a==null||isNaN(a=+a)?n:e[Ud(r,a)]}return i.invertExtent=function(a){var c=e.indexOf(a);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Zo),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return XF().domain(t).range(e).unknown(n)},Eo.apply(i,arguments)}function KF(){var t=0,e=1,r=1,n=[.5],o=[0,1],i;function a(u){return u!=null&&u<=u?o[Ud(n,u,0,r)]:i}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},a.range=function(u){return arguments.length?(r=(o=Array.from(u)).length-1,c()):o.slice()},a.invertExtent=function(u){var s=o.indexOf(u);return s<0?[NaN,NaN]:s<1?[t,n[0]]:s>=r?[n[r-1],e]:[n[s-1],n[s]]},a.unknown=function(u){return arguments.length&&(i=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return KF().domain([t,e]).range(o).unknown(i)},Eo.apply(Rc(a),arguments)}function QF(){var t=[.5],e=[0,1],r,n=1;function o(i){return i!=null&&i<=i?e[Ud(t,i,0,n)]:r}return o.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return QF().domain(t).range(e).unknown(r)},Eo.apply(o,arguments)}function VQ(t){return new Date(t)}function XQ(t){return t instanceof Date?+t:+new Date(+t)}function yw(t,e,r,n,o,i,a,c,u,s){var l=UF(),d=l.invert,f=l.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),b=s("%I %p"),m=s("%a %d"),v=s("%b %d"),y=s("%B"),x=s("%Y");function k(_){return(u(_)<_?h:c(_)<_?p:a(_)<_?g:i(_)<_?b:n(_)<_?o(_)<_?m:v:r(_)<_?y:x)(_)}return l.invert=function(_){return new Date(d(_))},l.domain=function(_){return arguments.length?f(Array.from(_,XQ)):f().map(VQ)},l.ticks=function(_){var w=f();return t(w[0],w[w.length-1],_??10)},l.tickFormat=function(_,w){return w==null?k:s(w)},l.nice=function(_){var w=f();return(!_||typeof _.range!="function")&&(_=e(w[0],w[w.length-1],_??10)),_?f(GF(w,_)):l},l.copy=function(){return Vd(l,yw(t,e,r,n,o,i,a,c,u,s))},l}function KQ(){return Eo.apply(yw(rY,nY,bo,id,ws,ti,Hg,qg,Xo,ax).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QQ(){return Eo.apply(yw(tY,eY,mo,ad,ks,qi,Gg,Wg,Xo,cx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pb(){var t=0,e=1,r,n,o,i,a=Or,c=!1,u;function s(d){return d==null||isNaN(d=+d)?u:a(o===0?.5:(d=(i(d)-r)*o,c?Math.max(0,Math.min(1,d)):d))}s.domain=function(d){return arguments.length?([t,e]=d,r=i(t=+t),n=i(e=+e),o=r===n?0:1/(n-r),s):[t,e]},s.clamp=function(d){return arguments.length?(c=!!d,s):c},s.interpolator=function(d){return arguments.length?(a=d,s):a};function l(d){return function(f){var h,p;return arguments.length?([h,p]=f,a=d(h,p),s):[a(0),a(1)]}}return s.range=l(ga),s.rangeRound=l(Yd),s.unknown=function(d){return arguments.length?(u=d,s):u},function(d){return i=d,r=d(t),n=d(e),o=r===n?0:1/(n-r),s}}function ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xw(){var t=Rc(pb()(Or));return t.copy=function(){return ba(t,xw())},ha.apply(t,arguments)}function JF(){var t=gw(pb()).domain([1,10]);return t.copy=function(){return ba(t,JF()).base(t.base())},ha.apply(t,arguments)}function ZF(){var t=bw(pb());return t.copy=function(){return ba(t,ZF()).constant(t.constant())},ha.apply(t,arguments)}function ww(){var t=mw(pb());return t.copy=function(){return ba(t,ww()).exponent(t.exponent())},ha.apply(t,arguments)}function JQ(){return ww.apply(null,arguments).exponent(.5)}function gb(){var t=0,e=.5,r=1,n=1,o,i,a,c,u,s=Or,l,d=!1,f;function h(g){return isNaN(g=+g)?f:(g=.5+((g=+l(g))-i)*(n*g<n*i?c:u),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,o=l(t=+t),i=l(e=+e),a=l(r=+r),c=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(b){var m,v,y;return arguments.length?([m,v,y]=b,s=pw(g,[m,v,y]),h):[s(0),s(.5),s(1)]}}return h.range=p(ga),h.rangeRound=p(Yd),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return l=g,o=g(t),i=g(e),a=g(r),c=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,h}}function t3(){var t=Rc(gb()(Or));return t.copy=function(){return ba(t,t3())},ha.apply(t,arguments)}function e3(){var t=gw(gb()).domain([.1,1,10]);return t.copy=function(){return ba(t,e3()).base(t.base())},ha.apply(t,arguments)}function r3(){var t=bw(gb());return t.copy=function(){return ba(t,r3()).constant(t.constant())},ha.apply(t,arguments)}function kw(){var t=mw(gb());return t.copy=function(){return ba(t,kw()).exponent(t.exponent())},ha.apply(t,arguments)}function ZQ(){return kw.apply(null,arguments).exponent(.5)}function _w(t,e,r){const n=t-e+r*2;return t?n>0?n:1:0}const tJ="identity",qu="linear",ci="log",Xd="pow",Kd="sqrt",bb="symlog",pc="time",gc="utc",lo="sequential",$s="diverging",Wu="quantile",mb="quantize",vb="threshold",Ow="ordinal",ey="point",n3="band",Ew="bin-ordinal",be="continuous",Qd="discrete",Jd="discretizing",fn="interpolating",Sw="temporal";function eJ(t){return function(e){let r=e[0],n=e[1],o;return n<r&&(o=r,r=n,n=o),[t.invert(r),t.invert(n)]}}function rJ(t){return function(e){const r=t.range();let n=e[0],o=e[1],i=-1,a,c,u,s;for(o<n&&(c=n,n=o,o=c),u=0,s=r.length;u<s;++u)r[u]>=n&&r[u]<=o&&(i<0&&(i=u),a=u);if(!(i<0))return n=t.invertExtent(r[i]),o=t.invertExtent(r[a]),[n[0]===void 0?n[1]:n[0],o[1]===void 0?o[0]:o[1]]}}function $w(){const t=sw().unknown(void 0),e=t.domain,r=t.range;let n=[0,1],o,i,a=!1,c=0,u=0,s=.5;delete t.unknown;function l(){const d=e().length,f=n[1]<n[0],h=n[1-f],p=_w(d,c,u);let g=n[f-0];o=(h-g)/(p||1),a&&(o=Math.floor(o)),g+=(h-g-o*(d-c))*s,i=o*(1-c),a&&(g=Math.round(g),i=Math.round(i));const b=Wr(d).map(m=>g+o*m);return r(f?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),l()):e()},t.range=function(d){return arguments.length?(n=[+d[0],+d[1]],l()):n.slice()},t.rangeRound=function(d){return n=[+d[0],+d[1]],a=!0,l()},t.bandwidth=function(){return i},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,l()):a},t.padding=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c=u,l()):c},t.paddingInner=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),l()):c},t.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l()):u},t.align=function(d){return arguments.length?(s=Math.max(0,Math.min(1,d)),l()):s},t.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=n[1]<n[0],h=f?r().reverse():r(),p=h.length-1;let g=+d[0],b=+d[1],m,v,y;if(!(g!==g||b!==b)&&(b<g&&(y=g,g=b,b=y),!(b<h[0]||g>n[1-f])))return m=Math.max(0,ip(h,g)-1),v=g===b?m:ip(h,b)-1,g-h[m]>i+1e-10&&++m,f&&(y=m,m=p-v,v=p-y),m>v?void 0:e().slice(m,v+1)},t.invert=function(d){const f=t.invertRange([d,d]);return f&&f[0]},t.copy=function(){return $w().domain(e()).range(n).round(a).paddingInner(c).paddingOuter(u).align(s)},l()}function o3(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return o3(e())},t}function nJ(){return o3($w().paddingInner(1))}var oJ=Array.prototype.map;function iJ(t){return oJ.call(t,He)}const aJ=Array.prototype.slice;function i3(){let t=[],e=[];function r(n){return n==null||n!==n?void 0:e[(Ud(t,n)-1)%e.length]}return r.domain=function(n){return arguments.length?(t=iJ(n),r):t.slice()},r.range=function(n){return arguments.length?(e=aJ.call(n),r):e.slice()},r.tickFormat=function(n,o){return qF(t[0],$t(t),n??10,o)},r.copy=function(){return i3().domain(r.domain()).range(r.range())},r}const kp=new Map,a3=Symbol("vega_scale");function c3(t){return t[a3]=!0,t}function cJ(t){return t&&t[a3]===!0}function uJ(t,e,r){const n=function(){const i=e();return i.invertRange||(i.invertRange=i.invert?eJ(i):i.invertExtent?rJ(i):void 0),i.type=t,c3(i)};return n.metadata=Fn(Z(r)),n}function jt(t,e,r){return arguments.length>1?(kp.set(t,uJ(t,e,r)),this):u3(t)?kp.get(t):void 0}jt(tJ,HF);jt(qu,WF,be);jt(ci,YF,[be,ci]);jt(Xd,vw,be);jt(Kd,YQ,be);jt(bb,VF,be);jt(pc,KQ,[be,Sw]);jt(gc,QQ,[be,Sw]);jt(lo,xw,[be,fn]);jt(`${lo}-${qu}`,xw,[be,fn]);jt(`${lo}-${ci}`,JF,[be,fn,ci]);jt(`${lo}-${Xd}`,ww,[be,fn]);jt(`${lo}-${Kd}`,JQ,[be,fn]);jt(`${lo}-${bb}`,ZF,[be,fn]);jt(`${$s}-${qu}`,t3,[be,fn]);jt(`${$s}-${ci}`,e3,[be,fn,ci]);jt(`${$s}-${Xd}`,kw,[be,fn]);jt(`${$s}-${Kd}`,ZQ,[be,fn]);jt(`${$s}-${bb}`,r3,[be,fn]);jt(Wu,XF,[Jd,Wu]);jt(mb,KF,Jd);jt(vb,QF,Jd);jt(Ew,i3,[Qd,Jd]);jt(Ow,sw,Qd);jt(n3,$w,Qd);jt(ey,nJ,Qd);function u3(t){return kp.has(t)}function Lc(t,e){const r=kp.get(t);return r&&r.metadata[e]}function Cw(t){return Lc(t,be)}function Hu(t){return Lc(t,Qd)}function ry(t){return Lc(t,Jd)}function s3(t){return Lc(t,ci)}function sJ(t){return Lc(t,Sw)}function l3(t){return Lc(t,fn)}function d3(t){return Lc(t,Wu)}const lJ=["clamp","base","constant","exponent"];function f3(t,e){const r=e[0],n=$t(e)-r;return function(o){return t(r+o*n)}}function yb(t,e,r){return pw(Aw(e||"rgb",r),t)}function h3(t,e){const r=new Array(e),n=e+1;for(let o=0;o<e;)r[o]=t(++o/n);return r}function p3(t,e,r){const n=r-e;let o,i,a;return!n||!Number.isFinite(n)?tr(.5):(o=(i=t.type).indexOf("-"),i=o<0?i:i.slice(o+1),a=jt(i)().domain([e,r]).range([0,1]),lJ.forEach(c=>t[c]?a[c](t[c]()):0),a)}function Aw(t,e){const r=MQ[dJ(t)];return e!=null&&r&&r.gamma?r.gamma(e):r}function dJ(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const fJ={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},hJ={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function g3(t){const e=t.length/6|0,r=new Array(e);for(let n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}function b3(t,e){for(const r in t)Pw(r,e(t[r]))}const FC={};b3(hJ,g3);b3(fJ,t=>yb(g3(t)));function Pw(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(FC[t]=e,this):FC[t]}const Sh="symbol",pJ="discrete",gJ="gradient",bJ=t=>L(t)?t.map(e=>String(e)):String(t),mJ=(t,e)=>t[1]-e[1],vJ=(t,e)=>e[1]-t[1];function Nw(t,e,r){let n;return Bt(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),r!=null&&(e=Math.min(e,Math.floor(Id(t.domain())/r||1)))),tt(e)&&(n=e.step,e=e.interval),J(e)&&(e=t.type===pc?_s(e):t.type==gc?Os(e):R("Only time and utc scales accept interval strings."),n&&(e=e.every(n))),e}function m3(t,e,r){let n=t.range(),o=n[0],i=$t(n),a=mJ;if(o>i&&(n=i,i=o,o=n,a=vJ),o=Math.floor(o),i=Math.ceil(i),e=e.map(c=>[c,t(c)]).filter(c=>o<=c[1]&&c[1]<=i).sort(a).map(c=>c[0]),r>0&&e.length>1){const c=[e[0],$t(e)];for(;e.length>r&&e.length>=3;)e=e.filter((u,s)=>!(s%2));e.length<3&&(e=c)}return e}function Dw(t,e){return t.bins?m3(t,t.bins):t.ticks?t.ticks(e):t.domain()}function v3(t,e,r,n,o,i){const a=e.type;let c=bJ;if(a===pc||o===pc)c=t.timeFormat(n);else if(a===gc||o===gc)c=t.utcFormat(n);else if(s3(a)){const u=t.formatFloat(n);if(i||e.bins)c=u;else{const s=y3(e,r,!1);c=l=>s(l)?u(l):""}}else if(e.tickFormat){const u=e.domain();c=t.formatSpan(u[0],u[u.length-1],r,n)}else n&&(c=t.format(n));return c}function y3(t,e,r){const n=Dw(t,e),o=t.base(),i=Math.log(o),a=Math.max(1,o*e/n.length),c=u=>{let s=u/Math.pow(o,Math.round(Math.log(u)/i));return s*o<o-.5&&(s*=o),s<=a};return r?n.filter(c):c}const ny={[Wu]:"quantiles",[mb]:"thresholds",[vb]:"domain"},x3={[Wu]:"quantiles",[mb]:"domain"};function w3(t,e){return t.bins?wJ(t.bins):t.type===ci?y3(t,e,!0):ny[t.type]?xJ(t[ny[t.type]]()):Dw(t,e)}function yJ(t,e,r){const n=e[x3[e.type]](),o=n.length;let i=o>1?n[1]-n[0]:n[0],a;for(a=1;a<o;++a)i=Math.min(i,n[a]-n[a-1]);return t.formatSpan(0,i,3*10,r)}function xJ(t){const e=[-1/0].concat(t);return e.max=1/0,e}function wJ(t){const e=t.slice(0,-1);return e.max=$t(t),e}const kJ=t=>ny[t.type]||t.bins;function k3(t,e,r,n,o,i,a){const c=x3[e.type]&&i!==pc&&i!==gc?yJ(t,e,o):v3(t,e,r,o,i,a);return n===Sh&&kJ(e)?_J(c):n===pJ?OJ(c):EJ(c)}const _J=t=>(e,r,n)=>{const o=zC(n[r+1],zC(n.max,1/0)),i=RC(e,t),a=RC(o,t);return i&&a?i+" – "+a:a?"< "+a:"≥ "+i},zC=(t,e)=>t??e,OJ=t=>(e,r)=>r?t(e):null,EJ=t=>e=>t(e),RC=(t,e)=>Number.isFinite(t)?e(t):null;function SJ(t){const e=t.domain(),r=e.length-1;let n=+e[0],o=+$t(e),i=o-n;if(t.type===vb){const a=r?i/r:.1;n-=a,o+=a,i=o-n}return a=>(a-n)/i}function $J(t,e,r,n){const o=n||e.type;return J(r)&&sJ(o)&&(r=r.replace(/%a/g,"%A").replace(/%b/g,"%B")),!r&&o===pc?t.timeFormat("%A, %d %B %Y, %X"):!r&&o===gc?t.utcFormat("%A, %d %B %Y, %X UTC"):k3(t,e,5,null,r,n,!0)}function _3(t,e,r){r=r||{};const n=Math.max(3,r.maxlen||7),o=$J(t,e,r.format,r.formatType);if(ry(e.type)){const i=w3(e).slice(1).map(o),a=i.length;return`${a} boundar${a===1?"y":"ies"}: ${i.join(", ")}`}else if(Hu(e.type)){const i=e.domain(),a=i.length,c=a>n?i.slice(0,n-2).map(o).join(", ")+", ending with "+i.slice(-1).map(o):i.map(o).join(", ");return`${a} value${a===1?"":"s"}: ${c}`}else{const i=e.domain();return`values from ${o(i[0])} to ${o($t(i))}`}}let O3=0;function CJ(){O3=0}const _p="p_";function jw(t){return t&&t.gradient}function E3(t,e,r){const n=t.gradient;let o=t.id,i=n==="radial"?_p:"";return o||(o=t.id="gradient_"+O3++,n==="radial"?(t.x1=Kn(t.x1,.5),t.y1=Kn(t.y1,.5),t.r1=Kn(t.r1,0),t.x2=Kn(t.x2,.5),t.y2=Kn(t.y2,.5),t.r2=Kn(t.r2,.5),i=_p):(t.x1=Kn(t.x1,0),t.y1=Kn(t.y1,0),t.x2=Kn(t.x2,1),t.y2=Kn(t.y2,0))),e[o]=t,"url("+(r||"")+"#"+i+o+")"}function Kn(t,e){return t??e}function S3(t,e){var r=[],n;return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(o,i){return r.push({offset:o,color:i}),n}}}const LC={basis:{curve:jK},"basis-closed":{curve:TK},"basis-open":{curve:MK},bundle:{curve:FK,tension:"beta",value:.85},cardinal:{curve:zK,tension:"tension",value:0},"cardinal-open":{curve:LK,tension:"tension",value:0},"cardinal-closed":{curve:RK,tension:"tension",value:0},"catmull-rom":{curve:IK,tension:"alpha",value:.5},"catmull-rom-closed":{curve:BK,tension:"alpha",value:.5},"catmull-rom-open":{curve:UK,tension:"alpha",value:.5},linear:{curve:ow},"linear-closed":{curve:qK},monotone:{horizontal:HK,vertical:WK},natural:{curve:GK},step:{curve:YK},"step-after":{curve:XK},"step-before":{curve:VK}};function Tw(t,e,r){var n=lt(LC,t)&&LC[t],o=null;return n&&(o=n.curve||n[e||"vertical"],n.tension&&r!=null&&(o=o[n.tension](r))),o}const AJ={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},PJ=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,NJ=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,DJ=/^((\s+,?\s*)|(,\s*))/,jJ=/^[01]/;function Gu(t){const e=[];return(t.match(PJ)||[]).forEach(n=>{let o=n[0];const i=o.toLowerCase(),a=AJ[i],c=TJ(i,a,n.slice(1).trim()),u=c.length;if(u<a||u&&u%a!==0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([o,...c.slice(0,a)]),u!==a){i==="m"&&(o=o==="M"?"L":"l");for(let s=a;s<u;s+=a)e.push([o,...c.slice(s,s+a)])}}),e}function TJ(t,e,r){const n=[];for(let o=0;e&&o<r.length;)for(let i=0;i<e;++i){const a=t==="a"&&(i===3||i===4)?jJ:NJ,c=r.slice(o).match(a);if(c===null)throw Error("Invalid SVG path, incorrect parameter type");o+=c[0].length,n.push(+c[0]);const u=r.slice(o).match(DJ);u!==null&&(o+=u[0].length)}return n}const ta=Math.PI/180,MJ=1e-14,Ga=Math.PI/2,ro=Math.PI*2,ru=Math.sqrt(3)/2;var gv={},bv={},$3=[].join;function FJ(t,e,r,n,o,i,a,c,u){const s=$3.call(arguments);if(gv[s])return gv[s];const l=a*ta,d=Math.sin(l),f=Math.cos(l);r=Math.abs(r),n=Math.abs(n);const h=f*(c-t)*.5+d*(u-e)*.5,p=f*(u-e)*.5-d*(c-t)*.5;let g=h*h/(r*r)+p*p/(n*n);g>1&&(g=Math.sqrt(g),r*=g,n*=g);const b=f/r,m=d/r,v=-d/n,y=f/n,x=b*c+m*u,k=v*c+y*u,_=b*t+m*e,w=v*t+y*e;let C=1/((_-x)*(_-x)+(w-k)*(w-k))-.25;C<0&&(C=0);let S=Math.sqrt(C);i==o&&(S=-S);const A=.5*(x+_)-S*(w-k),T=.5*(k+w)+S*(_-x),$=Math.atan2(k-T,x-A);let E=Math.atan2(w-T,_-A)-$;E<0&&i===1?E+=ro:E>0&&i===0&&(E-=ro);const N=Math.ceil(Math.abs(E/(Ga+.001))),D=[];for(let F=0;F<N;++F){const I=$+F*E/N,rt=$+(F+1)*E/N;D[F]=[A,T,I,rt,r,n,d,f]}return gv[s]=D}function zJ(t){const e=$3.call(t);if(bv[e])return bv[e];var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],s=t[7];const l=s*a,d=-u*c,f=u*a,h=s*c,p=Math.cos(o),g=Math.sin(o),b=Math.cos(i),m=Math.sin(i),v=.5*(i-o),y=Math.sin(v*.5),x=8/3*y*y/Math.sin(v),k=r+p-x*g,_=n+g+x*p,w=r+b,O=n+m,C=w+x*m,S=O-x*b;return bv[e]=[l*k+d*_,f*k+h*_,l*C+d*S,f*C+h*S,l*w+d*O,f*w+h*O]}const Qr=["l",0,0,0,0,0,0,0];function RJ(t,e,r){const n=Qr[0]=t[0];if(n==="a"||n==="A")Qr[1]=e*t[1],Qr[2]=r*t[2],Qr[3]=t[3],Qr[4]=t[4],Qr[5]=t[5],Qr[6]=e*t[6],Qr[7]=r*t[7];else if(n==="h"||n==="H")Qr[1]=e*t[1];else if(n==="v"||n==="V")Qr[1]=r*t[1];else for(var o=1,i=t.length;o<i;++o)Qr[o]=(o%2==1?e:r)*t[o];return Qr}function hd(t,e,r,n,o,i){var a,c=null,u=0,s=0,l=0,d=0,f,h,p,g,b=0,m=0;r==null&&(r=0),n==null&&(n=0),o==null&&(o=1),i==null&&(i=o),t.beginPath&&t.beginPath();for(var v=0,y=e.length;v<y;++v){switch(a=e[v],(o!==1||i!==1)&&(a=RJ(a,o,i)),a[0]){case"l":u+=a[1],s+=a[2],t.lineTo(u+r,s+n);break;case"L":u=a[1],s=a[2],t.lineTo(u+r,s+n);break;case"h":u+=a[1],t.lineTo(u+r,s+n);break;case"H":u=a[1],t.lineTo(u+r,s+n);break;case"v":s+=a[1],t.lineTo(u+r,s+n);break;case"V":s=a[1],t.lineTo(u+r,s+n);break;case"m":u+=a[1],s+=a[2],b=u,m=s,t.moveTo(u+r,s+n);break;case"M":u=a[1],s=a[2],b=u,m=s,t.moveTo(u+r,s+n);break;case"c":f=u+a[5],h=s+a[6],l=u+a[3],d=s+a[4],t.bezierCurveTo(u+a[1]+r,s+a[2]+n,l+r,d+n,f+r,h+n),u=f,s=h;break;case"C":u=a[5],s=a[6],l=a[3],d=a[4],t.bezierCurveTo(a[1]+r,a[2]+n,l+r,d+n,u+r,s+n);break;case"s":f=u+a[3],h=s+a[4],l=2*u-l,d=2*s-d,t.bezierCurveTo(l+r,d+n,u+a[1]+r,s+a[2]+n,f+r,h+n),l=u+a[1],d=s+a[2],u=f,s=h;break;case"S":f=a[3],h=a[4],l=2*u-l,d=2*s-d,t.bezierCurveTo(l+r,d+n,a[1]+r,a[2]+n,f+r,h+n),u=f,s=h,l=a[1],d=a[2];break;case"q":f=u+a[3],h=s+a[4],l=u+a[1],d=s+a[2],t.quadraticCurveTo(l+r,d+n,f+r,h+n),u=f,s=h;break;case"Q":f=a[3],h=a[4],t.quadraticCurveTo(a[1]+r,a[2]+n,f+r,h+n),u=f,s=h,l=a[1],d=a[2];break;case"t":f=u+a[1],h=s+a[2],c[0].match(/[QqTt]/)===null?(l=u,d=s):c[0]==="t"?(l=2*u-p,d=2*s-g):c[0]==="q"&&(l=2*u-l,d=2*s-d),p=l,g=d,t.quadraticCurveTo(l+r,d+n,f+r,h+n),u=f,s=h,l=u+a[1],d=s+a[2];break;case"T":f=a[1],h=a[2],l=2*u-l,d=2*s-d,t.quadraticCurveTo(l+r,d+n,f+r,h+n),u=f,s=h;break;case"a":IC(t,u+r,s+n,[a[1],a[2],a[3],a[4],a[5],a[6]+u+r,a[7]+s+n]),u+=a[6],s+=a[7];break;case"A":IC(t,u+r,s+n,[a[1],a[2],a[3],a[4],a[5],a[6]+r,a[7]+n]),u=a[6],s=a[7];break;case"z":case"Z":u=b,s=m,t.closePath();break}c=a}}function IC(t,e,r,n){const o=FJ(n[5],n[6],n[0],n[1],n[3],n[4],n[2],e,r);for(let i=0;i<o.length;++i){const a=zJ(o[i]);t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const BC=.5773502691896257,UC={circle:{draw:function(t,e){const r=Math.sqrt(e)/2;t.moveTo(r,0),t.arc(0,0,r,0,ro)}},cross:{draw:function(t,e){var r=Math.sqrt(e)/2,n=r/2.5;t.moveTo(-r,-n),t.lineTo(-r,n),t.lineTo(-n,n),t.lineTo(-n,r),t.lineTo(n,r),t.lineTo(n,n),t.lineTo(r,n),t.lineTo(r,-n),t.lineTo(n,-n),t.lineTo(n,-r),t.lineTo(-n,-r),t.lineTo(-n,-n),t.closePath()}},diamond:{draw:function(t,e){const r=Math.sqrt(e)/2;t.moveTo(-r,0),t.lineTo(0,-r),t.lineTo(r,0),t.lineTo(0,r),t.closePath()}},square:{draw:function(t,e){var r=Math.sqrt(e),n=-r/2;t.rect(n,n,r,r)}},arrow:{draw:function(t,e){var r=Math.sqrt(e)/2,n=r/7,o=r/2.5,i=r/8;t.moveTo(-n,r),t.lineTo(n,r),t.lineTo(n,-i),t.lineTo(o,-i),t.lineTo(0,-r),t.lineTo(-o,-i),t.lineTo(-n,-i),t.closePath()}},wedge:{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r,o=n-r*BC,i=r/4;t.moveTo(0,-n-o),t.lineTo(-i,n-o),t.lineTo(i,n-o),t.closePath()}},triangle:{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r,o=n-r*BC;t.moveTo(0,-n-o),t.lineTo(-r,n-o),t.lineTo(r,n-o),t.closePath()}},"triangle-up":{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r;t.moveTo(0,-n),t.lineTo(-r,n),t.lineTo(r,n),t.closePath()}},"triangle-down":{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r;t.moveTo(0,n),t.lineTo(-r,-n),t.lineTo(r,-n),t.closePath()}},"triangle-right":{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r;t.moveTo(n,0),t.lineTo(-n,-r),t.lineTo(-n,r),t.closePath()}},"triangle-left":{draw:function(t,e){var r=Math.sqrt(e)/2,n=ru*r;t.moveTo(-n,0),t.lineTo(n,-r),t.lineTo(n,r),t.closePath()}},stroke:{draw:function(t,e){const r=Math.sqrt(e)/2;t.moveTo(-r,0),t.lineTo(r,0)}}};function C3(t){return lt(UC,t)?UC[t]:LJ(t)}var mv={};function LJ(t){if(!lt(mv,t)){const e=Gu(t);mv[t]={draw:function(r,n){hd(r,e,0,0,Math.sqrt(n)/2)}}}return mv[t]}const ki=.448084975506;function IJ(t){return t.x}function BJ(t){return t.y}function UJ(t){return t.width}function qJ(t){return t.height}function zo(t){return typeof t=="function"?t:()=>+t}function Hf(t,e,r){return Math.max(e,Math.min(t,r))}function A3(){var t=IJ,e=BJ,r=UJ,n=qJ,o=zo(0),i=o,a=o,c=o,u=null;function s(l,d,f){var h,p=d??+t.call(this,l),g=f??+e.call(this,l),b=+r.call(this,l),m=+n.call(this,l),v=Math.min(b,m)/2,y=Hf(+o.call(this,l),0,v),x=Hf(+i.call(this,l),0,v),k=Hf(+a.call(this,l),0,v),_=Hf(+c.call(this,l),0,v);if(u||(u=h=ab()),y<=0&&x<=0&&k<=0&&_<=0)u.rect(p,g,b,m);else{var w=p+b,O=g+m;u.moveTo(p+y,g),u.lineTo(w-x,g),u.bezierCurveTo(w-ki*x,g,w,g+ki*x,w,g+x),u.lineTo(w,O-_),u.bezierCurveTo(w,O-ki*_,w-ki*_,O,w-_,O),u.lineTo(p+k,O),u.bezierCurveTo(p+ki*k,O,p,O-ki*k,p,O-k),u.lineTo(p,g+y),u.bezierCurveTo(p,g+ki*y,p+ki*y,g,p+y,g),u.closePath()}if(h)return u=null,h+""||null}return s.x=function(l){return arguments.length?(t=zo(l),s):t},s.y=function(l){return arguments.length?(e=zo(l),s):e},s.width=function(l){return arguments.length?(r=zo(l),s):r},s.height=function(l){return arguments.length?(n=zo(l),s):n},s.cornerRadius=function(l,d,f,h){return arguments.length?(o=zo(l),i=d!=null?zo(d):o,c=f!=null?zo(f):o,a=h!=null?zo(h):i,s):o},s.context=function(l){return arguments.length?(u=l??null,s):u},s}function P3(){var t,e,r,n,o=null,i,a,c,u;function s(d,f,h){const p=h/2;if(i){var g=c-f,b=d-a;if(g||b){var m=Math.sqrt(g*g+b*b),v=(g/=m)*u,y=(b/=m)*u,x=Math.atan2(b,g);o.moveTo(a-v,c-y),o.lineTo(d-g*p,f-b*p),o.arc(d,f,p,x-Math.PI,x),o.lineTo(a+v,c+y),o.arc(a,c,u,x,x+Math.PI)}else o.arc(d,f,p,0,ro);o.closePath()}else i=1;a=d,c=f,u=p}function l(d){var f,h=d.length,p,g=!1,b;for(o==null&&(o=b=ab()),f=0;f<=h;++f)!(f<h&&n(p=d[f],f,d))===g&&(g=!g)&&(i=0),g&&s(+t(p,f,d),+e(p,f,d),+r(p,f,d));if(b)return o=null,b+""||null}return l.x=function(d){return arguments.length?(t=d,l):t},l.y=function(d){return arguments.length?(e=d,l):e},l.size=function(d){return arguments.length?(r=d,l):r},l.defined=function(d){return arguments.length?(n=d,l):n},l.context=function(d){return arguments.length?(d==null?o=null:o=d,l):o},l}function Zd(t,e){return t??e}const tf=t=>t.x||0,ef=t=>t.y||0,WJ=t=>t.width||0,HJ=t=>t.height||0,GJ=t=>(t.x||0)+(t.width||0),YJ=t=>(t.y||0)+(t.height||0),VJ=t=>t.startAngle||0,XJ=t=>t.endAngle||0,KJ=t=>t.padAngle||0,QJ=t=>t.innerRadius||0,JJ=t=>t.outerRadius||0,ZJ=t=>t.cornerRadius||0,tZ=t=>Zd(t.cornerRadiusTopLeft,t.cornerRadius)||0,eZ=t=>Zd(t.cornerRadiusTopRight,t.cornerRadius)||0,rZ=t=>Zd(t.cornerRadiusBottomRight,t.cornerRadius)||0,nZ=t=>Zd(t.cornerRadiusBottomLeft,t.cornerRadius)||0,oZ=t=>Zd(t.size,64),iZ=t=>t.size||1,xb=t=>t.defined!==!1,aZ=t=>C3(t.shape||"circle"),cZ=PK().startAngle(VJ).endAngle(XJ).padAngle(KJ).innerRadius(QJ).outerRadius(JJ).cornerRadius(ZJ),uZ=iF().x(tf).y1(ef).y0(YJ).defined(xb),sZ=iF().y(ef).x1(tf).x0(GJ).defined(xb),lZ=oF().x(tf).y(ef).defined(xb),dZ=A3().x(tf).y(ef).width(WJ).height(HJ).cornerRadius(tZ,eZ,rZ,nZ),fZ=DK().type(aZ).size(oZ),hZ=P3().x(tf).y(ef).defined(xb).size(iZ);function Mw(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function pZ(t,e){return cZ.context(t)(e)}function gZ(t,e){const r=e[0],n=r.interpolate||"linear";return(r.orient==="horizontal"?sZ:uZ).curve(Tw(n,r.orient,r.tension)).context(t)(e)}function bZ(t,e){const r=e[0],n=r.interpolate||"linear";return lZ.curve(Tw(n,r.orient,r.tension)).context(t)(e)}function Cs(t,e,r,n){return dZ.context(t)(e,r,n)}function mZ(t,e){return(e.mark.shape||e.shape).context(t)(e)}function vZ(t,e){return fZ.context(t)(e)}function yZ(t,e){return hZ.context(t)(e)}var N3=1;function D3(){N3=1}function Fw(t,e,r){var n=e.clip,o=t._defs,i=e.clip_id||(e.clip_id="clip"+N3++),a=o.clipping[i]||(o.clipping[i]={id:i});return mt(n)?a.path=n(null):Mw(r)?a.path=Cs(null,r,0,0):(a.width=r.width||0,a.height=r.height||0),"url(#"+i+")"}function se(t){this.clear(),t&&this.union(t)}se.prototype={clone(){return new se(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,e,r,n){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),n<e?(this.y2=e,this.y1=n):(this.y1=e,this.y2=n),this},add(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate(t,e,r){const n=this.rotatedPoints(t,e,r);return this.clear().add(n[0],n[1]).add(n[2],n[3]).add(n[4],n[5]).add(n[6],n[7])},rotatedPoints(t,e,r){var{x1:n,y1:o,x2:i,y2:a}=this,c=Math.cos(t),u=Math.sin(t),s=e-e*c+r*u,l=r-e*u-r*c;return[c*n-u*o+s,u*n+c*o+l,c*n-u*a+s,u*n+c*a+l,c*i-u*o+s,u*i+c*o+l,c*i-u*a+s,u*i+c*a+l]},union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function wb(t){this.mark=t,this.bounds=this.bounds||new se}function kb(t){wb.call(this,t),this.items=this.items||[]}X(kb,wb);function zw(t){this._pending=0,this._loader=t||Vg()}function qC(t){t._pending+=1}function rl(t){t._pending-=1}zw.prototype={pending(){return this._pending},sanitizeURL(t){const e=this;return qC(e),e._loader.sanitize(t,{context:"href"}).then(r=>(rl(e),r)).catch(()=>(rl(e),null))},loadImage(t){const e=this,r=KK();return qC(e),e._loader.sanitize(t,{context:"image"}).then(n=>{const o=n.href;if(!o||!r)throw{url:o};const i=new r,a=lt(n,"crossOrigin")?n.crossOrigin:"anonymous";return a!=null&&(i.crossOrigin=a),i.onload=()=>rl(e),i.onerror=()=>rl(e),i.src=o,i}).catch(n=>(rl(e),{complete:!1,width:0,height:0,src:n&&n.url||""}))},ready(){const t=this;return new Promise(e=>{function r(n){t.pending()?setTimeout(()=>{r(!0)},10):e(n)}r(!1)})}};function di(t,e,r){if(e.stroke&&e.opacity!==0&&e.strokeOpacity!==0){const n=e.strokeWidth!=null?+e.strokeWidth:1;t.expand(n+(r?xZ(e,n):0))}return t}function xZ(t,e){return t.strokeJoin&&t.strokeJoin!=="miter"?0:e}const wZ=ro-1e-8;let _b,$h,Ch,Za,oy,Ah,iy,ay;const ji=(t,e)=>_b.add(t,e),Ph=(t,e)=>ji($h=t,Ch=e),WC=t=>ji(t,_b.y1),HC=t=>ji(_b.x1,t),Ya=(t,e)=>oy*t+iy*e,Va=(t,e)=>Ah*t+ay*e,vv=(t,e)=>ji(Ya(t,e),Va(t,e)),yv=(t,e)=>Ph(Ya(t,e),Va(t,e));function rf(t,e){return _b=t,e?(Za=e*ta,oy=ay=Math.cos(Za),Ah=Math.sin(Za),iy=-Ah):(oy=ay=1,Za=Ah=iy=0),kZ}const kZ={beginPath(){},closePath(){},moveTo:yv,lineTo:yv,rect(t,e,r,n){Za?(vv(t+r,e),vv(t+r,e+n),vv(t,e+n),yv(t,e)):(ji(t+r,e+n),Ph(t,e))},quadraticCurveTo(t,e,r,n){const o=Ya(t,e),i=Va(t,e),a=Ya(r,n),c=Va(r,n);GC($h,o,a,WC),GC(Ch,i,c,HC),Ph(a,c)},bezierCurveTo(t,e,r,n,o,i){const a=Ya(t,e),c=Va(t,e),u=Ya(r,n),s=Va(r,n),l=Ya(o,i),d=Va(o,i);YC($h,a,u,l,WC),YC(Ch,c,s,d,HC),Ph(l,d)},arc(t,e,r,n,o,i){if(n+=Za,o+=Za,$h=r*Math.cos(o)+t,Ch=r*Math.sin(o)+e,Math.abs(o-n)>wZ)ji(t-r,e-r),ji(t+r,e+r);else{const a=s=>ji(r*Math.cos(s)+t,r*Math.sin(s)+e);let c,u;if(a(n),a(o),o!==n)if(n=n%ro,n<0&&(n+=ro),o=o%ro,o<0&&(o+=ro),o<n&&(i=!i,c=n,n=o,o=c),i)for(o-=ro,c=n-n%Ga,u=0;u<4&&c>o;++u,c-=Ga)a(c);else for(c=n-n%Ga+Ga,u=0;u<4&&c<o;++u,c=c+Ga)a(c)}}};function GC(t,e,r,n){const o=(t-e)/(t+r-2*e);0<o&&o<1&&n(t+(e-t)*o)}function YC(t,e,r,n,o){const i=n-t+3*e-3*r,a=t+r-2*e,c=t-e;let u=0,s=0,l;Math.abs(i)>MJ?(l=a*a+c*i,l>=0&&(l=Math.sqrt(l),u=(-a+l)/i,s=(-a-l)/i)):u=.5*c/a,0<u&&u<1&&o(VC(u,t,e,r,n)),0<s&&s<1&&o(VC(s,t,e,r,n))}function VC(t,e,r,n,o){const i=1-t,a=i*i,c=t*t;return a*i*e+3*a*t*r+3*i*c*n+c*t*o}var Gi=(Gi=Hi(1,1))?Gi.getContext("2d"):null;const cy=new se;function Rw(t){return function(e,r){if(!Gi)return!0;t(Gi,e),cy.clear().union(e.bounds).intersect(r).round();const{x1:n,y1:o,x2:i,y2:a}=cy;for(let c=o;c<=a;++c)for(let u=n;u<=i;++u)if(Gi.isPointInPath(u,c))return!0;return!1}}function Lw(t,e){return e.contains(t.x||0,t.y||0)}function j3(t,e){const r=t.x||0,n=t.y||0,o=t.width||0,i=t.height||0;return e.intersects(cy.set(r,n,r+o,n+i))}function T3(t,e){const r=t.x||0,n=t.y||0,o=t.x2!=null?t.x2:r,i=t.y2!=null?t.y2:n;return vu(e,r,n,o,i)}function vu(t,e,r,n,o){const{x1:i,y1:a,x2:c,y2:u}=t,s=n-e,l=o-r;let d=0,f=1,h,p,g,b;for(b=0;b<4;++b){if(b===0&&(h=-s,p=-(i-e)),b===1&&(h=s,p=c-e),b===2&&(h=-l,p=-(a-r)),b===3&&(h=l,p=u-r),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>f)return!1;g>d&&(d=g)}else if(h>0){if(g<d)return!1;g<f&&(f=g)}}return!0}function Yu(t,e){t.globalCompositeOperation=e.blend||"source-over"}function bn(t,e){return t??e}function XC(t,e){const r=e.length;for(let n=0;n<r;++n)t.addColorStop(e[n].offset,e[n].color);return t}function _Z(t,e,r){const n=r.width(),o=r.height();let i;if(e.gradient==="radial")i=t.createRadialGradient(r.x1+bn(e.x1,.5)*n,r.y1+bn(e.y1,.5)*o,Math.max(n,o)*bn(e.r1,0),r.x1+bn(e.x2,.5)*n,r.y1+bn(e.y2,.5)*o,Math.max(n,o)*bn(e.r2,.5));else{const a=bn(e.x1,0),c=bn(e.y1,0),u=bn(e.x2,1),s=bn(e.y2,0);if(a===u||c===s||n===o)i=t.createLinearGradient(r.x1+a*n,r.y1+c*o,r.x1+u*n,r.y1+s*o);else{const l=Hi(Math.ceil(n),Math.ceil(o)),d=l.getContext("2d");return d.scale(n,o),d.fillStyle=XC(d.createLinearGradient(a,c,u,s),e.stops),d.fillRect(0,0,n,o),t.createPattern(l,"no-repeat")}}return XC(i,e.stops)}function M3(t,e,r){return jw(r)?_Z(t,r,e.bounds):r}function Op(t,e,r){return r*=e.fillOpacity==null?1:e.fillOpacity,r>0?(t.globalAlpha=r,t.fillStyle=M3(t,e,e.fill),!0):!1}var OZ=[];function Vu(t,e,r){var n=(n=e.strokeWidth)!=null?n:1;return n<=0?!1:(r*=e.strokeOpacity==null?1:e.strokeOpacity,r>0?(t.globalAlpha=r,t.strokeStyle=M3(t,e,e.stroke),t.lineWidth=n,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||OZ),t.lineDashOffset=e.strokeDashOffset||0),!0):!1)}function EZ(t,e){return t.zindex-e.zindex||t.index-e.index}function Iw(t){if(!t.zdirty)return t.zitems;var e=t.items,r=[],n,o,i;for(o=0,i=e.length;o<i;++o)n=e[o],n.index=o,n.zindex&&r.push(n);return t.zdirty=!1,t.zitems=r.sort(EZ)}function Rn(t,e){var r=t.items,n,o;if(!r||!r.length)return;const i=Iw(t);if(i&&i.length){for(n=0,o=r.length;n<o;++n)r[n].zindex||e(r[n]);r=i}for(n=0,o=r.length;n<o;++n)e(r[n])}function Ep(t,e){var r=t.items,n,o;if(!r||!r.length)return null;const i=Iw(t);for(i&&i.length&&(r=i),o=r.length;--o>=0;)if(n=e(r[o]))return n;if(r===i){for(r=t.items,o=r.length;--o>=0;)if(!r[o].zindex&&(n=e(r[o])))return n}return null}function Bw(t){return function(e,r,n){Rn(r,o=>{(!n||n.intersects(o.bounds))&&F3(t,e,o,o)})}}function SZ(t){return function(e,r,n){r.items.length&&(!n||n.intersects(r.bounds))&&F3(t,e,r.items[0],r.items)}}function F3(t,e,r,n){var o=r.opacity==null?1:r.opacity;o!==0&&(t(e,n)||(Yu(e,r),r.fill&&Op(e,r,o)&&e.fill(),r.stroke&&Vu(e,r,o)&&e.stroke()))}function Ob(t){return t=t||an,function(e,r,n,o,i,a){return n*=e.pixelRatio,o*=e.pixelRatio,Ep(r,c=>{const u=c.bounds;if(!(u&&!u.contains(i,a)||!u)&&t(e,c,n,o,i,a))return c})}}function nf(t,e){return function(r,n,o,i){var a=Array.isArray(n)?n[0]:n,c=e??a.fill,u=a.stroke&&r.isPointInStroke,s,l;return u&&(s=a.strokeWidth,l=a.strokeCap,r.lineWidth=s??1,r.lineCap=l??"butt"),t(r,n)?!1:c&&r.isPointInPath(o,i)||u&&r.isPointInStroke(o,i)}}function Uw(t){return Ob(nf(t))}function ac(t,e){return"translate("+t+","+e+")"}function qw(t){return"rotate("+t+")"}function $Z(t,e){return"scale("+t+","+e+")"}function z3(t){return ac(t.x||0,t.y||0)}function CZ(t){return ac(t.x||0,t.y||0)+(t.angle?" "+qw(t.angle):"")}function AZ(t){return ac(t.x||0,t.y||0)+(t.angle?" "+qw(t.angle):"")+(t.scaleX||t.scaleY?" "+$Z(t.scaleX||1,t.scaleY||1):"")}function Ww(t,e,r){function n(a,c){a("transform",CZ(c)),a("d",e(null,c))}function o(a,c){return e(rf(a,c.angle),c),di(a,c).translate(c.x||0,c.y||0)}function i(a,c){var u=c.x||0,s=c.y||0,l=c.angle||0;a.translate(u,s),l&&a.rotate(l*=ta),a.beginPath(),e(a,c),l&&a.rotate(-l),a.translate(-u,-s)}return{type:t,tag:"path",nested:!1,attr:n,bound:o,draw:Bw(i),pick:Uw(i),isect:r||Rw(i)}}var PZ=Ww("arc",pZ);function NZ(t,e){for(var r=t[0].orient==="horizontal"?e[1]:e[0],n=t[0].orient==="horizontal"?"y":"x",o=t.length,i=1/0,a,c;--o>=0;)t[o].defined!==!1&&(c=Math.abs(t[o][n]-r),c<i&&(i=c,a=t[o]));return a}function DZ(t,e){for(var r=Math.pow(t[0].strokeWidth||1,2),n=t.length,o,i,a;--n>=0;)if(t[n].defined!==!1&&(o=t[n].x-e[0],i=t[n].y-e[1],a=o*o+i*i,a<r))return t[n];return null}function jZ(t,e){for(var r=t.length,n,o,i;--r>=0;)if(t[r].defined!==!1&&(n=t[r].x-e[0],o=t[r].y-e[1],i=n*n+o*o,n=t[r].size||1,i<n*n))return t[r];return null}function Hw(t,e,r){function n(u,s){var l=s.mark.items;l.length&&u("d",e(null,l))}function o(u,s){var l=s.items;return l.length===0?u:(e(rf(u),l),di(u,l[0]))}function i(u,s){u.beginPath(),e(u,s)}const a=nf(i);function c(u,s,l,d,f,h){var p=s.items,g=s.bounds;return!p||!p.length||g&&!g.contains(f,h)?null:(l*=u.pixelRatio,d*=u.pixelRatio,a(u,p,l,d)?p[0]:null)}return{type:t,tag:"path",nested:!0,attr:n,bound:o,draw:SZ(i),pick:c,isect:Lw,tip:r}}var TZ=Hw("area",gZ,NZ);function MZ(t,e){var r=e.clip;t.save(),mt(r)?(t.beginPath(),r(t),t.clip()):R3(t,e.group)}function R3(t,e){t.beginPath(),Mw(e)?Cs(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function L3(t){const e=bn(t.strokeWidth,1);return t.strokeOffset!=null?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function FZ(t,e){t("transform",z3(e))}function I3(t,e){const r=L3(e);t("d",Cs(null,e,r,r))}function zZ(t,e){t("class","background"),t("aria-hidden",!0),I3(t,e)}function RZ(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?I3(t,e):t("d","")}function LZ(t,e,r){const n=e.clip?Fw(r,e,e):null;t("clip-path",n)}function IZ(t,e){if(!e.clip&&e.items){const r=e.items,n=r.length;for(let o=0;o<n;++o)t.union(r[o].bounds)}return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),di(t,e),t.translate(e.x||0,e.y||0)}function pd(t,e,r,n){const o=L3(e);t.beginPath(),Cs(t,e,(r||0)+o,(n||0)+o)}const BZ=nf(pd),UZ=nf(pd,!1),qZ=nf(pd,!0);function WZ(t,e,r){Rn(e,n=>{const o=n.x||0,i=n.y||0,a=n.strokeForeground,c=n.opacity==null?1:n.opacity;(n.stroke||n.fill)&&c&&(pd(t,n,o,i),Yu(t,n),n.fill&&Op(t,n,c)&&t.fill(),n.stroke&&!a&&Vu(t,n,c)&&t.stroke()),t.save(),t.translate(o,i),n.clip&&R3(t,n),r&&r.translate(-o,-i),Rn(n,u=>{this.draw(t,u,r)}),r&&r.translate(o,i),t.restore(),a&&n.stroke&&c&&(pd(t,n,o,i),Yu(t,n),Vu(t,n,c)&&t.stroke())})}function HZ(t,e,r,n,o,i){if(e.bounds&&!e.bounds.contains(o,i)||!e.items)return null;const a=r*t.pixelRatio,c=n*t.pixelRatio;return Ep(e,u=>{let s,l,d;const f=u.bounds;if(f&&!f.contains(o,i))return;l=u.x||0,d=u.y||0;const h=l+(u.width||0),p=d+(u.height||0),g=u.clip;if(g&&(o<l||o>h||i<d||i>p))return;if(t.save(),t.translate(l,d),l=o-l,d=i-d,g&&Mw(u)&&!qZ(t,u,a,c))return t.restore(),null;const b=u.strokeForeground,m=e.interactive!==!1;return m&&b&&u.stroke&&UZ(t,u,a,c)?(t.restore(),u):(s=Ep(u,v=>GZ(v,l,d)?this.pick(v,r,n,l,d):null),!s&&m&&(u.fill||!b&&u.stroke)&&BZ(t,u,a,c)&&(s=u),t.restore(),s||null)})}function GZ(t,e,r){return(t.interactive!==!1||t.marktype==="group")&&t.bounds&&t.bounds.contains(e,r)}var YZ={type:"group",tag:"g",nested:!1,attr:FZ,bound:IZ,draw:WZ,pick:HZ,isect:j3,content:LZ,background:zZ,foreground:RZ},gd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Gw(t,e){var r=t.image;return(!r||t.url&&t.url!==r.url)&&(r={complete:!1,width:0,height:0},e.loadImage(t.url).then(n=>{t.image=n,t.image.url=t.url})),r}function Yw(t,e){return t.width!=null?t.width:!e||!e.width?0:t.aspect!==!1&&t.height?t.height*e.width/e.height:e.width}function Vw(t,e){return t.height!=null?t.height:!e||!e.height?0:t.aspect!==!1&&t.width?t.width*e.height/e.width:e.height}function Eb(t,e){return t==="center"?e/2:t==="right"?e:0}function Sb(t,e){return t==="middle"?e/2:t==="bottom"?e:0}function VZ(t,e,r){const n=Gw(e,r),o=Yw(e,n),i=Vw(e,n),a=(e.x||0)-Eb(e.align,o),c=(e.y||0)-Sb(e.baseline,i),u=!n.src&&n.toDataURL?n.toDataURL():n.src||"";t("href",u,gd["xmlns:xlink"],"xlink:href"),t("transform",ac(a,c)),t("width",o),t("height",i),t("preserveAspectRatio",e.aspect===!1?"none":"xMidYMid")}function XZ(t,e){const r=e.image,n=Yw(e,r),o=Vw(e,r),i=(e.x||0)-Eb(e.align,n),a=(e.y||0)-Sb(e.baseline,o);return t.set(i,a,i+n,a+o)}function KZ(t,e,r){Rn(e,n=>{if(r&&!r.intersects(n.bounds))return;const o=Gw(n,this);let i=Yw(n,o),a=Vw(n,o);if(i===0||a===0)return;let c=(n.x||0)-Eb(n.align,i),u=(n.y||0)-Sb(n.baseline,a),s,l,d,f;n.aspect!==!1&&(l=o.width/o.height,d=n.width/n.height,l===l&&d===d&&l!==d&&(d<l?(f=i/l,u+=(a-f)/2,a=f):(f=a*l,c+=(i-f)/2,i=f))),(o.complete||o.toDataURL)&&(Yu(t,n),t.globalAlpha=(s=n.opacity)!=null?s:1,t.imageSmoothingEnabled=n.smooth!==!1,t.drawImage(o,c,u,i,a))})}var QZ={type:"image",tag:"image",nested:!1,attr:VZ,bound:XZ,draw:KZ,pick:Ob(),isect:an,get:Gw,xOffset:Eb,yOffset:Sb},JZ=Hw("line",bZ,DZ);function ZZ(t,e){var r=e.scaleX||1,n=e.scaleY||1;(r!==1||n!==1)&&t("vector-effect","non-scaling-stroke"),t("transform",AZ(e)),t("d",e.path)}function Nh(t,e){var r=e.path;if(r==null)return!0;var n=e.x||0,o=e.y||0,i=e.scaleX||1,a=e.scaleY||1,c=(e.angle||0)*ta,u=e.pathCache;(!u||u.path!==r)&&((e.pathCache=u=Gu(r)).path=r),c&&t.rotate&&t.translate?(t.translate(n,o),t.rotate(c),hd(t,u,0,0,i,a),t.rotate(-c),t.translate(-n,-o)):hd(t,u,n,o,i,a)}function ttt(t,e){return Nh(rf(t,e.angle),e)?t.set(0,0,0,0):di(t,e,!0)}var ett={type:"path",tag:"path",nested:!1,attr:ZZ,bound:ttt,draw:Bw(Nh),pick:Uw(Nh),isect:Rw(Nh)};function rtt(t,e){t("d",Cs(null,e))}function ntt(t,e){var r,n;return di(t.set(r=e.x||0,n=e.y||0,r+e.width||0,n+e.height||0),e)}function KC(t,e){t.beginPath(),Cs(t,e)}var ott={type:"rect",tag:"path",nested:!1,attr:rtt,bound:ntt,draw:Bw(KC),pick:Uw(KC),isect:j3};function itt(t,e){t("transform",z3(e)),t("x2",e.x2!=null?e.x2-(e.x||0):0),t("y2",e.y2!=null?e.y2-(e.y||0):0)}function att(t,e){var r,n;return di(t.set(r=e.x||0,n=e.y||0,e.x2!=null?e.x2:r,e.y2!=null?e.y2:n),e)}function B3(t,e,r){var n,o,i,a;return e.stroke&&Vu(t,e,r)?(n=e.x||0,o=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:o,t.beginPath(),t.moveTo(n,o),t.lineTo(i,a),!0):!1}function ctt(t,e,r){Rn(e,n=>{if(!(r&&!r.intersects(n.bounds))){var o=n.opacity==null?1:n.opacity;o&&B3(t,n,o)&&(Yu(t,n),t.stroke())}})}function utt(t,e,r,n){return t.isPointInStroke?B3(t,e,1)&&t.isPointInStroke(r,n):!1}var stt={type:"rule",tag:"line",nested:!1,attr:itt,bound:att,draw:ctt,pick:Ob(utt),isect:T3},ltt=Ww("shape",mZ),dtt=Ww("symbol",vZ,Lw);const QC=Xj();var Dn={height:So,measureWidth:Xw,estimateWidth:uy,width:uy,canvas:U3};U3(!0);function U3(t){Dn.width=t&&Gi?Xw:uy}function uy(t,e){return q3(ra(t,e),So(t))}function q3(t,e){return~~(.8*t.length*e)}function Xw(t,e){return So(t)<=0||!(e=ra(t,e))?0:W3(e,$b(t))}function W3(t,e){const r=`(${e}) ${t}`;let n=QC.get(r);return n===void 0&&(Gi.font=e,n=Gi.measureText(t).width,QC.set(r,n)),n}function So(t){return t.fontSize!=null?+t.fontSize||0:11}function ea(t){return t.lineHeight!=null?t.lineHeight:So(t)+2}function ftt(t){return L(t)?t.length>1?t:t[0]:t}function of(t){return ftt(t.lineBreak&&t.text&&!L(t.text)?t.text.split(t.lineBreak):t.text)}function Kw(t){const e=of(t);return(L(e)?e.length-1:0)*ea(t)}function ra(t,e){const r=e==null?"":(e+"").trim();return t.limit>0&&r.length?ptt(t,r):r}function htt(t){if(Dn.width===Xw){const e=$b(t);return r=>W3(r,e)}else{const e=So(t);return r=>q3(r,e)}}function ptt(t,e){var r=+t.limit,n=htt(t);if(n(e)<r)return e;var o=t.ellipsis||"…",i=t.dir==="rtl",a=0,c=e.length,u;if(r-=n(o),i){for(;a<c;)u=a+c>>>1,n(e.slice(u))>r?a=u+1:c=u;return o+e.slice(a)}else{for(;a<c;)u=1+(a+c>>>1),n(e.slice(0,u))<r?a=u:c=u-1;return e.slice(0,a)+o}}function af(t,e){var r=t.font;return(e&&r?String(r).replace(/"/g,"'"):r)||"sans-serif"}function $b(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+So(t)+"px "+af(t,e)}function Qw(t){var e=t.baseline,r=So(t);return Math.round(e==="top"?.79*r:e==="middle"?.3*r:e==="bottom"?-.21*r:e==="line-top"?.29*r+.5*ea(t):e==="line-bottom"?.29*r-.5*ea(t):0)}const gtt={left:"start",center:"middle",right:"end"},ql=new se;function Cb(t){var e=t.x||0,r=t.y||0,n=t.radius||0,o;return n&&(o=(t.theta||0)-Ga,e+=n*Math.cos(o),r+=n*Math.sin(o)),ql.x1=e,ql.y1=r,ql}function btt(t,e){var r=e.dx||0,n=(e.dy||0)+Qw(e),o=Cb(e),i=o.x1,a=o.y1,c=e.angle||0,u;t("text-anchor",gtt[e.align]||"start"),c?(u=ac(i,a)+" "+qw(c),(r||n)&&(u+=" "+ac(r,n))):u=ac(i+r,a+n),t("transform",u)}function Jw(t,e,r){var n=Dn.height(e),o=e.align,i=Cb(e),a=i.x1,c=i.y1,u=e.dx||0,s=(e.dy||0)+Qw(e)-Math.round(.8*n),l=of(e),d;if(L(l)?(n+=ea(e)*(l.length-1),d=l.reduce((f,h)=>Math.max(f,Dn.width(e,h)),0)):d=Dn.width(e,l),o==="center"?u-=d/2:o==="right"&&(u-=d),t.set(u+=a,s+=c,u+d,s+n),e.angle&&!r)t.rotate(e.angle*ta,a,c);else if(r===2)return t.rotatedPoints(e.angle*ta,a,c);return t}function mtt(t,e,r){Rn(e,n=>{var o=n.opacity==null?1:n.opacity,i,a,c,u,s,l,d;if(!(r&&!r.intersects(n.bounds)||o===0||n.fontSize<=0||n.text==null||n.text.length===0)){if(t.font=$b(n),t.textAlign=n.align||"left",i=Cb(n),a=i.x1,c=i.y1,n.angle&&(t.save(),t.translate(a,c),t.rotate(n.angle*ta),a=c=0),a+=n.dx||0,c+=(n.dy||0)+Qw(n),l=of(n),Yu(t,n),L(l))for(s=ea(n),u=0;u<l.length;++u)d=ra(n,l[u]),n.fill&&Op(t,n,o)&&t.fillText(d,a,c),n.stroke&&Vu(t,n,o)&&t.strokeText(d,a,c),c+=s;else d=ra(n,l),n.fill&&Op(t,n,o)&&t.fillText(d,a,c),n.stroke&&Vu(t,n,o)&&t.strokeText(d,a,c);n.angle&&t.restore()}})}function vtt(t,e,r,n,o,i){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=Cb(e),c=a.x1,u=a.y1,s=Jw(ql,e,1),l=-e.angle*ta,d=Math.cos(l),f=Math.sin(l),h=d*o-f*i+(c-d*c+f*u),p=f*o+d*i+(u-f*c-d*u);return s.contains(h,p)}function ytt(t,e){const r=Jw(ql,t,2);return vu(e,r[0],r[1],r[2],r[3])||vu(e,r[0],r[1],r[4],r[5])||vu(e,r[4],r[5],r[6],r[7])||vu(e,r[2],r[3],r[6],r[7])}var xtt={type:"text",tag:"text",nested:!1,attr:btt,bound:Jw,draw:mtt,pick:Ob(vtt),isect:ytt},wtt=Hw("trail",yZ,jZ),Vr={arc:PZ,area:TZ,group:YZ,image:QZ,line:JZ,path:ett,rect:ott,rule:stt,shape:ltt,symbol:dtt,text:xtt,trail:wtt};function sy(t,e,r){var n=Vr[t.mark.marktype],o=e||n.bound;return n.nested&&(t=t.mark),o(t.bounds||(t.bounds=new se),t,r)}var JC={mark:null};function H3(t,e,r){var n=Vr[t.marktype],o=n.bound,i=t.items,a=i&&i.length,c,u,s,l;if(n.nested)return a?s=i[0]:(JC.mark=t,s=JC),l=sy(s,o,r),e=e&&e.union(l)||l,e;if(e=e||t.bounds&&t.bounds.clear()||new se,a)for(c=0,u=i.length;c<u;++c)e.union(sy(i[c],o,r));return t.bounds=e}const ktt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function G3(t,e){return JSON.stringify(t,ktt,e)}function Y3(t){const e=typeof t=="string"?JSON.parse(t):t;return V3(e)}function V3(t){var e=t.marktype,r=t.items,n,o,i;if(r)for(o=0,i=r.length;o<i;++o)n=e?"mark":"group",r[o][n]=t,r[o].zindex&&(r[o][n].zdirty=!0),(e||n)==="group"&&V3(r[o]);return e&&H3(t),t}function Zw(t){arguments.length?this.root=Y3(t):(this.root=X3({marktype:"group",name:"root",role:"frame"}),this.root.items=[new kb(this.root)])}Zw.prototype={toJSON(t){return G3(this.root,t||0)},mark(t,e,r){e=e||this.root.items[0];const n=X3(t,e);return e.items[r]=n,n.zindex&&(n.group.zdirty=!0),n}};function X3(t,e){const r={bounds:new se,clip:!!t.clip,group:e,interactive:t.interactive!==!1,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return t.aria!=null&&(r.aria=t.aria),t.description&&(r.description=t.description),r}function Ti(t,e,r){return!t&&typeof document<"u"&&document.createElement&&(t=document),t?r?t.createElementNS(r,e):t.createElement(e):null}function tk(t,e){e=e.toLowerCase();for(var r=t.childNodes,n=0,o=r.length;n<o;++n)if(r[n].tagName.toLowerCase()===e)return r[n]}function kr(t,e,r,n){var o=t.childNodes[e],i;return(!o||o.tagName.toLowerCase()!==r.toLowerCase())&&(i=o||null,o=Ti(t.ownerDocument,r,n),t.insertBefore(o,i)),o}function On(t,e){for(var r=t.childNodes,n=r.length;n>e;)t.removeChild(r[--n]);return t}function K3(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function Ab(t,e){const r=e.getBoundingClientRect();return[t.clientX-r.left-(e.clientLeft||0),t.clientY-r.top-(e.clientTop||0)]}function _tt(t,e,r,n){var o=t&&t.mark,i,a;if(o&&(i=Vr[o.marktype]).tip){for(a=Ab(e,r),a[0]-=n[0],a[1]-=n[1];t=t.mark.group;)a[0]-=t.x||0,a[1]-=t.y||0;t=i.tip(o.items,a)}return t}function na(t,e){this._active=null,this._handlers={},this._loader=t||Vg(),this._tooltip=e||Ott}function Ott(t,e,r,n){t.element().setAttribute("title",n||"")}na.prototype={initialize(t,e,r){return this._el=t,this._obj=r||null,this.origin(e)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){return arguments.length?(this._scene=t,this):this._scene},on(){},off(){},_handlerIndex(t,e,r){for(let n=t?t.length:0;--n>=0;)if(t[n].type===e&&(!r||t[n].handler===r))return n;return-1},handlers(t){const e=this._handlers,r=[];if(t)r.push(...e[this.eventName(t)]);else for(const n in e)r.push(...e[n]);return r},eventName(t){const e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref(t,e,r){this._loader.sanitize(r,{context:"href"}).then(n=>{const o=new MouseEvent(t.type,t),i=Ti(null,"a");for(const a in n)i.setAttribute(a,n[a]);i.dispatchEvent(o)}).catch(()=>{})},handleTooltip(t,e,r){if(e&&e.tooltip!=null){e=_tt(e,t,this.canvas(),this._origin);const n=r&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,n)}},getItemBoundingClientRect(t){const e=this.canvas();if(!e)return;const r=e.getBoundingClientRect(),n=this._origin,o=t.bounds,i=o.width(),a=o.height();let c=o.x1+n[0]+r.left,u=o.y1+n[1]+r.top;for(;t.mark&&(t=t.mark.group);)c+=t.x||0,u+=t.y||0;return{x:c,y:u,width:i,height:a,left:c,top:u,right:c+i,bottom:u+a}}};function $o(t){this._el=null,this._bgcolor=null,this._loader=new zw(t)}$o.prototype={initialize(t,e,r,n,o){return this._el=t,this.resize(e,r,n,o)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)},resize(t,e,r,n){return this._width=t,this._height=e,this._origin=r||[0,0],this._scale=n||1,this},dirty(){},render(t){const e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render(){},renderAsync(t){const e=this.render(t);return this._ready?this._ready.then(()=>e):Promise.resolve(e)},_load(t,e){var r=this,n=r._loader[t](e);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(i=>{i&&o(),r._ready=null})}return n},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};const Ett="keydown",Stt="keypress",$tt="keyup",Q3="dragenter",Dh="dragleave",J3="dragover",ly="mousedown",Ctt="mouseup",Sp="mousemove",Wl="mouseout",Z3="mouseover",$p="click",Att="dblclick",Ptt="wheel",tz="mousewheel",Cp="touchstart",Ap="touchmove",Pp="touchend",Ntt=[Ett,Stt,$tt,Q3,Dh,J3,ly,Ctt,Sp,Wl,Z3,$p,Att,Ptt,tz,Cp,Ap,Pp],dy=Sp,bd=Wl,fy=$p;function cf(t,e){na.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}const Dtt=t=>t===Cp||t===Ap||t===Pp?[Cp,Ap,Pp]:[t];function ZC(t,e){Dtt(e).forEach(r=>jtt(t,r))}function jtt(t,e){const r=t.canvas();r&&!t._events[e]&&(t._events[e]=1,r.addEventListener(e,t[e]?n=>t[e](n):n=>t.fire(e,n)))}function tA(t,e,r){return function(n){const o=this._active,i=this.pickEvent(n);i===o?this.fire(t,n):((!o||!o.exit)&&this.fire(r,n),this._active=i,this.fire(e,n),this.fire(t,n))}}function eA(t){return function(e){this.fire(t,e),this._active=null}}X(cf,na,{initialize(t,e,r){return this._canvas=t&&tk(t,"canvas"),[$p,ly,Sp,Wl,Dh].forEach(n=>ZC(this,n)),na.prototype.initialize.call(this,t,e,r)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Ntt,DOMMouseScroll(t){this.fire(tz,t)},mousemove:tA(Sp,Z3,Wl),dragover:tA(J3,Q3,Dh),mouseout:eA(Wl),dragleave:eA(Dh),mousedown(t){this._down=this._active,this.fire(ly,t)},click(t){this._down===this._active&&(this.fire($p,t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Cp,t,!0)},touchmove(t){this.fire(Ap,t,!0)},touchend(t){this.fire(Pp,t,!0),this._touch=null},fire(t,e,r){const n=r?this._touch:this._active,o=this._handlers[t];if(e.vegaType=t,t===fy&&n&&n.href?this.handleHref(e,n,n.href):(t===dy||t===bd)&&this.handleTooltip(e,n,t!==bd),o)for(let i=0,a=o.length;i<a;++i)o[i].handler.call(this._obj,e,n)},on(t,e){const r=this.eventName(t),n=this._handlers;return this._handlerIndex(n[r],t,e)<0&&(ZC(this,t),(n[r]||(n[r]=[])).push({type:t,handler:e})),this},off(t,e){const r=this.eventName(t),n=this._handlers[r],o=this._handlerIndex(n,t,e);return o>=0&&n.splice(o,1),this},pickEvent(t){const e=Ab(t,this._canvas),r=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-r[0],e[1]-r[1])},pick(t,e,r,n,o){const i=this.context();return Vr[t.marktype].pick.call(this,i,t,e,r,n,o)}});function Ttt(){return typeof window<"u"&&window.devicePixelRatio||1}var Mtt=Ttt();function Ftt(t,e,r,n,o,i){const a=typeof HTMLElement<"u"&&t instanceof HTMLElement&&t.parentNode!=null,c=t.getContext("2d"),u=a?Mtt:o;t.width=e*u,t.height=r*u;for(const s in i)c[s]=i[s];return a&&u!==1&&(t.style.width=e+"px",t.style.height=r+"px"),c.pixelRatio=u,c.setTransform(u,0,0,u,u*n[0],u*n[1]),t}function Np(t){$o.call(this,t),this._options={},this._redraw=!1,this._dirty=new se,this._tempb=new se}const rA=$o.prototype,ztt=(t,e,r)=>new se().set(0,0,e,r).translate(-t[0],-t[1]);function Rtt(t,e,r){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-(r[0]%1),-(r[1]%1)),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}X(Np,$o,{initialize(t,e,r,n,o,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Hi(1,1,this._options.type),t&&this._canvas&&(On(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),rA.initialize.call(this,t,e,r,n,o)},resize(t,e,r,n){if(rA.resize.call(this,t,e,r,n),this._canvas)Ftt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||R("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const e=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)e.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(e)},_render(t){const e=this.context(),r=this._origin,n=this._width,o=this._height,i=this._dirty,a=ztt(r,n,o);e.save();const c=this._redraw||i.empty()?(this._redraw=!1,a.expand(1)):Rtt(e,a.intersect(i),r);return this.clear(-r[0],-r[1],n,o),this.draw(e,t,c),e.restore(),i.clear(),this},draw(t,e,r){const n=Vr[e.marktype];e.clip&&MZ(t,e),n.draw.call(this,t,e,r),e.clip&&t.restore()},clear(t,e,r,n){const o=this._options,i=this.context();o.type!=="pdf"&&!o.externalContext&&i.clearRect(t,e,r,n),this._bgcolor!=null&&(i.fillStyle=this._bgcolor,i.fillRect(t,e,r,n))}});function ek(t,e){na.call(this,t,e);const r=this;r._hrefHandler=hy(r,(n,o)=>{o&&o.href&&r.handleHref(n,o,o.href)}),r._tooltipHandler=hy(r,(n,o)=>{r.handleTooltip(n,o,n.type!==bd)})}const hy=(t,e)=>r=>{let n=r.target.__data__;n=Array.isArray(n)?n[0]:n,r.vegaType=r.type,e.call(t._obj,r,n)};X(ek,na,{initialize(t,e,r){let n=this._svg;return n&&(n.removeEventListener(fy,this._hrefHandler),n.removeEventListener(dy,this._tooltipHandler),n.removeEventListener(bd,this._tooltipHandler)),this._svg=n=t&&tk(t,"svg"),n&&(n.addEventListener(fy,this._hrefHandler),n.addEventListener(dy,this._tooltipHandler),n.addEventListener(bd,this._tooltipHandler)),na.prototype.initialize.call(this,t,e,r)},canvas(){return this._svg},on(t,e){const r=this.eventName(t),n=this._handlers;if(this._handlerIndex(n[r],t,e)<0){const i={type:t,handler:e,listener:hy(this,e)};(n[r]||(n[r]=[])).push(i),this._svg&&this._svg.addEventListener(r,i.listener)}return this},off(t,e){const r=this.eventName(t),n=this._handlers[r],o=this._handlerIndex(n,t,e);return o>=0&&(this._svg&&this._svg.removeEventListener(r,n[o].listener),n.splice(o,1)),this}});const ez="aria-hidden",rk="aria-label",nk="role",ok="aria-roledescription",rz="graphics-object",ik="graphics-symbol",nz=(t,e,r)=>({[nk]:t,[ok]:e,[rk]:r||void 0}),Ltt=Fn(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),nA={axis:{desc:"axis",caption:Utt},legend:{desc:"legend",caption:qtt},"title-text":{desc:"title",caption:t=>`Title text '${iA(t)}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${iA(t)}'`}},oA={ariaRole:nk,ariaRoleDescription:ok,description:rk};function oz(t,e){const r=e.aria===!1;if(t(ez,r||void 0),r||e.description==null)for(const n in oA)t(oA[n],void 0);else{const n=e.mark.marktype;t(rk,e.description),t(nk,e.ariaRole||(n==="group"?rz:ik)),t(ok,e.ariaRoleDescription||`${n} mark`)}}function iz(t){return t.aria===!1?{[ez]:!0}:Ltt[t.role]?null:nA[t.role]?Btt(t,nA[t.role]):Itt(t)}function Itt(t){const e=t.marktype,r=e==="group"||e==="text"||t.items.some(n=>n.description!=null&&n.aria!==!1);return nz(r?rz:ik,`${e} mark container`,t.description)}function Btt(t,e){try{const r=t.items[0],n=e.caption||(()=>"");return nz(e.role||ik,e.desc,r.description||n(r))}catch{return null}}function iA(t){return Z(t.text).join(" ")}function Utt(t){const e=t.datum,r=t.orient,n=e.title?az(t):null,o=t.context,i=o.scales[e.scale].value,a=o.dataflow.locale(),c=i.type;return`${r==="left"||r==="right"?"Y":"X"}-axis`+(n?` titled '${n}'`:"")+` for a ${Hu(c)?"discrete":c} scale with ${_3(a,i,t)}`}function qtt(t){const e=t.datum,r=e.title?az(t):null,n=`${e.type||""} legend`.trim(),o=e.scales,i=Object.keys(o),a=t.context,c=a.scales[o[i[0]]].value,u=a.dataflow.locale();return Htt(n)+(r?` titled '${r}'`:"")+` for ${Wtt(i)} with ${_3(u,c,t)}`}function az(t){try{return Z($t(t.items).items[0].text).join(" ")}catch{return null}}function Wtt(t){return t=t.map(e=>e+(e==="fill"||e==="stroke"?" color":"")),t.length<2?t[0]:t.slice(0,-1).join(", ")+" and "+$t(t)}function Htt(t){return t.length?t[0].toUpperCase()+t.slice(1):t}const cz=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Gtt=t=>cz(t).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function ak(){let t="",e="",r="";const n=[],o=()=>e=r="",i=u=>{e&&(t+=`${e}>${r}`,o()),n.push(u)},a=(u,s)=>(s!=null&&(e+=` ${u}="${Gtt(s)}"`),c),c={open(u){i(u),e="<"+u;for(var s=arguments.length,l=new Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];for(const f of l)for(const h in f)a(h,f[h]);return c},close(){const u=n.pop();return e?t+=e+(r?`>${r}</${u}>`:"/>"):t+=`</${u}>`,o(),c},attr:a,text:u=>(r+=cz(u),c),toString:()=>t};return c}const uz=t=>sz(ak(),t)+"";function sz(t,e){if(t.open(e.tagName),e.hasAttributes()){const r=e.attributes,n=r.length;for(let o=0;o<n;++o)t.attr(r[o].name,r[o].value)}if(e.hasChildNodes()){const r=e.childNodes;for(const n of r)n.nodeType===3?t.text(n.nodeValue):sz(t,n)}return t.close()}const Dp={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},jp={blend:"mix-blend-mode"},lz={fill:"none","stroke-miterlimit":10},nl=0,aA="http://www.w3.org/2000/xmlns/",de=gd.xmlns;function ck(t){$o.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const xv=$o.prototype;X(ck,$o,{initialize(t,e,r,n,o){return this._defs={},this._clearDefs(),t&&(this._svg=kr(t,0,"svg",de),this._svg.setAttributeNS(aA,"xmlns",de),this._svg.setAttributeNS(aA,"xmlns:xlink",gd["xmlns:xlink"]),this._svg.setAttribute("version",gd.version),this._svg.setAttribute("class","marks"),On(t,1),this._root=kr(this._svg,nl,"g",de),Mi(this._root,lz),On(this._svg,nl+1)),this.background(this._bgcolor),xv.initialize.call(this,t,e,r,n,o)},background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),xv.background.apply(this,arguments)},resize(t,e,r,n){return xv.resize.call(this,t,e,r,n),this._svg&&(Mi(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const t=this._svg,e=this._bgcolor;if(!t)return null;let r;e&&(t.removeAttribute("style"),r=kr(t,nl,"rect",de),Mi(r,{width:this._width,height:this._height,fill:e}));const n=uz(t);return e&&(t.removeChild(r),this._svg.style.setProperty("background-color",e)),n},_render(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),On(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const e=++this._dirtyID;let r,n,o,i,a,c,u;for(a=0,c=t.length;a<c;++a)if(r=t[a],n=r.mark,n.marktype!==o&&(o=n.marktype,i=Vr[o]),n.zdirty&&n.dirty!==e&&(this._dirtyAll=!1,cA(r,e),n.items.forEach(s=>{s.dirty=e})),!n.zdirty){if(r.exit){i.nested&&n.items.length?(u=n.items[0],u._svg&&this._update(i,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=i.nested?n.items[0]:r,r._update!==e&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,cA(r,e)):this._update(i,r._svg,r),r._update=e)}return!this._dirtyAll},mark(t,e,r){if(!this.isDirty(e))return e._svg;const n=this._svg,o=Vr[e.marktype],i=e.interactive===!1?"none":null,a=o.tag==="g",c=uA(e,t,r,"g",n);c.setAttribute("class",K3(e));const u=iz(e);for(const f in u)or(c,f,u[f]);a||or(c,"pointer-events",i),or(c,"clip-path",e.clip?Fw(this,e,e.group):null);let s=null,l=0;const d=f=>{const h=this.isDirty(f),p=uA(f,c,s,o.tag,n);h&&(this._update(o,p,f),a&&Xtt(this,p,f)),s=p,++l};return o.nested?e.items.length&&d(e.items[0]):Rn(e,d),On(c,l),c},_update(t,e,r){Qo=e,Ue=e.__values__,oz(Hl,r),t.attr(Hl,r,this);const n=Qtt[t.type];n&&n.call(this,t,e,r),Qo&&this.style(Qo,r)},style(t,e){if(e!=null){for(const r in Dp){let n=r==="font"?af(e):e[r];if(n===Ue[r])continue;const o=Dp[r];n==null?t.removeAttribute(o):(jw(n)&&(n=E3(n,this._defs.gradient,dz())),t.setAttribute(o,n+"")),Ue[r]=n}for(const r in jp)jh(t,jp[r],e[r])}},defs(){const t=this._svg,e=this._defs;let r=e.el,n=0;for(const o in e.gradient)r||(e.el=r=kr(t,nl+1,"defs",de)),n=Ytt(r,e.gradient[o],n);for(const o in e.clipping)r||(e.el=r=kr(t,nl+1,"defs",de)),n=Vtt(r,e.clipping[o],n);r&&(n===0?(t.removeChild(r),e.el=null):On(r,n))},_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}});function cA(t,e){for(;t&&t.dirty!==e;t=t.mark.group)if(t.dirty=e,t.mark&&t.mark.dirty!==e)t.mark.dirty=e;else return}function Ytt(t,e,r){let n,o,i;if(e.gradient==="radial"){let a=kr(t,r++,"pattern",de);Mi(a,{id:_p+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=kr(a,0,"rect",de),Mi(a,{width:1,height:1,fill:`url(${dz()}#${e.id})`}),t=kr(t,r++,"radialGradient",de),Mi(t,{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else t=kr(t,r++,"linearGradient",de),Mi(t,{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(n=0,o=e.stops.length;n<o;++n)i=kr(t,n,"stop",de),i.setAttribute("offset",e.stops[n].offset),i.setAttribute("stop-color",e.stops[n].color);return On(t,n),r}function Vtt(t,e,r){let n;return t=kr(t,r,"clipPath",de),t.setAttribute("id",e.id),e.path?(n=kr(t,0,"path",de),n.setAttribute("d",e.path)):(n=kr(t,0,"rect",de),Mi(n,{x:0,y:0,width:e.width,height:e.height})),On(t,1),r+1}function Xtt(t,e,r){e=e.lastChild.previousSibling;let n,o=0;Rn(r,i=>{n=t.mark(e,i,n),++o}),On(e,1+o)}function uA(t,e,r,n,o){let i=t._svg,a;if(!i&&(a=e.ownerDocument,i=Ti(a,n,de),t._svg=i,t.mark&&(i.__data__=t,i.__values__={fill:"default"},n==="g"))){const c=Ti(a,"path",de);i.appendChild(c),c.__data__=t;const u=Ti(a,"g",de);i.appendChild(u),u.__data__=t;const s=Ti(a,"path",de);i.appendChild(s),s.__data__=t,s.__values__={fill:"default"}}return(i.ownerSVGElement!==o||Ktt(i,r))&&e.insertBefore(i,r?r.nextSibling:e.firstChild),i}function Ktt(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}let Qo=null,Ue=null;const Qtt={group(t,e,r){const n=Qo=e.childNodes[2];Ue=n.__values__,t.foreground(Hl,r,this),Ue=e.__values__,Qo=e.childNodes[1],t.content(Hl,r,this);const o=Qo=e.childNodes[0];t.background(Hl,r,this);const i=r.mark.interactive===!1?"none":null;if(i!==Ue.events&&(or(n,"pointer-events",i),or(o,"pointer-events",i),Ue.events=i),r.strokeForeground&&r.stroke){const a=r.fill;or(n,"display",null),this.style(o,r),or(o,"stroke",null),a&&(r.fill=null),Ue=n.__values__,this.style(n,r),a&&(r.fill=a),Qo=null}else or(n,"display","none")},image(t,e,r){r.smooth===!1?(jh(e,"image-rendering","optimizeSpeed"),jh(e,"image-rendering","pixelated")):jh(e,"image-rendering",null)},text(t,e,r){const n=of(r);let o,i,a,c;L(n)?(i=n.map(u=>ra(r,u)),o=i.join(`
`),o!==Ue.text&&(On(e,0),a=e.ownerDocument,c=ea(r),i.forEach((u,s)=>{const l=Ti(a,"tspan",de);l.__data__=r,l.textContent=u,s&&(l.setAttribute("x",0),l.setAttribute("dy",c)),e.appendChild(l)}),Ue.text=o)):(i=ra(r,n),i!==Ue.text&&(e.textContent=i,Ue.text=i)),or(e,"font-family",af(r)),or(e,"font-size",So(r)+"px"),or(e,"font-style",r.fontStyle),or(e,"font-variant",r.fontVariant),or(e,"font-weight",r.fontWeight)}};function Hl(t,e,r){e!==Ue[t]&&(r?Jtt(Qo,t,e,r):or(Qo,t,e),Ue[t]=e)}function jh(t,e,r){r!==Ue[e]&&(r==null?t.style.removeProperty(e):t.style.setProperty(e,r+""),Ue[e]=r)}function Mi(t,e){for(const r in e)or(t,r,e[r])}function or(t,e,r){r!=null?t.setAttribute(e,r):t.removeAttribute(e)}function Jtt(t,e,r,n){r!=null?t.setAttributeNS(n,e,r):t.removeAttributeNS(n,e)}function dz(){let t;return typeof window>"u"?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function uk(t){$o.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}X(uk,$o,{svg(){return this._text},_render(t){const e=ak();e.open("svg",bt({},gd,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&e.open("rect",{width:this._width,height:this._height,fill:r}).close(),e.open("g",lz,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark(t,e){const r=Vr[e.marktype],n=r.tag,o=[oz,r.attr];t.open("g",{class:K3(e),"clip-path":e.clip?Fw(this,e,e.group):null},iz(e),{"pointer-events":n!=="g"&&e.interactive===!1?"none":null});const i=a=>{const c=this.href(a);if(c&&t.open("a",c),t.open(n,this.attr(e,a,o,n!=="g"?n:null)),n==="text"){const u=of(a);if(L(u)){const s={x:0,dy:ea(a)};for(let l=0;l<u.length;++l)t.open("tspan",l?s:null).text(ra(a,u[l])).close()}else t.text(ra(a,u))}else if(n==="g"){const u=a.strokeForeground,s=a.fill,l=a.stroke;u&&l&&(a.stroke=null),t.open("path",this.attr(e,a,r.background,"bgrect")).close(),t.open("g",this.attr(e,a,r.content)),Rn(a,d=>this.mark(t,d)),t.close(),u&&l?(s&&(a.fill=null),a.stroke=l,t.open("path",this.attr(e,a,r.foreground,"bgrect")).close(),s&&(a.fill=s)):t.open("path",this.attr(e,a,r.foreground,"bgfore")).close()}t.close(),c&&t.close()};return r.nested?e.items&&e.items.length&&i(e.items[0]):Rn(e,i),t.close()},href(t){const e=t.href;let r;if(e){if(r=this._hrefs&&this._hrefs[e])return r;this.sanitizeURL(e).then(n=>{n["xlink:href"]=n.href,n.href=null,(this._hrefs||(this._hrefs={}))[e]=n})}return null},attr(t,e,r,n){const o={},i=(a,c,u,s)=>{o[s||a]=c};return Array.isArray(r)?r.forEach(a=>a(i,e,this)):r(i,e,this),n&&Ztt(o,e,t,n,this._defs),o},defs(t){const e=this._defs.gradient,r=this._defs.clipping;if(Object.keys(e).length+Object.keys(r).length!==0){t.open("defs");for(const o in e){const i=e[o],a=i.stops;i.gradient==="radial"?(t.open("pattern",{id:_p+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):t.open("linearGradient",{id:o,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(let c=0;c<a.length;++c)t.open("stop",{offset:a[c].offset,"stop-color":a[c].color}).close();t.close()}for(const o in r){const i=r[o];t.open("clipPath",{id:o}),i.path?t.open("path",{d:i.path}).close():t.open("rect",{x:0,y:0,width:i.width,height:i.height}).close(),t.close()}t.close()}}});function Ztt(t,e,r,n,o){let i;if(e==null||(n==="bgrect"&&r.interactive===!1&&(t["pointer-events"]="none"),n==="bgfore"&&(r.interactive===!1&&(t["pointer-events"]="none"),t.display="none",e.fill!==null)))return t;n==="image"&&e.smooth===!1&&(i=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),n==="text"&&(t["font-family"]=af(e),t["font-size"]=So(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(const a in Dp){let c=e[a];const u=Dp[a];c==="transparent"&&(u==="fill"||u==="stroke")||c!=null&&(jw(c)&&(c=E3(c,o.gradient,"")),t[u]=c)}for(const a in jp){const c=e[a];c!=null&&(i=i||[],i.push(`${jp[a]}: ${c};`))}return i&&(t.style=i.join(" ")),t}const fz="canvas",hz="png",pz="svg",gz="none",Fi={Canvas:fz,PNG:hz,SVG:pz,None:gz},Xu={};Xu[fz]=Xu[hz]={renderer:Np,headless:Np,handler:cf};Xu[pz]={renderer:ck,headless:uk,handler:ek};Xu[gz]={};function Pb(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(Xu[t]=e,this):Xu[t]}function bz(t,e,r){const n=[],o=new se().union(e),i=t.marktype;return i?mz(t,o,r,n):i==="group"?vz(t,o,r,n):R("Intersect scene must be mark node or group item.")}function mz(t,e,r,n){if(tet(t,e,r)){const o=t.items,i=t.marktype,a=o.length;let c=0;if(i==="group")for(;c<a;++c)vz(o[c],e,r,n);else for(const u=Vr[i].isect;c<a;++c){const s=o[c];yz(s,e,u)&&n.push(s)}}return n}function tet(t,e,r){return t.bounds&&e.intersects(t.bounds)&&(t.marktype==="group"||t.interactive!==!1&&(!r||r(t)))}function vz(t,e,r,n){r&&r(t.mark)&&yz(t,e,Vr.group.isect)&&n.push(t);const o=t.items,i=o&&o.length;if(i){const a=t.x||0,c=t.y||0;e.translate(-a,-c);for(let u=0;u<i;++u)mz(o[u],e,r,n);e.translate(a,c)}return n}function yz(t,e,r){const n=t.bounds;return e.encloses(n)||e.intersects(n)&&r(t,e)}const wv=new se;function xz(t){const e=t.clip;if(mt(e))e(rf(wv.clear()));else if(e)wv.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(wv)}const eet=1e-9;function sk(t,e,r){return t===e?!0:r==="path"?wz(t,e):t instanceof Date&&e instanceof Date?+t==+e:Bt(t)&&Bt(e)?Math.abs(t-e)<=eet:!t||!e||!tt(t)&&!tt(e)?t==e:ret(t,e)}function wz(t,e){return sk(Gu(t),Gu(e))}function ret(t,e){var r=Object.keys(t),n=Object.keys(e),o,i;if(r.length!==n.length)return!1;for(r.sort(),n.sort(),i=r.length-1;i>=0;i--)if(r[i]!=n[i])return!1;for(i=r.length-1;i>=0;i--)if(o=r[i],!sk(t[o],e[o],o))return!1;return typeof t==typeof e}function net(){D3(),CJ()}const Ku="top",En="left",$n="right",oa="bottom",oet="top-left",iet="top-right",aet="bottom-left",cet="bottom-right",lk="start",py="middle",ir="end",uet="x",set="y",Nb="group",dk="axis",fk="title",det="frame",fet="scope",hk="legend",kz="row-header",_z="row-footer",Oz="row-title",Ez="column-header",Sz="column-footer",$z="column-title",het="padding",pet="symbol",Cz="fit",Az="fit-x",Pz="fit-y",get="pad",pk="none",Gf="all",gy="each",gk="flush",zi="column",Ri="row";function Nz(t){M.call(this,null,t)}X(Nz,M,{transform(t,e){const r=e.dataflow,n=t.mark,o=n.marktype,i=Vr[o],a=i.bound;let c=n.bounds,u;if(i.nested)n.items.length&&r.dirty(n.items[0]),c=Yf(n,a),n.items.forEach(s=>{s.bounds.clear().union(c)});else if(o===Nb||t.modified())switch(e.visit(e.MOD,s=>r.dirty(s)),c.clear(),n.items.forEach(s=>c.union(Yf(s,a))),n.role){case dk:case hk:case fk:e.reflow()}else u=e.changed(e.REM),e.visit(e.ADD,s=>{c.union(Yf(s,a))}),e.visit(e.MOD,s=>{u=u||c.alignsWith(s.bounds),r.dirty(s),c.union(Yf(s,a))}),u&&(c.clear(),n.items.forEach(s=>c.union(s.bounds)));return xz(n),e.modifies("bounds")}});function Yf(t,e,r){return e(t.bounds.clear(),t,r)}const sA=":vega_identifier:";function bk(t){M.call(this,0,t)}bk.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};X(bk,M,{transform(t,e){const r=bet(e.dataflow),n=t.as;let o=r.value;return e.visit(e.ADD,i=>i[n]=i[n]||++o),r.set(this.value=o),e}});function bet(t){return t._signals[sA]||(t._signals[sA]=t.add(0))}function Dz(t){M.call(this,null,t)}X(Dz,M,{transform(t,e){let r=this.value;r||(r=e.dataflow.scenegraph().mark(t.markdef,met(t),t.index),r.group.context=t.context,t.context.group||(t.context.group=r.group),r.source=this.source,r.clip=t.clip,r.interactive=t.interactive,this.value=r);const n=r.marktype===Nb?kb:wb;return e.visit(e.ADD,o=>n.call(o,r)),(t.modified("clip")||t.modified("interactive"))&&(r.clip=t.clip,r.interactive=!!t.interactive,r.zdirty=!0,e.reflow()),r.items=e.source,e}});function met(t){const e=t.groups,r=t.parent;return e&&e.size===1?e.get(Object.keys(e.object)[0]):e&&r?e.lookup(r):null}function jz(t){M.call(this,null,t)}const lA={parity:t=>t.filter((e,r)=>r%2?e.opacity=0:1),greedy:(t,e)=>{let r;return t.filter((n,o)=>!o||!Tz(r.bounds,n.bounds,e)?(r=n,1):n.opacity=0)}},Tz=(t,e,r)=>r>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2),dA=(t,e)=>{for(var r=1,n=t.length,o=t[0].bounds,i;r<n;o=i,++r)if(Tz(o,i=t[r].bounds,e))return!0},vet=t=>{const e=t.bounds;return e.width()>1&&e.height()>1},yet=(t,e,r)=>{var n=t.range(),o=new se;return e===Ku||e===oa?o.set(n[0],-1/0,n[1],1/0):o.set(-1/0,n[0],1/0,n[1]),o.expand(r||1),i=>o.encloses(i.bounds)},fA=t=>(t.forEach(e=>e.opacity=1),t),hA=(t,e)=>t.reflow(e.modified()).modifies("opacity");X(jz,M,{transform(t,e){const r=lA[t.method]||lA.parity,n=t.separation||0;let o=e.materialize(e.SOURCE).source,i,a;if(!o||!o.length)return;if(!t.method)return t.modified("method")&&(fA(o),e=hA(e,t)),e;if(o=o.filter(vet),!o.length)return;if(t.sort&&(o=o.slice().sort(t.sort)),i=fA(o),e=hA(e,t),i.length>=3&&dA(i,n)){do i=r(i,n);while(i.length>=3&&dA(i,n));i.length<3&&!$t(o).opacity&&(i.length>1&&($t(i).opacity=0),$t(o).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(a=yet(t.boundScale,t.boundOrient,+t.boundTolerance),o.forEach(u=>{a(u)||(u.opacity=0)}));const c=i[0].mark.bounds.clear();return o.forEach(u=>{u.opacity&&c.union(u.bounds)}),e}});function Mz(t){M.call(this,null,t)}X(Mz,M,{transform(t,e){const r=e.dataflow;if(e.visit(e.ALL,n=>r.dirty(n)),e.fields&&e.fields.zindex){const n=e.source&&e.source[0];n&&(n.mark.zdirty=!0)}}});const Be=new se;function yu(t,e,r){return t[e]===r?0:(t[e]=r,1)}function xet(t){var e=t.items[0].orient;return e===En||e===$n}function wet(t){let e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}function ket(t,e,r,n){var o=e.items[0],i=o.datum,a=o.translate!=null?o.translate:.5,c=o.orient,u=wet(i),s=o.range,l=o.offset,d=o.position,f=o.minExtent,h=o.maxExtent,p=i.title&&o.items[u[2]].items[0],g=o.titlePadding,b=o.bounds,m=p&&Kw(p),v=0,y=0,x,k;switch(Be.clear().union(b),b.clear(),(x=u[0])>-1&&b.union(o.items[x].bounds),(x=u[1])>-1&&b.union(o.items[x].bounds),c){case Ku:v=d||0,y=-l,k=Math.max(f,Math.min(h,-b.y1)),b.add(0,-k).add(s,0),p&&Vf(t,p,k,g,m,0,-1,b);break;case En:v=-l,y=d||0,k=Math.max(f,Math.min(h,-b.x1)),b.add(-k,0).add(0,s),p&&Vf(t,p,k,g,m,1,-1,b);break;case $n:v=r+l,y=d||0,k=Math.max(f,Math.min(h,b.x2)),b.add(0,0).add(k,s),p&&Vf(t,p,k,g,m,1,1,b);break;case oa:v=d||0,y=n+l,k=Math.max(f,Math.min(h,b.y2)),b.add(0,0).add(s,k),p&&Vf(t,p,k,g,0,0,1,b);break;default:v=o.x,y=o.y}return di(b.translate(v,y),o),yu(o,"x",v+a)|yu(o,"y",y+a)&&(o.bounds=Be,t.dirty(o),o.bounds=b,t.dirty(o)),o.mark.bounds.clear().union(b)}function Vf(t,e,r,n,o,i,a,c){const u=e.bounds;if(e.auto){const s=a*(r+o+n);let l=0,d=0;t.dirty(e),i?l=(e.x||0)-(e.x=s):d=(e.y||0)-(e.y=s),e.mark.bounds.clear().union(u.translate(-l,-d)),t.dirty(e)}c.union(u)}const pA=(t,e)=>Math.floor(Math.min(t,e)),gA=(t,e)=>Math.ceil(Math.max(t,e));function _et(t){var e=t.items,r=e.length,n=0,o,i;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;n<r;++n)if(o=e[n],i=o.items,o.marktype===Nb)switch(o.role){case dk:case hk:case fk:break;case kz:a.rowheaders.push(...i);break;case _z:a.rowfooters.push(...i);break;case Ez:a.colheaders.push(...i);break;case Sz:a.colfooters.push(...i);break;case Oz:a.rowtitle=i[0];break;case $z:a.coltitle=i[0];break;default:a.marks.push(...i)}return a}function Oet(t){return new se().set(0,0,t.width||0,t.height||0)}function Eet(t){const e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function Jt(t,e,r){const n=tt(t)?t[e]:t;return n??(r!==void 0?r:0)}function bA(t){return t<0?Math.ceil(-t):0}function Fz(t,e,r){var n=!r.nodirty,o=r.bounds===gk?Oet:Eet,i=Be.set(0,0,0,0),a=Jt(r.align,zi),c=Jt(r.align,Ri),u=Jt(r.padding,zi),s=Jt(r.padding,Ri),l=r.columns||e.length,d=l<=0?1:Math.ceil(e.length/l),f=e.length,h=Array(f),p=Array(l),g=0,b=Array(f),m=Array(d),v=0,y=Array(f),x=Array(f),k=Array(f),_,w,O,C,S,A,T,$,P,E,N;for(w=0;w<l;++w)p[w]=0;for(w=0;w<d;++w)m[w]=0;for(w=0;w<f;++w)A=e[w],S=k[w]=o(A),A.x=A.x||0,y[w]=0,A.y=A.y||0,x[w]=0,O=w%l,C=~~(w/l),g=Math.max(g,T=Math.ceil(S.x2)),v=Math.max(v,$=Math.ceil(S.y2)),p[O]=Math.max(p[O],T),m[C]=Math.max(m[C],$),h[w]=u+bA(S.x1),b[w]=s+bA(S.y1),n&&t.dirty(e[w]);for(w=0;w<f;++w)w%l===0&&(h[w]=0),w<l&&(b[w]=0);if(a===gy)for(O=1;O<l;++O){for(N=0,w=O;w<f;w+=l)N<h[w]&&(N=h[w]);for(w=O;w<f;w+=l)h[w]=N+p[O-1]}else if(a===Gf){for(N=0,w=0;w<f;++w)w%l&&N<h[w]&&(N=h[w]);for(w=0;w<f;++w)w%l&&(h[w]=N+g)}else for(a=!1,O=1;O<l;++O)for(w=O;w<f;w+=l)h[w]+=p[O-1];if(c===gy)for(C=1;C<d;++C){for(N=0,w=C*l,_=w+l;w<_;++w)N<b[w]&&(N=b[w]);for(w=C*l;w<_;++w)b[w]=N+m[C-1]}else if(c===Gf){for(N=0,w=l;w<f;++w)N<b[w]&&(N=b[w]);for(w=l;w<f;++w)b[w]=N+v}else for(c=!1,C=1;C<d;++C)for(w=C*l,_=w+l;w<_;++w)b[w]+=m[C-1];for(P=0,w=0;w<f;++w)P=h[w]+(w%l?P:0),y[w]+=P-e[w].x;for(O=0;O<l;++O)for(E=0,w=O;w<f;w+=l)E+=b[w],x[w]+=E-e[w].y;if(a&&Jt(r.center,zi)&&d>1)for(w=0;w<f;++w)S=a===Gf?g:p[w%l],P=S-k[w].x2-e[w].x-y[w],P>0&&(y[w]+=P/2);if(c&&Jt(r.center,Ri)&&l!==1)for(w=0;w<f;++w)S=c===Gf?v:m[~~(w/l)],E=S-k[w].y2-e[w].y-x[w],E>0&&(x[w]+=E/2);for(w=0;w<f;++w)i.union(k[w].translate(y[w],x[w]));switch(P=Jt(r.anchor,uet),E=Jt(r.anchor,set),Jt(r.anchor,zi)){case ir:P-=i.width();break;case py:P-=i.width()/2}switch(Jt(r.anchor,Ri)){case ir:E-=i.height();break;case py:E-=i.height()/2}for(P=Math.round(P),E=Math.round(E),i.clear(),w=0;w<f;++w)e[w].mark.bounds.clear();for(w=0;w<f;++w)A=e[w],A.x+=y[w]+=P,A.y+=x[w]+=E,i.union(A.mark.bounds.union(A.bounds.translate(y[w],x[w]))),n&&t.dirty(A);return i}function $et(t,e,r){var n=_et(e),o=n.marks,i=r.bounds===gk?Cet:Aet,a=r.offset,c=r.columns||o.length,u=c<=0?1:Math.ceil(o.length/c),s=u*c,l,d,f,h,p,g,b;const m=Fz(t,o,r);m.empty()&&m.set(0,0,0,0),n.rowheaders&&(g=Jt(r.headerBand,Ri,null),l=Xf(t,n.rowheaders,o,c,u,-Jt(a,"rowHeader"),pA,0,i,"x1",0,c,1,g)),n.colheaders&&(g=Jt(r.headerBand,zi,null),d=Xf(t,n.colheaders,o,c,c,-Jt(a,"columnHeader"),pA,1,i,"y1",0,1,c,g)),n.rowfooters&&(g=Jt(r.footerBand,Ri,null),f=Xf(t,n.rowfooters,o,c,u,Jt(a,"rowFooter"),gA,0,i,"x2",c-1,c,1,g)),n.colfooters&&(g=Jt(r.footerBand,zi,null),h=Xf(t,n.colfooters,o,c,c,Jt(a,"columnFooter"),gA,1,i,"y2",s-c,1,c,g)),n.rowtitle&&(p=Jt(r.titleAnchor,Ri),b=Jt(a,"rowTitle"),b=p===ir?f+b:l-b,g=Jt(r.titleBand,Ri,.5),mA(t,n.rowtitle,b,0,m,g)),n.coltitle&&(p=Jt(r.titleAnchor,zi),b=Jt(a,"columnTitle"),b=p===ir?h+b:d-b,g=Jt(r.titleBand,zi,.5),mA(t,n.coltitle,b,1,m,g))}function Cet(t,e){return e==="x1"?t.x||0:e==="y1"?t.y||0:e==="x2"?(t.x||0)+(t.width||0):e==="y2"?(t.y||0)+(t.height||0):void 0}function Aet(t,e){return t.bounds[e]}function Xf(t,e,r,n,o,i,a,c,u,s,l,d,f,h){var p=r.length,g=0,b=0,m,v,y,x,k,_,w,O,C;if(!p)return g;for(m=l;m<p;m+=d)r[m]&&(g=a(g,u(r[m],s)));if(!e.length)return g;for(e.length>o&&(t.warn("Grid headers exceed limit: "+o),e=e.slice(0,o)),g+=i,v=0,x=e.length;v<x;++v)t.dirty(e[v]),e[v].mark.bounds.clear();for(m=l,v=0,x=e.length;v<x;++v,m+=d){for(_=e[v],k=_.mark.bounds,y=m;y>=0&&(w=r[y])==null;y-=f);c?(O=h==null?w.x:Math.round(w.bounds.x1+h*w.bounds.width()),C=g):(O=g,C=h==null?w.y:Math.round(w.bounds.y1+h*w.bounds.height())),k.union(_.bounds.translate(O-(_.x||0),C-(_.y||0))),_.x=O,_.y=C,t.dirty(_),b=a(b,k[s])}return b}function mA(t,e,r,n,o,i){if(e){t.dirty(e);var a=r,c=r;n?a=Math.round(o.x1+i*o.width()):c=Math.round(o.y1+i*o.height()),e.bounds.translate(a-(e.x||0),c-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=c,t.dirty(e)}}function Pet(t,e){const r=t[e]||{};return(n,o)=>r[n]!=null?r[n]:t[n]!=null?t[n]:o}function Net(t,e){let r=-1/0;return t.forEach(n=>{n.offset!=null&&(r=Math.max(r,n.offset))}),r>-1/0?r:e}function Det(t,e,r,n,o,i,a){const c=Pet(r,e),u=Net(t,c("offset",0)),s=c("anchor",lk),l=s===ir?1:s===py?.5:0,d={align:gy,bounds:c("bounds",gk),columns:c("direction")==="vertical"?1:t.length,padding:c("margin",8),center:c("center"),nodirty:!0};switch(e){case En:d.anchor={x:Math.floor(n.x1)-u,column:ir,y:l*(a||n.height()+2*n.y1),row:s};break;case $n:d.anchor={x:Math.ceil(n.x2)+u,y:l*(a||n.height()+2*n.y1),row:s};break;case Ku:d.anchor={y:Math.floor(o.y1)-u,row:ir,x:l*(i||o.width()+2*o.x1),column:s};break;case oa:d.anchor={y:Math.ceil(o.y2)+u,x:l*(i||o.width()+2*o.x1),column:s};break;case oet:d.anchor={x:u,y:u};break;case iet:d.anchor={x:i-u,y:u,column:ir};break;case aet:d.anchor={x:u,y:a-u,row:ir};break;case cet:d.anchor={x:i-u,y:a-u,column:ir,row:ir};break}return d}function jet(t,e){var r=e.items[0],n=r.datum,o=r.orient,i=r.bounds,a=r.x,c=r.y,u,s;return r._bounds?r._bounds.clear().union(i):r._bounds=i.clone(),i.clear(),Met(t,r,r.items[0].items[0]),i=Tet(r,i),u=2*r.padding,s=2*r.padding,i.empty()||(u=Math.ceil(i.width()+u),s=Math.ceil(i.height()+s)),n.type===pet&&Fet(r.items[0].items[0].items[0].items),o!==pk&&(r.x=a=0,r.y=c=0),r.width=u,r.height=s,di(i.set(a,c,a+u,c+s),r),r.mark.bounds.clear().union(i),r}function Tet(t,e){return t.items.forEach(r=>e.union(r.bounds)),e.x1=t.padding,e.y1=t.padding,e}function Met(t,e,r){var n=e.padding,o=n-r.x,i=n-r.y;if(!e.datum.title)(o||i)&&ol(t,r,o,i);else{var a=e.items[1].items[0],c=a.anchor,u=e.titlePadding||0,s=n-a.x,l=n-a.y;switch(a.orient){case En:o+=Math.ceil(a.bounds.width())+u;break;case $n:case oa:break;default:i+=a.bounds.height()+u}switch((o||i)&&ol(t,r,o,i),a.orient){case En:l+=nu(e,r,a,c,1,1);break;case $n:s+=nu(e,r,a,ir,0,0)+u,l+=nu(e,r,a,c,1,1);break;case oa:s+=nu(e,r,a,c,0,0),l+=nu(e,r,a,ir,-1,0,1)+u;break;default:s+=nu(e,r,a,c,0,0)}(s||l)&&ol(t,a,s,l),(s=Math.round(a.bounds.x1-n))<0&&(ol(t,r,-s,0),ol(t,a,-s,0))}}function nu(t,e,r,n,o,i,a){const c=t.datum.type!=="symbol",u=r.datum.vgrad,s=c&&(i||!u)&&!a?e.items[0]:e,l=s.bounds[o?"y2":"x2"]-t.padding,d=u&&i?l:0,f=u&&i?0:l,h=o<=0?0:Kw(r);return Math.round(n===lk?d:n===ir?f-h:.5*(l-h))}function ol(t,e,r,n){e.x+=r,e.y+=n,e.bounds.translate(r,n),e.mark.bounds.translate(r,n),t.dirty(e)}function Fet(t){const e=t.reduce((r,n)=>(r[n.column]=Math.max(n.bounds.x2-n.x,r[n.column]||0),r),{});t.forEach(r=>{r.width=e[r.column],r.height=r.bounds.y2-r.y})}function zet(t,e,r,n,o){var i=e.items[0],a=i.frame,c=i.orient,u=i.anchor,s=i.offset,l=i.padding,d=i.items[0].items[0],f=i.items[1]&&i.items[1].items[0],h=c===En||c===$n?n:r,p=0,g=0,b=0,m=0,v=0,y;if(a!==Nb?c===En?(p=o.y2,h=o.y1):c===$n?(p=o.y1,h=o.y2):(p=o.x1,h=o.x2):c===En&&(p=n,h=0),y=u===lk?p:u===ir?h:(p+h)/2,f&&f.text){switch(c){case Ku:case oa:v=d.bounds.height()+l;break;case En:m=d.bounds.width()+l;break;case $n:m=-d.bounds.width()-l;break}Be.clear().union(f.bounds),Be.translate(m-(f.x||0),v-(f.y||0)),yu(f,"x",m)|yu(f,"y",v)&&(t.dirty(f),f.bounds.clear().union(Be),f.mark.bounds.clear().union(Be),t.dirty(f)),Be.clear().union(f.bounds)}else Be.clear();switch(Be.union(d.bounds),c){case Ku:g=y,b=o.y1-Be.height()-s;break;case En:g=o.x1-Be.width()-s,b=y;break;case $n:g=o.x2+Be.width()+s,b=y;break;case oa:g=y,b=o.y2+s;break;default:g=i.x,b=i.y}return yu(i,"x",g)|yu(i,"y",b)&&(Be.translate(g,b),t.dirty(i),i.bounds.clear().union(Be),e.bounds.clear().union(Be),t.dirty(i)),i.bounds}function zz(t){M.call(this,null,t)}X(zz,M,{transform(t,e){const r=e.dataflow;return t.mark.items.forEach(n=>{t.layout&&$et(r,n,t.layout),Let(r,n,t)}),Ret(t.mark.group)?e.reflow():e}});function Ret(t){return t&&t.mark.role!=="legend-entry"}function Let(t,e,r){var n=e.items,o=Math.max(0,e.width||0),i=Math.max(0,e.height||0),a=new se().set(0,0,o,i),c=a.clone(),u=a.clone(),s=[],l,d,f,h,p,g;for(p=0,g=n.length;p<g;++p)switch(d=n[p],d.role){case dk:h=xet(d)?c:u,h.union(ket(t,d,o,i));break;case fk:l=d;break;case hk:s.push(jet(t,d));break;case det:case fet:case kz:case _z:case Oz:case Ez:case Sz:case $z:c.union(d.bounds),u.union(d.bounds);break;default:a.union(d.bounds)}if(s.length){const b={};s.forEach(m=>{f=m.orient||$n,f!==pk&&(b[f]||(b[f]=[])).push(m)});for(const m in b){const v=b[m];Fz(t,v,Det(v,m,r.legends,c,u,o,i))}s.forEach(m=>{const v=m.bounds;if(v.equals(m._bounds)||(m.bounds=m._bounds,t.dirty(m),m.bounds=v,t.dirty(m)),r.autosize&&(r.autosize.type===Cz||r.autosize.type===Az||r.autosize.type===Pz))switch(m.orient){case En:case $n:a.add(v.x1,0).add(v.x2,0);break;case Ku:case oa:a.add(0,v.y1).add(0,v.y2)}else a.union(v)})}a.union(c).union(u),l&&a.union(zet(t,l,o,i,a)),e.clip&&a.set(0,0,e.width||0,e.height||0),Iet(t,e,a,r)}function Iet(t,e,r,n){const o=n.autosize||{},i=o.type;if(t._autosize<1||!i)return;let a=t._width,c=t._height,u=Math.max(0,e.width||0),s=Math.max(0,Math.ceil(-r.x1)),l=Math.max(0,e.height||0),d=Math.max(0,Math.ceil(-r.y1));const f=Math.max(0,Math.ceil(r.x2-u)),h=Math.max(0,Math.ceil(r.y2-l));if(o.contains===het){const p=t.padding();a-=p.left+p.right,c-=p.top+p.bottom}i===pk?(s=0,d=0,u=a,l=c):i===Cz?(u=Math.max(0,a-s-f),l=Math.max(0,c-d-h)):i===Az?(u=Math.max(0,a-s-f),c=l+d+h):i===Pz?(a=u+s+f,l=Math.max(0,c-d-h)):i===get&&(a=u+s+f,c=l+d+h),t._resizeView(a,c,u,l,[s,d],o.resize)}var Bet=Object.freeze({__proto__:null,bound:Nz,identifier:bk,mark:Dz,overlap:jz,render:Mz,viewlayout:zz});function Rz(t){M.call(this,null,t)}X(Rz,M,{transform(t,e){if(this.value&&!t.modified())return e.StopPropagation;var r=e.dataflow.locale(),n=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=this.value,i=t.scale,a=t.count==null?t.values?t.values.length:10:t.count,c=Nw(i,a,t.minstep),u=t.format||v3(r,i,c,t.formatSpecifier,t.formatType,!!t.values),s=t.values?m3(i,t.values,c):Dw(i,c);return o&&(n.rem=o),o=s.map((l,d)=>Ft({index:d/(s.length-1||1),value:l,label:u(l)})),t.extra&&o.length&&o.push(Ft({index:-1,extra:{value:o[0].value},label:""})),n.source=o,n.add=o,this.value=o,n}});function Lz(t){M.call(this,null,t)}function Uet(){return Ft({})}function qet(t){const e=xs().test(r=>r.exit);return e.lookup=r=>e.get(t(r)),e}X(Lz,M,{transform(t,e){var r=e.dataflow,n=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=t.item||Uet,i=t.key||ut,a=this.value;return L(n.encode)&&(n.encode=null),a&&(t.modified("key")||e.modified(i))&&R("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=qet(i)),e.visit(e.ADD,c=>{const u=i(c);let s=a.get(u);s?s.exit?(a.empty--,n.add.push(s)):n.mod.push(s):(s=o(c),a.set(u,s),n.add.push(s)),s.datum=c,s.exit=!1}),e.visit(e.MOD,c=>{const u=i(c),s=a.get(u);s&&(s.datum=c,n.mod.push(s))}),e.visit(e.REM,c=>{const u=i(c),s=a.get(u);c===s.datum&&!s.exit&&(n.rem.push(s),s.exit=!0,++a.empty)}),e.changed(e.ADD_MOD)&&n.modifies("datum"),(e.clean()||t.clean&&a.empty>r.cleanThreshold)&&r.runAfter(a.clean),n}});function Iz(t){M.call(this,null,t)}X(Iz,M,{transform(t,e){var r=e.fork(e.ADD_REM),n=t.mod||!1,o=t.encoders,i=e.encode;if(L(i))if(r.changed()||i.every(d=>o[d]))i=i[0],r.encode=null;else return e.StopPropagation;var a=i==="enter",c=o.update||_i,u=o.enter||_i,s=o.exit||_i,l=(i&&!a?o[i]:c)||_i;if(e.changed(e.ADD)&&(e.visit(e.ADD,d=>{u(d,t),c(d,t)}),r.modifies(u.output),r.modifies(c.output),l!==_i&&l!==c&&(e.visit(e.ADD,d=>{l(d,t)}),r.modifies(l.output))),e.changed(e.REM)&&s!==_i&&(e.visit(e.REM,d=>{s(d,t)}),r.modifies(s.output)),a||l!==_i){const d=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(d,f=>{const h=u(f,t)||n;(l(f,t)||h)&&r.mod.push(f)}),r.mod.length&&r.modifies(u.output)):e.visit(d,f=>{(l(f,t)||n)&&r.mod.push(f)}),r.mod.length&&r.modifies(l.output)}return r.changed()?r:e.StopPropagation}});function Bz(t){M.call(this,[],t)}X(Bz,M,{transform(t,e){if(this.value!=null&&!t.modified())return e.StopPropagation;var r=e.dataflow.locale(),n=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=this.value,i=t.type||Sh,a=t.scale,c=+t.limit,u=Nw(a,t.count==null?5:t.count,t.minstep),s=!!t.values||i===Sh,l=t.format||k3(r,a,u,i,t.formatSpecifier,t.formatType,s),d=t.values||w3(a,u),f,h,p,g,b;return o&&(n.rem=o),i===Sh?(c&&d.length>c?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),o=d.slice(0,c-1),b=!0):o=d,mt(p=t.size)?(!t.values&&a(o[0])===0&&(o=o.slice(1)),g=o.reduce((m,v)=>Math.max(m,p(v,t)),0)):p=tr(g=p||8),o=o.map((m,v)=>Ft({index:v,label:l(m,v,o),value:m,offset:g,size:p(m,t)})),b&&(b=d[o.length],o.push(Ft({index:o.length,label:`…${d.length-o.length} entries`,value:b,offset:g,size:p(b,t)})))):i===gJ?(f=a.domain(),h=p3(a,f[0],$t(f)),d.length<3&&!t.values&&f[0]!==$t(f)&&(d=[f[0],$t(f)]),o=d.map((m,v)=>Ft({index:v,label:l(m,v,d),value:m,perc:h(m)}))):(p=d.length-1,h=SJ(a),o=d.map((m,v)=>Ft({index:v,label:l(m,v,d),value:m,perc:v?h(m):0,perc2:v===p?1:h(d[v+1])}))),n.source=o,n.add=o,this.value=o,n}});const Wet=t=>t.source.x,Het=t=>t.source.y,Get=t=>t.target.x,Yet=t=>t.target.y;function mk(t){M.call(this,{},t)}mk.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};X(mk,M,{transform(t,e){var r=t.sourceX||Wet,n=t.sourceY||Het,o=t.targetX||Get,i=t.targetY||Yet,a=t.as||"path",c=t.orient||"vertical",u=t.shape||"line",s=vA.get(u+"-"+c)||vA.get(u);return s||R("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,l=>{l[a]=s(r(l),n(l),o(l),i(l))}),e.reflow(t.modified()).modifies(a)}});const Uz=(t,e,r,n)=>"M"+t+","+e+"L"+r+","+n,Vet=(t,e,r,n)=>Uz(e*Math.cos(t),e*Math.sin(t),n*Math.cos(r),n*Math.sin(r)),qz=(t,e,r,n)=>{var o=r-t,i=n-e,a=Math.hypot(o,i)/2,c=180*Math.atan2(i,o)/Math.PI;return"M"+t+","+e+"A"+a+","+a+" "+c+" 0 1 "+r+","+n},Xet=(t,e,r,n)=>qz(e*Math.cos(t),e*Math.sin(t),n*Math.cos(r),n*Math.sin(r)),Wz=(t,e,r,n)=>{const o=r-t,i=n-e,a=.2*(o+i),c=.2*(i-o);return"M"+t+","+e+"C"+(t+a)+","+(e+c)+" "+(r+c)+","+(n-a)+" "+r+","+n},Ket=(t,e,r,n)=>Wz(e*Math.cos(t),e*Math.sin(t),n*Math.cos(r),n*Math.sin(r)),Qet=(t,e,r,n)=>"M"+t+","+e+"V"+n+"H"+r,Jet=(t,e,r,n)=>"M"+t+","+e+"H"+r+"V"+n,Zet=(t,e,r,n)=>{const o=Math.cos(t),i=Math.sin(t),a=Math.cos(r),c=Math.sin(r),u=Math.abs(r-t)>Math.PI?r<=t:r>t;return"M"+e*o+","+e*i+"A"+e+","+e+" 0 0,"+(u?1:0)+" "+e*a+","+e*c+"L"+n*a+","+n*c},trt=(t,e,r,n)=>{const o=(t+r)/2;return"M"+t+","+e+"C"+o+","+e+" "+o+","+n+" "+r+","+n},ert=(t,e,r,n)=>{const o=(e+n)/2;return"M"+t+","+e+"C"+t+","+o+" "+r+","+o+" "+r+","+n},rrt=(t,e,r,n)=>{const o=Math.cos(t),i=Math.sin(t),a=Math.cos(r),c=Math.sin(r),u=(e+n)/2;return"M"+e*o+","+e*i+"C"+u*o+","+u*i+" "+u*a+","+u*c+" "+n*a+","+n*c},vA=xs({line:Uz,"line-radial":Vet,arc:qz,"arc-radial":Xet,curve:Wz,"curve-radial":Ket,"orthogonal-horizontal":Qet,"orthogonal-vertical":Jet,"orthogonal-radial":Zet,"diagonal-horizontal":trt,"diagonal-vertical":ert,"diagonal-radial":rrt});function vk(t){M.call(this,null,t)}vk.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};X(vk,M,{transform(t,e){var r=t.as||["startAngle","endAngle"],n=r[0],o=r[1],i=t.field||ms,a=t.startAngle||0,c=t.endAngle!=null?t.endAngle:2*Math.PI,u=e.source,s=u.map(i),l=s.length,d=a,f=(c-a)/dT(s),h=Wr(l),p,g,b;for(t.sort&&h.sort((m,v)=>s[m]-s[v]),p=0;p<l;++p)b=s[h[p]],g=u[h[p]],g[n]=d,g[o]=d+=b*f;return this.value=s,e.reflow(t.modified()).modifies(r)}});const nrt=5;function ort(t){const e=t.type;return!t.bins&&(e===qu||e===Xd||e===Kd)}function Hz(t){return Cw(t)&&t!==lo}const irt=Fn(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Gz(t){M.call(this,null,t),this.modified(!0)}X(Gz,M,{transform(t,e){var r=e.dataflow,n=this.value,o=art(t);(!n||o!==n.type)&&(this.value=n=jt(o)());for(o in t)if(!irt[o]){if(o==="padding"&&Hz(n.type))continue;mt(n[o])?n[o](t[o]):r.warn("Unsupported scale property: "+o)}return frt(n,t,drt(n,t,urt(n,t,r))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function art(t){var e=t.type,r="",n;return e===lo?lo+"-"+qu:(crt(t)&&(n=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,r=n===2?lo+"-":n===3?$s+"-":""),(r+e||qu).toLowerCase())}function crt(t){const e=t.type;return Cw(e)&&e!==pc&&e!==gc&&(t.scheme||t.range&&t.range.length&&t.range.every(J))}function urt(t,e,r){const n=srt(t,e.domainRaw,r);if(n>-1)return n;var o=e.domain,i=t.type,a=e.zero||e.zero===void 0&&ort(t),c,u;if(!o)return 0;if(Hz(i)&&e.padding&&o[0]!==$t(o)&&(o=lrt(i,o,e.range,e.padding,e.exponent,e.constant)),(a||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(c=(o=o.slice()).length-1||1,a&&(o[0]>0&&(o[0]=0),o[c]<0&&(o[c]=0)),e.domainMin!=null&&(o[0]=e.domainMin),e.domainMax!=null&&(o[c]=e.domainMax),e.domainMid!=null)){u=e.domainMid;const s=u>o[c]?c+1:u<o[0]?0:c;s!==c&&r.warn("Scale domainMid exceeds domain min or max.",u),o.splice(s,0,u)}return t.domain(Yz(i,o,r)),i===Ow&&t.unknown(e.domainImplicit?V0:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&Nw(t,e.nice)||null),o.length}function srt(t,e,r){return e?(t.domain(Yz(t.type,e,r)),e.length):-1}function lrt(t,e,r,n,o,i){var a=Math.abs($t(r)-r[0]),c=a/(a-2*n),u=t===ci?G1(e,null,c):t===Kd?op(e,null,c,.5):t===Xd?op(e,null,c,o||1):t===bb?Y1(e,null,c,i||1):H1(e,null,c);return e=e.slice(),e[0]=u[0],e[e.length-1]=u[1],e}function Yz(t,e,r){if(s3(t)){var n=Math.abs(e.reduce((o,i)=>o+(i<0?-1:i>0?1:0),0));n!==e.length&&r.warn("Log scale domain includes zero: "+V(e))}return e}function drt(t,e,r){let n=e.bins;if(n&&!L(n)){const o=t.domain(),i=o[0],a=$t(o),c=n.step;let u=n.start==null?i:n.start,s=n.stop==null?a:n.stop;c||R("Scale bins parameter missing step property."),u<i&&(u=c*Math.ceil(i/c)),s>a&&(s=c*Math.floor(a/c)),n=Wr(u,s+c/2,c)}return n?t.bins=n:t.bins&&delete t.bins,t.type===Ew&&(n?!e.domain&&!e.domainRaw&&(t.domain(n),r=n.length):t.bins=t.domain()),r}function frt(t,e,r){var n=t.type,o=e.round||!1,i=e.range;if(e.rangeStep!=null)i=hrt(n,e,r);else if(e.scheme&&(i=prt(n,e,r),mt(i))){if(t.interpolator)return t.interpolator(i);R(`Scale type ${n} does not support interpolating color schemes.`)}if(i&&l3(n))return t.interpolator(yb(by(i,e.reverse),e.interpolate,e.interpolateGamma));i&&e.interpolate&&t.interpolate?t.interpolate(Aw(e.interpolate,e.interpolateGamma)):mt(t.round)?t.round(o):mt(t.rangeRound)&&t.interpolate(o?Yd:ga),i&&t.range(by(i,e.reverse))}function hrt(t,e,r){t!==n3&&t!==ey&&R("Only band and point scales support rangeStep.");var n=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,o=t===ey?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*_w(r,o,n)]}function prt(t,e,r){var n=e.schemeExtent,o,i;return L(e.scheme)?i=yb(e.scheme,e.interpolate,e.interpolateGamma):(o=e.scheme.toLowerCase(),i=Pw(o),i||R(`Unrecognized scheme name: ${e.scheme}`)),r=t===vb?r+1:t===Ew?r-1:t===Wu||t===mb?+e.schemeCount||nrt:r,l3(t)?yA(i,n,e.reverse):mt(i)?h3(yA(i,n),r):t===Ow?i:i.slice(0,r)}function yA(t,e,r){return mt(t)&&(e||r)?f3(t,by(e||[0,1],r)):t}function by(t,e){return e?t.slice().reverse():t}function Vz(t){M.call(this,null,t)}X(Vz,M,{transform(t,e){const r=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return r&&e.source.sort(Fc(t.sort)),this.modified(r),e}});const xA="zero",Xz="center",Kz="normalize",Qz=["y0","y1"];function yk(t){M.call(this,null,t)}yk.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:xA,values:[xA,Xz,Kz]},{name:"as",type:"string",array:!0,length:2,default:Qz}]};X(yk,M,{transform(t,e){var r=t.as||Qz,n=r[0],o=r[1],i=Fc(t.sort),a=t.field||ms,c=t.offset===Xz?grt:t.offset===Kz?brt:mrt,u,s,l,d;for(u=vrt(e.source,t.groupby,i,a),s=0,l=u.length,d=u.max;s<l;++s)c(u[s],d,a,n,o);return e.reflow(t.modified()).modifies(r)}});function grt(t,e,r,n,o){for(var i=(e-t.sum)/2,a=t.length,c=0,u;c<a;++c)u=t[c],u[n]=i,u[o]=i+=Math.abs(r(u))}function brt(t,e,r,n,o){for(var i=1/t.sum,a=0,c=t.length,u=0,s=0,l;u<c;++u)l=t[u],l[n]=a,l[o]=a=i*(s+=Math.abs(r(l)))}function mrt(t,e,r,n,o){for(var i=0,a=0,c=t.length,u=0,s,l;u<c;++u)l=t[u],s=+r(l),s<0?(l[n]=a,l[o]=a+=s):(l[n]=i,l[o]=i+=s)}function vrt(t,e,r,n){var o=[],i=g=>g(l),a,c,u,s,l,d,f,h,p;if(e==null)o.push(t.slice());else for(a={},c=0,u=t.length;c<u;++c)l=t[c],d=e.map(i),f=a[d],f||(a[d]=f=[],o.push(f)),f.push(l);for(d=0,p=0,s=o.length;d<s;++d){for(f=o[d],c=0,h=0,u=f.length;c<u;++c)h+=Math.abs(n(f[c]));f.sum=h,h>p&&(p=h),r&&f.sort(r)}return o.max=p,o}var yrt=Object.freeze({__proto__:null,axisticks:Rz,datajoin:Lz,encode:Iz,legendentries:Bz,linkpath:mk,pie:vk,scale:Gz,sortitems:Vz,stack:yk}),dt=1e-6,Tp=1e-12,wt=Math.PI,ie=wt/2,Mp=wt/4,hr=wt*2,ce=180/wt,yt=wt/180,St=Math.abs,As=Math.atan,sn=Math.atan2,ft=Math.cos,Kf=Math.ceil,Jz=Math.exp,my=Math.hypot,Fp=Math.log,kv=Math.pow,st=Math.sin,tn=Math.sign||function(t){return t>0?1:t<0?-1:0},pr=Math.sqrt,xk=Math.tan;function Zz(t){return t>1?0:t<-1?wt:Math.acos(t)}function jr(t){return t>1?ie:t<-1?-ie:Math.asin(t)}function Ne(){}function zp(t,e){t&&kA.hasOwnProperty(t.type)&&kA[t.type](t,e)}var wA={Feature:function(t,e){zp(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)zp(r[n].geometry,e)}},kA={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){vy(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)vy(r[n],e,0)},Polygon:function(t,e){_A(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)_A(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)zp(r[n],e)}};function vy(t,e,r){var n=-1,o=t.length-r,i;for(e.lineStart();++n<o;)i=t[n],e.point(i[0],i[1],i[2]);e.lineEnd()}function _A(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)vy(t[r],e,1);e.polygonEnd()}function Go(t,e){t&&wA.hasOwnProperty(t.type)?wA[t.type](t,e):zp(t,e)}var Rp=new dr,Lp=new dr,tR,eR,yy,xy,wy,yo={point:Ne,lineStart:Ne,lineEnd:Ne,polygonStart:function(){Rp=new dr,yo.lineStart=xrt,yo.lineEnd=wrt},polygonEnd:function(){var t=+Rp;Lp.add(t<0?hr+t:t),this.lineStart=this.lineEnd=this.point=Ne},sphere:function(){Lp.add(hr)}};function xrt(){yo.point=krt}function wrt(){rR(tR,eR)}function krt(t,e){yo.point=rR,tR=t,eR=e,t*=yt,e*=yt,yy=t,xy=ft(e=e/2+Mp),wy=st(e)}function rR(t,e){t*=yt,e*=yt,e=e/2+Mp;var r=t-yy,n=r>=0?1:-1,o=n*r,i=ft(e),a=st(e),c=wy*a,u=xy*i+c*ft(o),s=c*n*st(o);Rp.add(sn(s,u)),yy=t,xy=i,wy=a}function _rt(t){return Lp=new dr,Go(t,yo),Lp*2}function Ip(t){return[sn(t[1],t[0]),jr(t[2])]}function bc(t){var e=t[0],r=t[1],n=ft(r);return[n*ft(e),n*st(e),st(r)]}function Qf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _v(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Jf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Bp(t){var e=pr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ee,xr,re,Br,Wa,nR,oR,$u,Gl,Ci,ui,qo={point:ky,lineStart:OA,lineEnd:EA,polygonStart:function(){qo.point=aR,qo.lineStart=Ort,qo.lineEnd=Ert,Gl=new dr,yo.polygonStart()},polygonEnd:function(){yo.polygonEnd(),qo.point=ky,qo.lineStart=OA,qo.lineEnd=EA,Rp<0?(ee=-(re=180),xr=-(Br=90)):Gl>dt?Br=90:Gl<-dt&&(xr=-90),ui[0]=ee,ui[1]=re},sphere:function(){ee=-(re=180),xr=-(Br=90)}};function ky(t,e){Ci.push(ui=[ee=t,re=t]),e<xr&&(xr=e),e>Br&&(Br=e)}function iR(t,e){var r=bc([t*yt,e*yt]);if($u){var n=Qu($u,r),o=[n[1],-n[0],0],i=Qu(o,n);Bp(i),i=Ip(i);var a=t-Wa,c=a>0?1:-1,u=i[0]*ce*c,s,l=St(a)>180;l^(c*Wa<u&&u<c*t)?(s=i[1]*ce,s>Br&&(Br=s)):(u=(u+360)%360-180,l^(c*Wa<u&&u<c*t)?(s=-i[1]*ce,s<xr&&(xr=s)):(e<xr&&(xr=e),e>Br&&(Br=e))),l?t<Wa?Ir(ee,t)>Ir(ee,re)&&(re=t):Ir(t,re)>Ir(ee,re)&&(ee=t):re>=ee?(t<ee&&(ee=t),t>re&&(re=t)):t>Wa?Ir(ee,t)>Ir(ee,re)&&(re=t):Ir(t,re)>Ir(ee,re)&&(ee=t)}else Ci.push(ui=[ee=t,re=t]);e<xr&&(xr=e),e>Br&&(Br=e),$u=r,Wa=t}function OA(){qo.point=iR}function EA(){ui[0]=ee,ui[1]=re,qo.point=ky,$u=null}function aR(t,e){if($u){var r=t-Wa;Gl.add(St(r)>180?r+(r>0?360:-360):r)}else nR=t,oR=e;yo.point(t,e),iR(t,e)}function Ort(){yo.lineStart()}function Ert(){aR(nR,oR),yo.lineEnd(),St(Gl)>dt&&(ee=-(re=180)),ui[0]=ee,ui[1]=re,$u=null}function Ir(t,e){return(e-=t)<0?e+360:e}function Srt(t,e){return t[0]-e[0]}function SA(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function $rt(t){var e,r,n,o,i,a,c;if(Br=re=-(ee=xr=1/0),Ci=[],Go(t,qo),r=Ci.length){for(Ci.sort(Srt),e=1,n=Ci[0],i=[n];e<r;++e)o=Ci[e],SA(n,o[0])||SA(n,o[1])?(Ir(n[0],o[1])>Ir(n[0],n[1])&&(n[1]=o[1]),Ir(o[0],n[1])>Ir(n[0],n[1])&&(n[0]=o[0])):i.push(n=o);for(a=-1/0,r=i.length-1,e=0,n=i[r];e<=r;n=o,++e)o=i[e],(c=Ir(n[1],o[0]))>a&&(a=c,ee=o[0],re=n[1])}return Ci=ui=null,ee===1/0||xr===1/0?[[NaN,NaN],[NaN,NaN]]:[[ee,xr],[re,Br]]}var $l,Up,qp,Wp,Hp,Gp,Yp,Vp,_y,Oy,Ey,cR,uR,ar,cr,ur,Cn={sphere:Ne,point:wk,lineStart:$A,lineEnd:CA,polygonStart:function(){Cn.lineStart=Prt,Cn.lineEnd=Nrt},polygonEnd:function(){Cn.lineStart=$A,Cn.lineEnd=CA}};function wk(t,e){t*=yt,e*=yt;var r=ft(e);uf(r*ft(t),r*st(t),st(e))}function uf(t,e,r){++$l,qp+=(t-qp)/$l,Wp+=(e-Wp)/$l,Hp+=(r-Hp)/$l}function $A(){Cn.point=Crt}function Crt(t,e){t*=yt,e*=yt;var r=ft(e);ar=r*ft(t),cr=r*st(t),ur=st(e),Cn.point=Art,uf(ar,cr,ur)}function Art(t,e){t*=yt,e*=yt;var r=ft(e),n=r*ft(t),o=r*st(t),i=st(e),a=sn(pr((a=cr*i-ur*o)*a+(a=ur*n-ar*i)*a+(a=ar*o-cr*n)*a),ar*n+cr*o+ur*i);Up+=a,Gp+=a*(ar+(ar=n)),Yp+=a*(cr+(cr=o)),Vp+=a*(ur+(ur=i)),uf(ar,cr,ur)}function CA(){Cn.point=wk}function Prt(){Cn.point=Drt}function Nrt(){sR(cR,uR),Cn.point=wk}function Drt(t,e){cR=t,uR=e,t*=yt,e*=yt,Cn.point=sR;var r=ft(e);ar=r*ft(t),cr=r*st(t),ur=st(e),uf(ar,cr,ur)}function sR(t,e){t*=yt,e*=yt;var r=ft(e),n=r*ft(t),o=r*st(t),i=st(e),a=cr*i-ur*o,c=ur*n-ar*i,u=ar*o-cr*n,s=my(a,c,u),l=jr(s),d=s&&-l/s;_y.add(d*a),Oy.add(d*c),Ey.add(d*u),Up+=l,Gp+=l*(ar+(ar=n)),Yp+=l*(cr+(cr=o)),Vp+=l*(ur+(ur=i)),uf(ar,cr,ur)}function jrt(t){$l=Up=qp=Wp=Hp=Gp=Yp=Vp=0,_y=new dr,Oy=new dr,Ey=new dr,Go(t,Cn);var e=+_y,r=+Oy,n=+Ey,o=my(e,r,n);return o<Tp&&(e=Gp,r=Yp,n=Vp,Up<dt&&(e=qp,r=Wp,n=Hp),o=my(e,r,n),o<Tp)?[NaN,NaN]:[sn(r,e)*ce,jr(n/o)*ce]}function Sy(t,e){function r(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),r}function $y(t,e){return St(t)>wt&&(t-=Math.round(t/hr)*hr),[t,e]}$y.invert=$y;function lR(t,e,r){return(t%=hr)?e||r?Sy(PA(t),NA(e,r)):PA(t):e||r?NA(e,r):$y}function AA(t){return function(e,r){return e+=t,St(e)>wt&&(e-=Math.round(e/hr)*hr),[e,r]}}function PA(t){var e=AA(t);return e.invert=AA(-t),e}function NA(t,e){var r=ft(t),n=st(t),o=ft(e),i=st(e);function a(c,u){var s=ft(u),l=ft(c)*s,d=st(c)*s,f=st(u),h=f*r+l*n;return[sn(d*o-h*i,l*r-f*n),jr(h*o+d*i)]}return a.invert=function(c,u){var s=ft(u),l=ft(c)*s,d=st(c)*s,f=st(u),h=f*o-d*i;return[sn(d*o+f*i,l*r+h*n),jr(h*r-l*n)]},a}function Trt(t){t=lR(t[0]*yt,t[1]*yt,t.length>2?t[2]*yt:0);function e(r){return r=t(r[0]*yt,r[1]*yt),r[0]*=ce,r[1]*=ce,r}return e.invert=function(r){return r=t.invert(r[0]*yt,r[1]*yt),r[0]*=ce,r[1]*=ce,r},e}function Mrt(t,e,r,n,o,i){if(r){var a=ft(e),c=st(e),u=n*r;o==null?(o=e+n*hr,i=e-u/2):(o=DA(a,o),i=DA(a,i),(n>0?o<i:o>i)&&(o+=n*hr));for(var s,l=o;n>0?l>i:l<i;l-=u)s=Ip([a,-c*ft(l),-c*st(l)]),t.point(s[0],s[1])}}function DA(t,e){e=bc(e),e[0]-=t,Bp(e);var r=Zz(-e[1]);return((-e[2]<0?-r:r)+hr-dt)%hr}function dR(){var t=[],e;return{point:function(r,n,o){e.push([r,n,o])},lineStart:function(){t.push(e=[])},lineEnd:Ne,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function Th(t,e){return St(t[0]-e[0])<dt&&St(t[1]-e[1])<dt}function Zf(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function fR(t,e,r,n,o){var i=[],a=[],c,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],m=p[g],v;if(Th(b,m)){if(!b[2]&&!m[2]){for(o.lineStart(),c=0;c<g;++c)o.point((b=p[c])[0],b[1]);o.lineEnd();return}m[0]+=2*dt}i.push(v=new Zf(b,p,null,!0)),a.push(v.o=new Zf(b,null,v,!1)),i.push(v=new Zf(m,p,null,!1)),a.push(v.o=new Zf(m,null,v,!0))}}),!!i.length){for(a.sort(e),jA(i),jA(a),c=0,u=a.length;c<u;++c)a[c].e=r=!r;for(var s=i[0],l,d;;){for(var f=s,h=!0;f.v;)if((f=f.n)===s)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(c=0,u=l.length;c<u;++c)o.point((d=l[c])[0],d[1]);else n(f.x,f.n.x,1,o);f=f.n}else{if(h)for(l=f.p.z,c=l.length-1;c>=0;--c)o.point((d=l[c])[0],d[1]);else n(f.x,f.p.x,-1,o);f=f.p}f=f.o,l=f.z,h=!h}while(!f.v);o.lineEnd()}}}function jA(t){if(e=t.length){for(var e,r=0,n=t[0],o;++r<e;)n.n=o=t[r],o.p=n,n=o;n.n=o=t[0],o.p=n}}function Ov(t){return St(t[0])<=wt?t[0]:tn(t[0])*((St(t[0])+wt)%hr-wt)}function Frt(t,e){var r=Ov(e),n=e[1],o=st(n),i=[st(r),-ft(r),0],a=0,c=0,u=new dr;o===1?n=ie+dt:o===-1&&(n=-ie-dt);for(var s=0,l=t.length;s<l;++s)if(f=(d=t[s]).length)for(var d,f,h=d[f-1],p=Ov(h),g=h[1]/2+Mp,b=st(g),m=ft(g),v=0;v<f;++v,p=x,b=_,m=w,h=y){var y=d[v],x=Ov(y),k=y[1]/2+Mp,_=st(k),w=ft(k),O=x-p,C=O>=0?1:-1,S=C*O,A=S>wt,T=b*_;if(u.add(sn(T*C*st(S),m*w+T*ft(S))),a+=A?O+C*hr:O,A^p>=r^x>=r){var $=Qu(bc(h),bc(y));Bp($);var P=Qu(i,$);Bp(P);var E=(A^O>=0?-1:1)*jr(P[2]);(n>E||n===E&&($[0]||$[1]))&&(c+=A^O>=0?1:-1)}}return(a<-dt||a<dt&&u<-Tp)^c&1}function hR(t,e,r,n){return function(o){var i=e(o),a=dR(),c=e(a),u=!1,s,l,d,f={point:h,lineStart:g,lineEnd:b,polygonStart:function(){f.point=m,f.lineStart=v,f.lineEnd=y,l=[],s=[]},polygonEnd:function(){f.point=h,f.lineStart=g,f.lineEnd=b,l=lT(l);var x=Frt(s,n);l.length?(u||(o.polygonStart(),u=!0),fR(l,Rrt,x,r,o)):x&&(u||(o.polygonStart(),u=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),l=s=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(x,k){t(x,k)&&o.point(x,k)}function p(x,k){i.point(x,k)}function g(){f.point=p,i.lineStart()}function b(){f.point=h,i.lineEnd()}function m(x,k){d.push([x,k]),c.point(x,k)}function v(){c.lineStart(),d=[]}function y(){m(d[0][0],d[0][1]),c.lineEnd();var x=c.clean(),k=a.result(),_,w=k.length,O,C,S;if(d.pop(),s.push(d),d=null,!!w){if(x&1){if(C=k[0],(O=C.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),_=0;_<O;++_)o.point((S=C[_])[0],S[1]);o.lineEnd()}return}w>1&&x&2&&k.push(k.pop().concat(k.shift())),l.push(k.filter(zrt))}}return f}}function zrt(t){return t.length>1}function Rrt(t,e){return((t=t.x)[0]<0?t[1]-ie-dt:ie-t[1])-((e=e.x)[0]<0?e[1]-ie-dt:ie-e[1])}var TA=hR(function(){return!0},Lrt,Brt,[-wt,-ie]);function Lrt(t){var e=NaN,r=NaN,n=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var c=i>0?wt:-wt,u=St(i-e);St(u-wt)<dt?(t.point(e,r=(r+a)/2>0?ie:-ie),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(i,r),o=0):n!==c&&u>=wt&&(St(e-n)<dt&&(e-=n*dt),St(i-c)<dt&&(i-=c*dt),r=Irt(e,r,i,a),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(c,r),o=0),t.point(e=i,r=a),n=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function Irt(t,e,r,n){var o,i,a=st(t-r);return St(a)>dt?As((st(e)*(i=ft(n))*st(r)-st(n)*(o=ft(e))*st(t))/(o*i*a)):(e+n)/2}function Brt(t,e,r,n){var o;if(t==null)o=r*ie,n.point(-wt,o),n.point(0,o),n.point(wt,o),n.point(wt,0),n.point(wt,-o),n.point(0,-o),n.point(-wt,-o),n.point(-wt,0),n.point(-wt,o);else if(St(t[0]-e[0])>dt){var i=t[0]<e[0]?wt:-wt;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])}function Urt(t){var e=ft(t),r=6*yt,n=e>0,o=St(e)>dt;function i(l,d,f,h){Mrt(h,t,r,f,l,d)}function a(l,d){return ft(l)*ft(d)>e}function c(l){var d,f,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,m){var v=[b,m],y,x=a(b,m),k=n?x?0:s(b,m):x?s(b+(b<0?wt:-wt),m):0;if(!d&&(p=h=x)&&l.lineStart(),x!==h&&(y=u(d,v),(!y||Th(d,y)||Th(v,y))&&(v[2]=1)),x!==h)g=0,x?(l.lineStart(),y=u(v,d),l.point(y[0],y[1])):(y=u(d,v),l.point(y[0],y[1],2),l.lineEnd()),d=y;else if(o&&d&&n^x){var _;!(k&f)&&(_=u(v,d,!0))&&(g=0,n?(l.lineStart(),l.point(_[0][0],_[0][1]),l.point(_[1][0],_[1][1]),l.lineEnd()):(l.point(_[1][0],_[1][1]),l.lineEnd(),l.lineStart(),l.point(_[0][0],_[0][1],3)))}x&&(!d||!Th(d,v))&&l.point(v[0],v[1]),d=v,h=x,f=k},lineEnd:function(){h&&l.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function u(l,d,f){var h=bc(l),p=bc(d),g=[1,0,0],b=Qu(h,p),m=Qf(b,b),v=b[0],y=m-v*v;if(!y)return!f&&l;var x=e*m/y,k=-e*v/y,_=Qu(g,b),w=Jf(g,x),O=Jf(b,k);_v(w,O);var C=_,S=Qf(w,C),A=Qf(C,C),T=S*S-A*(Qf(w,w)-1);if(!(T<0)){var $=pr(T),P=Jf(C,(-S-$)/A);if(_v(P,w),P=Ip(P),!f)return P;var E=l[0],N=d[0],D=l[1],F=d[1],I;N<E&&(I=E,E=N,N=I);var rt=N-E,it=St(rt-wt)<dt,gt=it||rt<dt;if(!it&&F<D&&(I=D,D=F,F=I),gt?it?D+F>0^P[1]<(St(P[0]-E)<dt?D:F):D<=P[1]&&P[1]<=F:rt>wt^(E<=P[0]&&P[0]<=N)){var Pt=Jf(C,(-S+$)/A);return _v(Pt,w),[P,Ip(Pt)]}}}function s(l,d){var f=n?t:wt-t,h=0;return l<-f?h|=1:l>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return hR(a,c,i,n?[0,-t]:[-wt,t-wt])}function qrt(t,e,r,n,o,i){var a=t[0],c=t[1],u=e[0],s=e[1],l=0,d=1,f=u-a,h=s-c,p;if(p=r-a,!(!f&&p>0)){if(p/=f,f<0){if(p<l)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>l&&(l=p)}if(p=o-a,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>l&&(l=p)}else if(f>0){if(p<l)return;p<d&&(d=p)}if(p=n-c,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>l&&(l=p)}if(p=i-c,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<d&&(d=p)}return l>0&&(t[0]=a+l*f,t[1]=c+l*h),d<1&&(e[0]=a+d*f,e[1]=c+d*h),!0}}}}}var Cl=1e9,th=-Cl;function pR(t,e,r,n){function o(s,l){return t<=s&&s<=r&&e<=l&&l<=n}function i(s,l,d,f){var h=0,p=0;if(s==null||(h=a(s,d))!==(p=a(l,d))||u(s,l)<0^d>0)do f.point(h===0||h===3?t:r,h>1?n:e);while((h=(h+d+4)%4)!==p);else f.point(l[0],l[1])}function a(s,l){return St(s[0]-t)<dt?l>0?0:3:St(s[0]-r)<dt?l>0?2:1:St(s[1]-e)<dt?l>0?1:0:l>0?3:2}function c(s,l){return u(s.x,l.x)}function u(s,l){var d=a(s,1),f=a(l,1);return d!==f?d-f:d===0?l[1]-s[1]:d===1?s[0]-l[0]:d===2?s[1]-l[1]:l[0]-s[0]}return function(s){var l=s,d=dR(),f,h,p,g,b,m,v,y,x,k,_,w={point:O,lineStart:T,lineEnd:$,polygonStart:S,polygonEnd:A};function O(E,N){o(E,N)&&l.point(E,N)}function C(){for(var E=0,N=0,D=h.length;N<D;++N)for(var F=h[N],I=1,rt=F.length,it=F[0],gt,Pt,_t=it[0],Gt=it[1];I<rt;++I)gt=_t,Pt=Gt,it=F[I],_t=it[0],Gt=it[1],Pt<=n?Gt>n&&(_t-gt)*(n-Pt)>(Gt-Pt)*(t-gt)&&++E:Gt<=n&&(_t-gt)*(n-Pt)<(Gt-Pt)*(t-gt)&&--E;return E}function S(){l=d,f=[],h=[],_=!0}function A(){var E=C(),N=_&&E,D=(f=lT(f)).length;(N||D)&&(s.polygonStart(),N&&(s.lineStart(),i(null,null,1,s),s.lineEnd()),D&&fR(f,c,E,i,s),s.polygonEnd()),l=s,f=h=p=null}function T(){w.point=P,h&&h.push(p=[]),k=!0,x=!1,v=y=NaN}function $(){f&&(P(g,b),m&&x&&d.rejoin(),f.push(d.result())),w.point=O,x&&l.lineEnd()}function P(E,N){var D=o(E,N);if(h&&p.push([E,N]),k)g=E,b=N,m=D,k=!1,D&&(l.lineStart(),l.point(E,N));else if(D&&x)l.point(E,N);else{var F=[v=Math.max(th,Math.min(Cl,v)),y=Math.max(th,Math.min(Cl,y))],I=[E=Math.max(th,Math.min(Cl,E)),N=Math.max(th,Math.min(Cl,N))];qrt(F,I,t,e,r,n)?(x||(l.lineStart(),l.point(F[0],F[1])),l.point(I[0],I[1]),D||l.lineEnd(),_=!1):D&&(l.lineStart(),l.point(E,N),_=!1)}v=E,y=N,x=D}return w}}function MA(t,e,r){var n=Wr(t,e-dt,r).concat(e);return function(o){return n.map(function(i){return[o,i]})}}function FA(t,e,r){var n=Wr(t,e-dt,r).concat(e);return function(o){return n.map(function(i){return[i,o]})}}function Wrt(){var t,e,r,n,o,i,a,c,u=10,s=u,l=90,d=360,f,h,p,g,b=2.5;function m(){return{type:"MultiLineString",coordinates:v()}}function v(){return Wr(Kf(n/l)*l,r,l).map(p).concat(Wr(Kf(c/d)*d,a,d).map(g)).concat(Wr(Kf(e/u)*u,t,u).filter(function(y){return St(y%l)>dt}).map(f)).concat(Wr(Kf(i/s)*s,o,s).filter(function(y){return St(y%d)>dt}).map(h))}return m.lines=function(){return v().map(function(y){return{type:"LineString",coordinates:y}})},m.outline=function(){return{type:"Polygon",coordinates:[p(n).concat(g(a).slice(1),p(r).reverse().slice(1),g(c).reverse().slice(1))]}},m.extent=function(y){return arguments.length?m.extentMajor(y).extentMinor(y):m.extentMinor()},m.extentMajor=function(y){return arguments.length?(n=+y[0][0],r=+y[1][0],c=+y[0][1],a=+y[1][1],n>r&&(y=n,n=r,r=y),c>a&&(y=c,c=a,a=y),m.precision(b)):[[n,c],[r,a]]},m.extentMinor=function(y){return arguments.length?(e=+y[0][0],t=+y[1][0],i=+y[0][1],o=+y[1][1],e>t&&(y=e,e=t,t=y),i>o&&(y=i,i=o,o=y),m.precision(b)):[[e,i],[t,o]]},m.step=function(y){return arguments.length?m.stepMajor(y).stepMinor(y):m.stepMinor()},m.stepMajor=function(y){return arguments.length?(l=+y[0],d=+y[1],m):[l,d]},m.stepMinor=function(y){return arguments.length?(u=+y[0],s=+y[1],m):[u,s]},m.precision=function(y){return arguments.length?(b=+y,f=MA(i,o,90),h=FA(e,t,b),p=MA(c,a,90),g=FA(n,r,b),m):b},m.extentMajor([[-180,-90+dt],[180,90-dt]]).extentMinor([[-180,-80-dt],[180,80+dt]])}var md=t=>t,Ev=new dr,Cy=new dr,gR,bR,Ay,Py,Di={point:Ne,lineStart:Ne,lineEnd:Ne,polygonStart:function(){Di.lineStart=Hrt,Di.lineEnd=Yrt},polygonEnd:function(){Di.lineStart=Di.lineEnd=Di.point=Ne,Ev.add(St(Cy)),Cy=new dr},result:function(){var t=Ev/2;return Ev=new dr,t}};function Hrt(){Di.point=Grt}function Grt(t,e){Di.point=mR,gR=Ay=t,bR=Py=e}function mR(t,e){Cy.add(Py*t-Ay*e),Ay=t,Py=e}function Yrt(){mR(gR,bR)}var zA=Di,Ju=1/0,Xp=Ju,vd=-Ju,Kp=vd,Vrt={point:Xrt,lineStart:Ne,lineEnd:Ne,polygonStart:Ne,polygonEnd:Ne,result:function(){var t=[[Ju,Xp],[vd,Kp]];return vd=Kp=-(Xp=Ju=1/0),t}};function Xrt(t,e){t<Ju&&(Ju=t),t>vd&&(vd=t),e<Xp&&(Xp=e),e>Kp&&(Kp=e)}var Qp=Vrt,Ny=0,Dy=0,Al=0,Jp=0,Zp=0,xu=0,jy=0,Ty=0,Pl=0,vR,yR,no,oo,Sn={point:mc,lineStart:RA,lineEnd:LA,polygonStart:function(){Sn.lineStart=Jrt,Sn.lineEnd=Zrt},polygonEnd:function(){Sn.point=mc,Sn.lineStart=RA,Sn.lineEnd=LA},result:function(){var t=Pl?[jy/Pl,Ty/Pl]:xu?[Jp/xu,Zp/xu]:Al?[Ny/Al,Dy/Al]:[NaN,NaN];return Ny=Dy=Al=Jp=Zp=xu=jy=Ty=Pl=0,t}};function mc(t,e){Ny+=t,Dy+=e,++Al}function RA(){Sn.point=Krt}function Krt(t,e){Sn.point=Qrt,mc(no=t,oo=e)}function Qrt(t,e){var r=t-no,n=e-oo,o=pr(r*r+n*n);Jp+=o*(no+t)/2,Zp+=o*(oo+e)/2,xu+=o,mc(no=t,oo=e)}function LA(){Sn.point=mc}function Jrt(){Sn.point=tnt}function Zrt(){xR(vR,yR)}function tnt(t,e){Sn.point=xR,mc(vR=no=t,yR=oo=e)}function xR(t,e){var r=t-no,n=e-oo,o=pr(r*r+n*n);Jp+=o*(no+t)/2,Zp+=o*(oo+e)/2,xu+=o,o=oo*t-no*e,jy+=o*(no+t),Ty+=o*(oo+e),Pl+=o*3,mc(no=t,oo=e)}var IA=Sn;function wR(t){this._context=t}wR.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,hr);break}}},result:Ne};var My=new dr,Sv,kR,_R,Nl,Dl,tg={point:Ne,lineStart:function(){tg.point=ent},lineEnd:function(){Sv&&OR(kR,_R),tg.point=Ne},polygonStart:function(){Sv=!0},polygonEnd:function(){Sv=null},result:function(){var t=+My;return My=new dr,t}};function ent(t,e){tg.point=OR,kR=Nl=t,_R=Dl=e}function OR(t,e){Nl-=t,Dl-=e,My.add(pr(Nl*Nl+Dl*Dl)),Nl=t,Dl=e}var BA=tg;let UA,eg,qA,WA;class HA{constructor(e){this._append=e==null?ER:rnt(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==qA||this._append!==eg){const n=this._radius,o=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,qA=n,eg=this._append,WA=this._,this._=o}this._+=WA;break}}}result(){const e=this._;return this._="",e.length?e:null}}function ER(t){let e=1;this._+=t[0];for(const r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rnt(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ER;if(e!==UA){const r=10**e;UA=e,eg=function(o){let i=1;this._+=o[0];for(const a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}return eg}function SR(t,e){let r=3,n=4.5,o,i;function a(c){return c&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Go(c,o(i))),i.result()}return a.area=function(c){return Go(c,o(zA)),zA.result()},a.measure=function(c){return Go(c,o(BA)),BA.result()},a.bounds=function(c){return Go(c,o(Qp)),Qp.result()},a.centroid=function(c){return Go(c,o(IA)),IA.result()},a.projection=function(c){return arguments.length?(o=c==null?(t=null,md):(t=c).stream,a):t},a.context=function(c){return arguments.length?(i=c==null?(e=null,new HA(r)):new wR(e=c),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(i.pointRadius(+c),+c),a):n},a.digits=function(c){if(!arguments.length)return r;if(c==null)r=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);r=u}return e===null&&(i=new HA(r)),a},a.projection(t).digits(r).context(e)}function Db(t){return function(e){var r=new Fy;for(var n in t)r[n]=t[n];return r.stream=e,r}}function Fy(){}Fy.prototype={constructor:Fy,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function kk(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Go(r,t.stream(Qp)),e(Qp.result()),n!=null&&t.clipExtent(n),t}function jb(t,e,r){return kk(t,function(n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),c=+e[0][0]+(o-a*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([c,u])},r)}function _k(t,e,r){return jb(t,[[0,0],e],r)}function Ok(t,e,r){return kk(t,function(n){var o=+e,i=o/(n[1][0]-n[0][0]),a=(o-i*(n[1][0]+n[0][0]))/2,c=-i*n[0][1];t.scale(150*i).translate([a,c])},r)}function Ek(t,e,r){return kk(t,function(n){var o=+e,i=o/(n[1][1]-n[0][1]),a=-i*n[0][0],c=(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,c])},r)}var GA=16,nnt=ft(30*yt);function YA(t,e){return+e?int(t,e):ont(t)}function ont(t){return Db({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function int(t,e){function r(n,o,i,a,c,u,s,l,d,f,h,p,g,b){var m=s-n,v=l-o,y=m*m+v*v;if(y>4*e&&g--){var x=a+f,k=c+h,_=u+p,w=pr(x*x+k*k+_*_),O=jr(_/=w),C=St(St(_)-1)<dt||St(i-d)<dt?(i+d)/2:sn(k,x),S=t(C,O),A=S[0],T=S[1],$=A-n,P=T-o,E=v*$-m*P;(E*E/y>e||St((m*$+v*P)/y-.5)>.3||a*f+c*h+u*p<nnt)&&(r(n,o,i,a,c,u,A,T,C,x/=w,k/=w,_,g,b),b.point(A,T),r(A,T,C,x,k,_,s,l,d,f,h,p,g,b))}}return function(n){var o,i,a,c,u,s,l,d,f,h,p,g,b={point:m,lineStart:v,lineEnd:x,polygonStart:function(){n.polygonStart(),b.lineStart=k},polygonEnd:function(){n.polygonEnd(),b.lineStart=v}};function m(O,C){O=t(O,C),n.point(O[0],O[1])}function v(){d=NaN,b.point=y,n.lineStart()}function y(O,C){var S=bc([O,C]),A=t(O,C);r(d,f,l,h,p,g,d=A[0],f=A[1],l=O,h=S[0],p=S[1],g=S[2],GA,n),n.point(d,f)}function x(){b.point=m,n.lineEnd()}function k(){v(),b.point=_,b.lineEnd=w}function _(O,C){y(o=O,C),i=d,a=f,c=h,u=p,s=g,b.point=y}function w(){r(d,f,l,h,p,g,i,a,o,c,u,s,GA,n),b.lineEnd=x,x()}return b}}var ant=Db({point:function(t,e){this.stream.point(t*yt,e*yt)}});function cnt(t){return Db({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function unt(t,e,r,n,o){function i(a,c){return a*=n,c*=o,[e+t*a,r-t*c]}return i.invert=function(a,c){return[(a-e)/t*n,(r-c)/t*o]},i}function VA(t,e,r,n,o,i){if(!i)return unt(t,e,r,n,o);var a=ft(i),c=st(i),u=a*t,s=c*t,l=a/t,d=c/t,f=(c*r-a*e)/t,h=(c*e+a*r)/t;function p(g,b){return g*=n,b*=o,[u*g-s*b+e,r-s*g-u*b]}return p.invert=function(g,b){return[n*(l*g-d*b+f),o*(h-d*g-l*b)]},p}function Co(t){return $R(function(){return t})()}function $R(t){var e,r=150,n=480,o=250,i=0,a=0,c=0,u=0,s=0,l,d=0,f=1,h=1,p=null,g=TA,b=null,m,v,y,x=md,k=.5,_,w,O,C,S;function A(E){return O(E[0]*yt,E[1]*yt)}function T(E){return E=O.invert(E[0],E[1]),E&&[E[0]*ce,E[1]*ce]}A.stream=function(E){return C&&S===E?C:C=ant(cnt(l)(g(_(x(S=E)))))},A.preclip=function(E){return arguments.length?(g=E,p=void 0,P()):g},A.postclip=function(E){return arguments.length?(x=E,b=m=v=y=null,P()):x},A.clipAngle=function(E){return arguments.length?(g=+E?Urt(p=E*yt):(p=null,TA),P()):p*ce},A.clipExtent=function(E){return arguments.length?(x=E==null?(b=m=v=y=null,md):pR(b=+E[0][0],m=+E[0][1],v=+E[1][0],y=+E[1][1]),P()):b==null?null:[[b,m],[v,y]]},A.scale=function(E){return arguments.length?(r=+E,$()):r},A.translate=function(E){return arguments.length?(n=+E[0],o=+E[1],$()):[n,o]},A.center=function(E){return arguments.length?(i=E[0]%360*yt,a=E[1]%360*yt,$()):[i*ce,a*ce]},A.rotate=function(E){return arguments.length?(c=E[0]%360*yt,u=E[1]%360*yt,s=E.length>2?E[2]%360*yt:0,$()):[c*ce,u*ce,s*ce]},A.angle=function(E){return arguments.length?(d=E%360*yt,$()):d*ce},A.reflectX=function(E){return arguments.length?(f=E?-1:1,$()):f<0},A.reflectY=function(E){return arguments.length?(h=E?-1:1,$()):h<0},A.precision=function(E){return arguments.length?(_=YA(w,k=E*E),P()):pr(k)},A.fitExtent=function(E,N){return jb(A,E,N)},A.fitSize=function(E,N){return _k(A,E,N)},A.fitWidth=function(E,N){return Ok(A,E,N)},A.fitHeight=function(E,N){return Ek(A,E,N)};function $(){var E=VA(r,0,0,f,h,d).apply(null,e(i,a)),N=VA(r,n-E[0],o-E[1],f,h,d);return l=lR(c,u,s),w=Sy(e,N),O=Sy(l,w),_=YA(w,k),P()}function P(){return C=S=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&T,$()}}function Sk(t){var e=0,r=wt/3,n=$R(t),o=n(e,r);return o.parallels=function(i){return arguments.length?n(e=i[0]*yt,r=i[1]*yt):[e*ce,r*ce]},o}function snt(t){var e=ft(t);function r(n,o){return[n*e,st(o)/e]}return r.invert=function(n,o){return[n/e,jr(o*e)]},r}function lnt(t,e){var r=st(t),n=(r+st(e))/2;if(St(n)<dt)return snt(t);var o=1+r*(2*n-r),i=pr(o)/n;function a(c,u){var s=pr(o-2*n*st(u))/n;return[s*st(c*=n),i-s*ft(c)]}return a.invert=function(c,u){var s=i-u,l=sn(c,St(s))*tn(s);return s*n<0&&(l-=wt*tn(c)*tn(s)),[l/n,jr((o-(c*c+s*s)*n*n)/(2*n))]},a}function rg(){return Sk(lnt).scale(155.424).center([0,33.6442])}function CR(){return rg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function dnt(t){var e=t.length;return{point:function(r,n){for(var o=-1;++o<e;)t[o].point(r,n)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function fnt(){var t,e,r=CR(),n,o=rg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=rg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,u,s={point:function(f,h){u=[f,h]}};function l(f){var h=f[0],p=f[1];return u=null,n.point(h,p),u||(i.point(h,p),u)||(c.point(h,p),u)}l.invert=function(f){var h=r.scale(),p=r.translate(),g=(f[0]-p[0])/h,b=(f[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?o:b>=.166&&b<.234&&g>=-.214&&g<-.115?a:r).invert(f)},l.stream=function(f){return t&&e===f?t:t=dnt([r.stream(e=f),o.stream(f),a.stream(f)])},l.precision=function(f){return arguments.length?(r.precision(f),o.precision(f),a.precision(f),d()):r.precision()},l.scale=function(f){return arguments.length?(r.scale(f),o.scale(f*.35),a.scale(f),l.translate(r.translate())):r.scale()},l.translate=function(f){if(!arguments.length)return r.translate();var h=r.scale(),p=+f[0],g=+f[1];return n=r.translate(f).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),i=o.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+dt,g+.12*h+dt],[p-.214*h-dt,g+.234*h-dt]]).stream(s),c=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+dt,g+.166*h+dt],[p-.115*h-dt,g+.234*h-dt]]).stream(s),d()},l.fitExtent=function(f,h){return jb(l,f,h)},l.fitSize=function(f,h){return _k(l,f,h)},l.fitWidth=function(f,h){return Ok(l,f,h)},l.fitHeight=function(f,h){return Ek(l,f,h)};function d(){return t=e=null,l}return l.scale(1070)}function AR(t){return function(e,r){var n=ft(e),o=ft(r),i=t(n*o);return i===1/0?[2,0]:[i*o*st(e),i*st(r)]}}function sf(t){return function(e,r){var n=pr(e*e+r*r),o=t(n),i=st(o),a=ft(o);return[sn(e*i,n*a),jr(n&&r*i/n)]}}var PR=AR(function(t){return pr(2/(1+t))});PR.invert=sf(function(t){return 2*jr(t/2)});function hnt(){return Co(PR).scale(124.75).clipAngle(180-.001)}var NR=AR(function(t){return(t=Zz(t))&&t/st(t)});NR.invert=sf(function(t){return t});function pnt(){return Co(NR).scale(79.4188).clipAngle(180-.001)}function Tb(t,e){return[t,Fp(xk((ie+e)/2))]}Tb.invert=function(t,e){return[t,2*As(Jz(e))-ie]};function gnt(){return DR(Tb).scale(961/hr)}function DR(t){var e=Co(t),r=e.center,n=e.scale,o=e.translate,i=e.clipExtent,a=null,c,u,s;e.scale=function(d){return arguments.length?(n(d),l()):n()},e.translate=function(d){return arguments.length?(o(d),l()):o()},e.center=function(d){return arguments.length?(r(d),l()):r()},e.clipExtent=function(d){return arguments.length?(d==null?a=c=u=s=null:(a=+d[0][0],c=+d[0][1],u=+d[1][0],s=+d[1][1]),l()):a==null?null:[[a,c],[u,s]]};function l(){var d=wt*n(),f=e(Trt(e.rotate()).invert([0,0]));return i(a==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:t===Tb?[[Math.max(f[0]-d,a),c],[Math.min(f[0]+d,u),s]]:[[a,Math.max(f[1]-d,c)],[u,Math.min(f[1]+d,s)]])}return l()}function eh(t){return xk((ie+t)/2)}function bnt(t,e){var r=ft(t),n=t===e?st(t):Fp(r/ft(e))/Fp(eh(e)/eh(t)),o=r*kv(eh(t),n)/n;if(!n)return Tb;function i(a,c){o>0?c<-ie+dt&&(c=-ie+dt):c>ie-dt&&(c=ie-dt);var u=o/kv(eh(c),n);return[u*st(n*a),o-u*ft(n*a)]}return i.invert=function(a,c){var u=o-c,s=tn(n)*pr(a*a+u*u),l=sn(a,St(u))*tn(u);return u*n<0&&(l-=wt*tn(a)*tn(u)),[l/n,2*As(kv(o/s,1/n))-ie]},i}function mnt(){return Sk(bnt).scale(109.5).parallels([30,30])}function ng(t,e){return[t,e]}ng.invert=ng;function vnt(){return Co(ng).scale(152.63)}function ynt(t,e){var r=ft(t),n=t===e?st(t):(r-ft(e))/(e-t),o=r/n+t;if(St(n)<dt)return ng;function i(a,c){var u=o-c,s=n*a;return[u*st(s),o-u*ft(s)]}return i.invert=function(a,c){var u=o-c,s=sn(a,St(u))*tn(u);return u*n<0&&(s-=wt*tn(a)*tn(u)),[s/n,o-tn(n)*pr(a*a+u*u)]},i}function xnt(){return Sk(ynt).scale(131.154).center([0,13.9389])}var Yl=1.340264,Vl=-.081106,Xl=893e-6,Kl=.003796,og=pr(3)/2,wnt=12;function jR(t,e){var r=jr(og*st(e)),n=r*r,o=n*n*n;return[t*ft(r)/(og*(Yl+3*Vl*n+o*(7*Xl+9*Kl*n))),r*(Yl+Vl*n+o*(Xl+Kl*n))]}jR.invert=function(t,e){for(var r=e,n=r*r,o=n*n*n,i=0,a,c,u;i<wnt&&(c=r*(Yl+Vl*n+o*(Xl+Kl*n))-e,u=Yl+3*Vl*n+o*(7*Xl+9*Kl*n),r-=a=c/u,n=r*r,o=n*n*n,!(St(a)<Tp));++i);return[og*t*(Yl+3*Vl*n+o*(7*Xl+9*Kl*n))/ft(r),jr(st(r)/og)]};function knt(){return Co(jR).scale(177.158)}function TR(t,e){var r=ft(e),n=ft(t)*r;return[r*st(t)/n,st(e)/n]}TR.invert=sf(As);function _nt(){return Co(TR).scale(144.049).clipAngle(60)}function Ont(){var t=1,e=0,r=0,n=1,o=1,i=0,a,c,u=null,s,l,d,f=1,h=1,p=Db({point:function(x,k){var _=y([x,k]);this.stream.point(_[0],_[1])}}),g=md,b,m;function v(){return f=t*n,h=t*o,b=m=null,y}function y(x){var k=x[0]*f,_=x[1]*h;if(i){var w=_*a-k*c;k=k*a+_*c,_=w}return[k+e,_+r]}return y.invert=function(x){var k=x[0]-e,_=x[1]-r;if(i){var w=_*a+k*c;k=k*a-_*c,_=w}return[k/f,_/h]},y.stream=function(x){return b&&m===x?b:b=p(g(m=x))},y.postclip=function(x){return arguments.length?(g=x,u=s=l=d=null,v()):g},y.clipExtent=function(x){return arguments.length?(g=x==null?(u=s=l=d=null,md):pR(u=+x[0][0],s=+x[0][1],l=+x[1][0],d=+x[1][1]),v()):u==null?null:[[u,s],[l,d]]},y.scale=function(x){return arguments.length?(t=+x,v()):t},y.translate=function(x){return arguments.length?(e=+x[0],r=+x[1],v()):[e,r]},y.angle=function(x){return arguments.length?(i=x%360*yt,c=st(i),a=ft(i),v()):i*ce},y.reflectX=function(x){return arguments.length?(n=x?-1:1,v()):n<0},y.reflectY=function(x){return arguments.length?(o=x?-1:1,v()):o<0},y.fitExtent=function(x,k){return jb(y,x,k)},y.fitSize=function(x,k){return _k(y,x,k)},y.fitWidth=function(x,k){return Ok(y,x,k)},y.fitHeight=function(x,k){return Ek(y,x,k)},y}function MR(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),e*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}MR.invert=function(t,e){var r=e,n=25,o;do{var i=r*r,a=i*i;r-=o=(r*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.015085*3+a*(-.044475*7+.028874*9*i-.005916*11*a)))}while(St(o)>dt&&--n>0);return[t/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]};function Ent(){return Co(MR).scale(175.295)}function FR(t,e){return[ft(e)*st(t),st(e)]}FR.invert=sf(jr);function Snt(){return Co(FR).scale(249.5).clipAngle(90+dt)}function zR(t,e){var r=ft(e),n=1+ft(t)*r;return[r*st(t)/n,st(e)/n]}zR.invert=sf(function(t){return 2*As(t)});function $nt(){return Co(zR).scale(250).clipAngle(142)}function RR(t,e){return[Fp(xk((ie+e)/2)),-t]}RR.invert=function(t,e){return[-e,2*As(Jz(t))-ie]};function Cnt(){var t=DR(RR),e=t.center,r=t.rotate;return t.center=function(n){return arguments.length?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])},t.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}var Ant=Math.abs,zy=Math.cos,ig=Math.sin,Pnt=1e-6,LR=Math.PI,Ry=LR/2,XA=Nnt(2);function KA(t){return t>1?Ry:t<-1?-Ry:Math.asin(t)}function Nnt(t){return t>0?Math.sqrt(t):0}function Dnt(t,e){var r=t*ig(e),n=30,o;do e-=o=(e+ig(e)-r)/(1+zy(e));while(Ant(o)>Pnt&&--n>0);return e/2}function jnt(t,e,r){function n(o,i){return[t*o*zy(i=Dnt(r,i)),e*ig(i)]}return n.invert=function(o,i){return i=KA(i/e),[o/(t*zy(i)),KA((2*i+ig(2*i))/r)]},n}var Tnt=jnt(XA/Ry,XA,LR);function Mnt(){return Co(Tnt).scale(169.529)}const Fnt=SR(),Ly=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function znt(t,e){return function r(){const n=e();return n.type=t,n.path=SR().projection(n),n.copy=n.copy||function(){const o=r();return Ly.forEach(i=>{n[i]&&o[i](n[i]())}),o.path.pointRadius(n.path.pointRadius()),o},c3(n)}}function $k(t,e){if(!t||typeof t!="string")throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(ag[t]=znt(t,e),this):ag[t]||null}function IR(t){return t&&t.path||Fnt}const ag={albers:CR,albersusa:fnt,azimuthalequalarea:hnt,azimuthalequidistant:pnt,conicconformal:mnt,conicequalarea:rg,conicequidistant:xnt,equalEarth:knt,equirectangular:vnt,gnomonic:_nt,identity:Ont,mercator:gnt,mollweide:Mnt,naturalEarth1:Ent,orthographic:Snt,stereographic:$nt,transversemercator:Cnt};for(const t in ag)$k(t,ag[t]);function Rnt(){}const Ro=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function BR(){var t=1,e=1,r=c;function n(u,s){return s.map(l=>o(u,l))}function o(u,s){var l=[],d=[];return i(u,s,f=>{r(f,u,s),Lnt(f)>0?l.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=l.length,g;h<p;++h)if(Int((g=l[h])[0],f)!==-1){g.push(f);return}}),{type:"MultiPolygon",value:s,coordinates:l}}function i(u,s,l){var d=new Array,f=new Array,h,p,g,b,m,v;for(h=p=-1,b=u[0]>=s,Ro[b<<1].forEach(y);++h<t-1;)g=b,b=u[h+1]>=s,Ro[g|b<<1].forEach(y);for(Ro[b<<0].forEach(y);++p<e-1;){for(h=-1,b=u[p*t+t]>=s,m=u[p*t]>=s,Ro[b<<1|m<<2].forEach(y);++h<t-1;)g=b,b=u[p*t+t+h+1]>=s,v=m,m=u[p*t+h+1]>=s,Ro[g|b<<1|m<<2|v<<3].forEach(y);Ro[b|m<<3].forEach(y)}for(h=-1,m=u[p*t]>=s,Ro[m<<2].forEach(y);++h<t-1;)v=m,m=u[p*t+h+1]>=s,Ro[m<<2|v<<3].forEach(y);Ro[m<<3].forEach(y);function y(x){var k=[x[0][0]+h,x[0][1]+p],_=[x[1][0]+h,x[1][1]+p],w=a(k),O=a(_),C,S;(C=f[w])?(S=d[O])?(delete f[C.end],delete d[S.start],C===S?(C.ring.push(_),l(C.ring)):d[C.start]=f[S.end]={start:C.start,end:S.end,ring:C.ring.concat(S.ring)}):(delete f[C.end],C.ring.push(_),f[C.end=O]=C):(C=d[O])?(S=f[w])?(delete d[C.start],delete f[S.end],C===S?(C.ring.push(_),l(C.ring)):d[S.start]=f[C.end]={start:S.start,end:C.end,ring:S.ring.concat(C.ring)}):(delete d[C.start],C.ring.unshift(k),d[C.start=w]=C):d[w]=f[O]={start:w,end:O,ring:[k,_]}}}function a(u){return u[0]*2+u[1]*(t+1)*4}function c(u,s,l){u.forEach(d=>{var f=d[0],h=d[1],p=f|0,g=h|0,b,m=s[g*t+p];f>0&&f<t&&p===f&&(b=s[g*t+p-1],d[0]=f+(l-b)/(m-b)-.5),h>0&&h<e&&g===h&&(b=s[(g-1)*t+p],d[1]=h+(l-b)/(m-b)-.5)})}return n.contour=o,n.size=function(u){if(!arguments.length)return[t,e];var s=Math.floor(u[0]),l=Math.floor(u[1]);return s>=0&&l>=0||R("invalid size"),t=s,e=l,n},n.smooth=function(u){return arguments.length?(r=u?c:Rnt,n):r===c},n}function Lnt(t){for(var e=0,r=t.length,n=t[r-1][1]*t[0][0]-t[r-1][0]*t[0][1];++e<r;)n+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return n}function Int(t,e){for(var r=-1,n=e.length,o;++r<n;)if(o=Bnt(t,e[r]))return o;return 0}function Bnt(t,e){for(var r=e[0],n=e[1],o=-1,i=0,a=t.length,c=a-1;i<a;c=i++){var u=t[i],s=u[0],l=u[1],d=t[c],f=d[0],h=d[1];if(Unt(u,d,e))return 0;l>n!=h>n&&r<(f-s)*(n-l)/(h-l)+s&&(o=-o)}return o}function Unt(t,e,r){var n;return qnt(t,e,r)&&Wnt(t[n=+(t[0]===e[0])],r[n],e[n])}function qnt(t,e,r){return(e[0]-t[0])*(r[1]-t[1])===(r[0]-t[0])*(e[1]-t[1])}function Wnt(t,e,r){return t<=e&&e<=r||r<=e&&e<=t}function UR(t,e,r){return function(n){var o=go(n),i=r?Math.min(o[0],0):o[0],a=o[1],c=a-i,u=e?Ki(i,a,t):c/(t+1);return Wr(i+u,a,u)}}function Ck(t){M.call(this,null,t)}Ck.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};X(Ck,M,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var r=e.fork(e.NO_SOURCE|e.NO_FIELDS),n=e.materialize(e.SOURCE).source,o=t.field||Ze,i=BR().smooth(t.smooth!==!1),a=t.thresholds||Hnt(n,o,t),c=t.as===null?null:t.as||"contour",u=[];return n.forEach(s=>{const l=o(s),d=i.size([l.width,l.height])(l.values,L(a)?a:a(l.values));Gnt(d,l,s,t),d.forEach(f=>{u.push(Qg(s,Ft(c!=null?{[c]:f}:f)))})}),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}});function Hnt(t,e,r){const n=UR(r.levels||10,r.nice,r.zero!==!1);return r.resolve!=="shared"?n:n(t.map(o=>nc(e(o).values)))}function Gnt(t,e,r,n){let o=n.scale||e.scale,i=n.translate||e.translate;if(mt(o)&&(o=o(r,n)),mt(i)&&(i=i(r,n)),(o===1||o==null)&&!i)return;const a=(Bt(o)?o:o[0])||1,c=(Bt(o)?o:o[1])||1,u=i&&i[0]||0,s=i&&i[1]||0;t.forEach(qR(e,a,c,u,s))}function qR(t,e,r,n,o){const i=t.x1||0,a=t.y1||0,c=e*r<0;function u(d){d.forEach(s)}function s(d){c&&d.reverse(),d.forEach(l)}function l(d){d[0]=(d[0]-i)*e+n,d[1]=(d[1]-a)*r+o}return function(d){return d.coordinates.forEach(u),d}}function QA(t,e,r){const n=t>=0?t:mx(e,r);return Math.round((Math.sqrt(4*n*n+1)-1)/2)}function $v(t){return mt(t)?t:tr(+t)}function WR(){var t=u=>u[0],e=u=>u[1],r=ms,n=[-1,-1],o=960,i=500,a=2;function c(u,s){const l=QA(n[0],u,t)>>a,d=QA(n[1],u,e)>>a,f=l?l+2:0,h=d?d+2:0,p=2*f+(o>>a),g=2*h+(i>>a),b=new Float32Array(p*g),m=new Float32Array(p*g);let v=b;u.forEach(x=>{const k=f+(+t(x)>>a),_=h+(+e(x)>>a);k>=0&&k<p&&_>=0&&_<g&&(b[k+_*p]+=+r(x))}),l>0&&d>0?(ou(p,g,b,m,l),iu(p,g,m,b,d),ou(p,g,b,m,l),iu(p,g,m,b,d),ou(p,g,b,m,l),iu(p,g,m,b,d)):l>0?(ou(p,g,b,m,l),ou(p,g,m,b,l),ou(p,g,b,m,l),v=m):d>0&&(iu(p,g,b,m,d),iu(p,g,m,b,d),iu(p,g,b,m,d),v=m);const y=s?Math.pow(2,-2*a):1/dT(v);for(let x=0,k=p*g;x<k;++x)v[x]*=y;return{values:v,scale:1<<a,width:p,height:g,x1:f,y1:h,x2:f+(o>>a),y2:h+(i>>a)}}return c.x=function(u){return arguments.length?(t=$v(u),c):t},c.y=function(u){return arguments.length?(e=$v(u),c):e},c.weight=function(u){return arguments.length?(r=$v(u),c):r},c.size=function(u){if(!arguments.length)return[o,i];var s=+u[0],l=+u[1];return s>=0&&l>=0||R("invalid size"),o=s,i=l,c},c.cellSize=function(u){return arguments.length?((u=+u)>=1||R("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),c):1<<a},c.bandwidth=function(u){return arguments.length?(u=Z(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&R("invalid bandwidth"),n=u,c):n},c}function ou(t,e,r,n,o){const i=(o<<1)+1;for(let a=0;a<e;++a)for(let c=0,u=0;c<t+o;++c)c<t&&(u+=r[c+a*t]),c>=o&&(c>=i&&(u-=r[c-i+a*t]),n[c-o+a*t]=u/Math.min(c+1,t-1+i-c,i))}function iu(t,e,r,n,o){const i=(o<<1)+1;for(let a=0;a<t;++a)for(let c=0,u=0;c<e+o;++c)c<e&&(u+=r[a+c*t]),c>=o&&(c>=i&&(u-=r[a+(c-i)*t]),n[a+(c-o)*t]=u/Math.min(c+1,e-1+i-c,i))}function Ak(t){M.call(this,null,t)}Ak.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Ynt=["x","y","weight","size","cellSize","bandwidth"];function HR(t,e){return Ynt.forEach(r=>e[r]!=null?t[r](e[r]):0),t}X(Ak,M,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var r=e.fork(e.NO_SOURCE|e.NO_FIELDS),n=e.materialize(e.SOURCE).source,o=Vnt(n,t.groupby),i=(t.groupby||[]).map(ae),a=HR(WR(),t),c=t.as||"grid",u=[];function s(l,d){for(let f=0;f<i.length;++f)l[i[f]]=d[f];return l}return u=o.map(l=>Ft(s({[c]:a(l,t.counts)},l.dims))),this.value&&(r.rem=this.value),this.value=r.source=r.add=u,r}});function Vnt(t,e){var r=[],n=l=>l(c),o,i,a,c,u,s;if(e==null)r.push(t);else for(o={},i=0,a=t.length;i<a;++i)c=t[i],u=e.map(n),s=o[u],s||(o[u]=s=[],s.dims=u,r.push(s)),s.push(c);return r}function Pk(t){M.call(this,null,t)}Pk.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};X(Pk,M,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var r=e.fork(e.NO_SOURCE|e.NO_FIELDS),n=BR().smooth(t.smooth!==!1),o=t.values,i=t.thresholds||UR(t.count||10,t.nice,!!o),a=t.size,c,u;return o||(o=e.materialize(e.SOURCE).source,c=HR(WR(),t)(o,!0),u=qR(c,c.scale||1,c.scale||1,0,0),a=[c.width,c.height],o=c.values),i=L(i)?i:i(o),o=n.size(a)(o,i),u&&o.forEach(u),this.value&&(r.rem=this.value),this.value=r.source=r.add=(o||[]).map(Ft),r}});const Iy="Feature",Nk="FeatureCollection",Xnt="MultiPoint";function Dk(t){M.call(this,null,t)}Dk.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};X(Dk,M,{transform(t,e){var r=this._features,n=this._points,o=t.fields,i=o&&o[0],a=o&&o[1],c=t.geojson||!o&&Ze,u=e.ADD,s;s=t.modified()||e.changed(e.REM)||e.modified(Ve(c))||i&&e.modified(Ve(i))||a&&e.modified(Ve(a)),(!this.value||s)&&(u=e.SOURCE,this._features=r=[],this._points=n=[]),c&&e.visit(u,l=>r.push(c(l))),i&&a&&(e.visit(u,l=>{var d=i(l),f=a(l);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&n.push([d,f])}),r=r.concat({type:Iy,geometry:{type:Xnt,coordinates:n}})),this.value={type:Nk,features:r}}});function jk(t){M.call(this,null,t)}jk.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};X(jk,M,{transform(t,e){var r=e.fork(e.ALL),n=this.value,o=t.field||Ze,i=t.as||"path",a=r.SOURCE;!n||t.modified()?(this.value=n=IR(t.projection),r.materialize().reflow()):a=o===Ze||e.modified(o.fields)?r.ADD_MOD:r.ADD;const c=Knt(n,t.pointRadius);return r.visit(a,u=>u[i]=n(o(u))),n.pointRadius(c),r.modifies(i)}});function Knt(t,e){const r=t.pointRadius();return t.context(null),e!=null&&t.pointRadius(e),r}function Tk(t){M.call(this,null,t)}Tk.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};X(Tk,M,{transform(t,e){var r=t.projection,n=t.fields[0],o=t.fields[1],i=t.as||["x","y"],a=i[0],c=i[1],u;function s(l){const d=r([n(l),o(l)]);d?(l[a]=d[0],l[c]=d[1]):(l[a]=void 0,l[c]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,s):(u=e.modified(n.fields)||e.modified(o.fields),e.visit(u?e.ADD_MOD:e.ADD,s)),e.modifies(i)}});function Mk(t){M.call(this,null,t)}Mk.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};X(Mk,M,{transform(t,e){var r=e.fork(e.ALL),n=this.value,o=t.as||"shape",i=r.ADD;return(!n||t.modified())&&(this.value=n=Qnt(IR(t.projection),t.field||Pr("datum"),t.pointRadius),r.materialize().reflow(),i=r.SOURCE),r.visit(i,a=>a[o]=n),r.modifies(o)}});function Qnt(t,e,r){const n=r==null?o=>t(e(o)):o=>{var i=t.pointRadius(),a=t.pointRadius(r)(e(o));return t.pointRadius(i),a};return n.context=o=>(t.context(o),n),n}function Fk(t){M.call(this,[],t),this.generator=Wrt()}Fk.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};X(Fk,M,{transform(t,e){var r=this.value,n=this.generator,o;if(!r.length||t.modified())for(const i in t)mt(n[i])&&n[i](t[i]);return o=n(),r.length?e.mod.push(aM(r[0],o)):e.add.push(Ft(o)),r[0]=o,e}});function zk(t){M.call(this,null,t)}zk.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};X(zk,M,{transform(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var r=e.materialize(e.SOURCE).source,n=t.resolve==="shared",o=t.field||Ze,i=Znt(t.opacity,t),a=Jnt(t.color,t),c=t.as||"image",u={$x:0,$y:0,$value:0,$max:n?nc(r.map(s=>nc(o(s).values))):0};return r.forEach(s=>{const l=o(s),d=bt({},s,u);n||(d.$max=nc(l.values||[])),s[c]=tot(l,d,a.dep?a:tr(a(d)),i.dep?i:tr(i(d)))}),e.reflow(!0).modifies(c)}});function Jnt(t,e){let r;return mt(t)?(r=n=>Zi(t(n,e)),r.dep=GR(t)):r=tr(Zi(t||"#888")),r}function Znt(t,e){let r;return mt(t)?(r=n=>t(n,e),r.dep=GR(t)):t?r=tr(t):(r=n=>n.$value/n.$max||0,r.dep=!0),r}function GR(t){if(!mt(t))return!1;const e=Fn(Ve(t));return e.$x||e.$y||e.$value||e.$max}function tot(t,e,r,n){const o=t.width,i=t.height,a=t.x1||0,c=t.y1||0,u=t.x2||o,s=t.y2||i,l=t.values,d=l?b=>l[b]:Ni,f=Hi(u-a,s-c),h=f.getContext("2d"),p=h.getImageData(0,0,u-a,s-c),g=p.data;for(let b=c,m=0;b<s;++b){e.$y=b-c;for(let v=a,y=b*o;v<u;++v,m+=4){e.$x=v-a,e.$value=d(v+y);const x=r(e);g[m+0]=x.r,g[m+1]=x.g,g[m+2]=x.b,g[m+3]=~~(255*n(e))}}return h.putImageData(p,0,0),f}function YR(t){M.call(this,null,t),this.modified(!0)}X(YR,M,{transform(t,e){let r=this.value;return!r||t.modified("type")?(this.value=r=rot(t.type),Ly.forEach(n=>{t[n]!=null&&JA(r,n,t[n])})):Ly.forEach(n=>{t.modified(n)&&JA(r,n,t[n])}),t.pointRadius!=null&&r.path.pointRadius(t.pointRadius),t.fit&&eot(r,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});function eot(t,e){const r=not(e.fit);e.extent?t.fitExtent(e.extent,r):e.size&&t.fitSize(e.size,r)}function rot(t){const e=$k((t||"mercator").toLowerCase());return e||R("Unrecognized projection type: "+t),e()}function JA(t,e,r){mt(t[e])&&t[e](r)}function not(t){return t=Z(t),t.length===1?t[0]:{type:Nk,features:t.reduce((e,r)=>e.concat(oot(r)),[])}}function oot(t){return t.type===Nk?t.features:Z(t).filter(e=>e!=null).map(e=>e.type===Iy?e:{type:Iy,geometry:e})}var iot=Object.freeze({__proto__:null,contour:Pk,geojson:Dk,geopath:jk,geopoint:Tk,geoshape:Mk,graticule:Fk,heatmap:zk,isocontour:Ck,kde2d:Ak,projection:YR});function aot(t,e){var r,n=1;t==null&&(t=0),e==null&&(e=0);function o(){var i,a=r.length,c,u=0,s=0;for(i=0;i<a;++i)c=r[i],u+=c.x,s+=c.y;for(u=(u/a-t)*n,s=(s/a-e)*n,i=0;i<a;++i)c=r[i],c.x-=u,c.y-=s}return o.initialize=function(i){r=i},o.x=function(i){return arguments.length?(t=+i,o):t},o.y=function(i){return arguments.length?(e=+i,o):e},o.strength=function(i){return arguments.length?(n=+i,o):n},o}function cot(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return VR(this.cover(e,r),e,r,t)}function VR(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var o,i=t._root,a={data:n},c=t._x0,u=t._y0,s=t._x1,l=t._y1,d,f,h,p,g,b,m,v;if(!i)return t._root=a,t;for(;i.length;)if((g=e>=(d=(c+s)/2))?c=d:s=d,(b=r>=(f=(u+l)/2))?u=f:l=f,o=i,!(i=i[m=b<<1|g]))return o[m]=a,t;if(h=+t._x.call(null,i.data),p=+t._y.call(null,i.data),e===h&&r===p)return a.next=i,o?o[m]=a:t._root=a,t;do o=o?o[m]=new Array(4):t._root=new Array(4),(g=e>=(d=(c+s)/2))?c=d:s=d,(b=r>=(f=(u+l)/2))?u=f:l=f;while((m=b<<1|g)===(v=(p>=f)<<1|h>=d));return o[v]=i,o[m]=a,t}function uot(t){var e,r,n=t.length,o,i,a=new Array(n),c=new Array(n),u=1/0,s=1/0,l=-1/0,d=-1/0;for(r=0;r<n;++r)isNaN(o=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e))||(a[r]=o,c[r]=i,o<u&&(u=o),o>l&&(l=o),i<s&&(s=i),i>d&&(d=i));if(u>l||s>d)return this;for(this.cover(u,s).cover(l,d),r=0;r<n;++r)VR(this,a[r],c[r],t[r]);return this}function sot(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var a=o-r||1,c=this._root,u,s;r>t||t>=o||n>e||e>=i;)switch(s=(e<n)<<1|t<r,u=new Array(4),u[s]=c,c=u,a*=2,s){case 0:o=r+a,i=n+a;break;case 1:r=o-a,i=n+a;break;case 2:o=r+a,n=i-a;break;case 3:r=o-a,n=i-a;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this}function lot(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function dot(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function sr(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o}function fot(t,e,r){var n,o=this._x0,i=this._y0,a,c,u,s,l=this._x1,d=this._y1,f=[],h=this._root,p,g;for(h&&f.push(new sr(h,o,i,l,d)),r==null?r=1/0:(o=t-r,i=e-r,l=t+r,d=e+r,r*=r);p=f.pop();)if(!(!(h=p.node)||(a=p.x0)>l||(c=p.y0)>d||(u=p.x1)<o||(s=p.y1)<i))if(h.length){var b=(a+u)/2,m=(c+s)/2;f.push(new sr(h[3],b,m,u,s),new sr(h[2],a,m,b,s),new sr(h[1],b,c,u,m),new sr(h[0],a,c,b,m)),(g=(e>=m)<<1|t>=b)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=p)}else{var v=t-+this._x.call(null,h.data),y=e-+this._y.call(null,h.data),x=v*v+y*y;if(x<r){var k=Math.sqrt(r=x);o=t-k,i=e-k,l=t+k,d=e+k,n=h.data}}return n}function hot(t){if(isNaN(l=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,r=this._root,n,o,i,a=this._x0,c=this._y0,u=this._x1,s=this._y1,l,d,f,h,p,g,b,m;if(!r)return this;if(r.length)for(;;){if((p=l>=(f=(a+u)/2))?a=f:u=f,(g=d>=(h=(c+s)/2))?c=h:s=h,e=r,!(r=r[b=g<<1|p]))return this;if(!r.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(n=e,m=b)}for(;r.data!==t;)if(o=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,o?(i?o.next=i:delete o.next,this):e?(i?e[b]=i:delete e[b],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[m]=r:this._root=r),this):(this._root=i,this)}function pot(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function got(){return this._root}function bot(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function mot(t){var e=[],r,n=this._root,o,i,a,c,u;for(n&&e.push(new sr(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,i=r.x0,a=r.y0,c=r.x1,u=r.y1)&&n.length){var s=(i+c)/2,l=(a+u)/2;(o=n[3])&&e.push(new sr(o,s,l,c,u)),(o=n[2])&&e.push(new sr(o,i,l,s,u)),(o=n[1])&&e.push(new sr(o,s,a,c,l)),(o=n[0])&&e.push(new sr(o,i,a,s,l))}return this}function vot(t){var e=[],r=[],n;for(this._root&&e.push(new sr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var i,a=n.x0,c=n.y0,u=n.x1,s=n.y1,l=(a+u)/2,d=(c+s)/2;(i=o[0])&&e.push(new sr(i,a,c,l,d)),(i=o[1])&&e.push(new sr(i,l,c,u,d)),(i=o[2])&&e.push(new sr(i,a,d,l,s)),(i=o[3])&&e.push(new sr(i,l,d,u,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function yot(t){return t[0]}function xot(t){return arguments.length?(this._x=t,this):this._x}function wot(t){return t[1]}function kot(t){return arguments.length?(this._y=t,this):this._y}function Rk(t,e,r){var n=new Lk(e??yot,r??wot,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function Lk(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function ZA(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var br=Rk.prototype=Lk.prototype;br.copy=function(){var t=new Lk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=ZA(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(n=e.source[o])&&(n.length?r.push({source:n,target:e.target[o]=new Array(4)}):e.target[o]=ZA(n));return t};br.add=cot;br.addAll=uot;br.cover=sot;br.data=lot;br.extent=dot;br.find=fot;br.remove=hot;br.removeAll=pot;br.root=got;br.size=bot;br.visit=mot;br.visitAfter=vot;br.x=xot;br.y=kot;function lr(t){return function(){return t}}function Li(t){return(t()-.5)*1e-6}function _ot(t){return t.x+t.vx}function Oot(t){return t.y+t.vy}function Eot(t){var e,r,n,o=1,i=1;typeof t!="function"&&(t=lr(t==null?1:+t));function a(){for(var s,l=e.length,d,f,h,p,g,b,m=0;m<i;++m)for(d=Rk(e,_ot,Oot).visitAfter(c),s=0;s<l;++s)f=e[s],g=r[f.index],b=g*g,h=f.x+f.vx,p=f.y+f.vy,d.visit(v);function v(y,x,k,_,w){var O=y.data,C=y.r,S=g+C;if(O){if(O.index>f.index){var A=h-O.x-O.vx,T=p-O.y-O.vy,$=A*A+T*T;$<S*S&&(A===0&&(A=Li(n),$+=A*A),T===0&&(T=Li(n),$+=T*T),$=(S-($=Math.sqrt($)))/$*o,f.vx+=(A*=$)*(S=(C*=C)/(b+C)),f.vy+=(T*=$)*S,O.vx-=A*(S=1-S),O.vy-=T*S)}return}return x>h+S||_<h-S||k>p+S||w<p-S}}function c(s){if(s.data)return s.r=r[s.data.index];for(var l=s.r=0;l<4;++l)s[l]&&s[l].r>s.r&&(s.r=s[l].r)}function u(){if(e){var s,l=e.length,d;for(r=new Array(l),s=0;s<l;++s)d=e[s],r[d.index]=+t(d,s,e)}}return a.initialize=function(s,l){e=s,n=l,u()},a.iterations=function(s){return arguments.length?(i=+s,a):i},a.strength=function(s){return arguments.length?(o=+s,a):o},a.radius=function(s){return arguments.length?(t=typeof s=="function"?s:lr(+s),u(),a):t},a}function Sot(t){return t.index}function tP(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function $ot(t){var e=Sot,r=d,n,o=lr(30),i,a,c,u,s,l=1;t==null&&(t=[]);function d(b){return 1/Math.min(c[b.source.index],c[b.target.index])}function f(b){for(var m=0,v=t.length;m<l;++m)for(var y=0,x,k,_,w,O,C,S;y<v;++y)x=t[y],k=x.source,_=x.target,w=_.x+_.vx-k.x-k.vx||Li(s),O=_.y+_.vy-k.y-k.vy||Li(s),C=Math.sqrt(w*w+O*O),C=(C-i[y])/C*b*n[y],w*=C,O*=C,_.vx-=w*(S=u[y]),_.vy-=O*S,k.vx+=w*(S=1-S),k.vy+=O*S}function h(){if(a){var b,m=a.length,v=t.length,y=new Map(a.map((k,_)=>[e(k,_,a),k])),x;for(b=0,c=new Array(m);b<v;++b)x=t[b],x.index=b,typeof x.source!="object"&&(x.source=tP(y,x.source)),typeof x.target!="object"&&(x.target=tP(y,x.target)),c[x.source.index]=(c[x.source.index]||0)+1,c[x.target.index]=(c[x.target.index]||0)+1;for(b=0,u=new Array(v);b<v;++b)x=t[b],u[b]=c[x.source.index]/(c[x.source.index]+c[x.target.index]);n=new Array(v),p(),i=new Array(v),g()}}function p(){if(a)for(var b=0,m=t.length;b<m;++b)n[b]=+r(t[b],b,t)}function g(){if(a)for(var b=0,m=t.length;b<m;++b)i[b]=+o(t[b],b,t)}return f.initialize=function(b,m){a=b,s=m,h()},f.links=function(b){return arguments.length?(t=b,h(),f):t},f.id=function(b){return arguments.length?(e=b,f):e},f.iterations=function(b){return arguments.length?(l=+b,f):l},f.strength=function(b){return arguments.length?(r=typeof b=="function"?b:lr(+b),p(),f):r},f.distance=function(b){return arguments.length?(o=typeof b=="function"?b:lr(+b),g(),f):o},f}var Cot={value:()=>{}};function XR(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Mh(r)}function Mh(t){this._=t}function Aot(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Mh.prototype=XR.prototype={constructor:Mh,on:function(t,e){var r=this._,n=Aot(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=Pot(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=eP(r[o],t.name,e);else if(e==null)for(o in r)r[o]=eP(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Mh(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function Pot(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function eP(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=Cot,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Zu=0,jl=0,il=0,KR=1e3,cg,Tl,ug=0,vc=0,Mb=0,yd=typeof performance=="object"&&performance.now?performance:Date,QR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ik(){return vc||(QR(Not),vc=yd.now()+Mb)}function Not(){vc=0}function sg(){this._call=this._time=this._next=null}sg.prototype=JR.prototype={constructor:sg,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Ik():+r)+(e==null?0:+e),!this._next&&Tl!==this&&(Tl?Tl._next=this:cg=this,Tl=this),this._call=t,this._time=r,By()},stop:function(){this._call&&(this._call=null,this._time=1/0,By())}};function JR(t,e,r){var n=new sg;return n.restart(t,e,r),n}function Dot(){Ik(),++Zu;for(var t=cg,e;t;)(e=vc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Zu}function rP(){vc=(ug=yd.now())+Mb,Zu=jl=0;try{Dot()}finally{Zu=0,Tot(),vc=0}}function jot(){var t=yd.now(),e=t-ug;e>KR&&(Mb-=e,ug=t)}function Tot(){for(var t,e=cg,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:cg=r);Tl=t,By(n)}function By(t){if(!Zu){jl&&(jl=clearTimeout(jl));var e=t-vc;e>24?(t<1/0&&(jl=setTimeout(rP,t-yd.now()-Mb)),il&&(il=clearInterval(il))):(il||(ug=yd.now(),il=setInterval(jot,KR)),Zu=1,QR(rP))}}function Mot(t,e,r){var n=new sg,o=e;return e==null?(n.restart(t,e,r),n):(n._restart=n.restart,n.restart=function(i,a,c){a=+a,c=c==null?Ik():+c,n._restart(function u(s){s+=o,n._restart(u,o+=a,c),i(s)},a,c)},n.restart(t,e,r),n)}const Fot=1664525,zot=1013904223,nP=4294967296;function Rot(){let t=1;return()=>(t=(Fot*t+zot)%nP)/nP}function Lot(t){return t.x}function Iot(t){return t.y}var Bot=10,Uot=Math.PI*(3-Math.sqrt(5));function qot(t){var e,r=1,n=.001,o=1-Math.pow(n,1/300),i=0,a=.6,c=new Map,u=JR(d),s=XR("tick","end"),l=Rot();t==null&&(t=[]);function d(){f(),s.call("tick",e),r<n&&(u.stop(),s.call("end",e))}function f(g){var b,m=t.length,v;g===void 0&&(g=1);for(var y=0;y<g;++y)for(r+=(i-r)*o,c.forEach(function(x){x(r)}),b=0;b<m;++b)v=t[b],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return e}function h(){for(var g=0,b=t.length,m;g<b;++g){if(m=t[g],m.index=g,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var v=Bot*Math.sqrt(.5+g),y=g*Uot;m.x=v*Math.cos(y),m.y=v*Math.sin(y)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(g){return g.initialize&&g.initialize(t,l),g}return h(),e={tick:f,restart:function(){return u.restart(d),e},stop:function(){return u.stop(),e},nodes:function(g){return arguments.length?(t=g,h(),c.forEach(p),e):t},alpha:function(g){return arguments.length?(r=+g,e):r},alphaMin:function(g){return arguments.length?(n=+g,e):n},alphaDecay:function(g){return arguments.length?(o=+g,e):+o},alphaTarget:function(g){return arguments.length?(i=+g,e):i},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(l=g,c.forEach(p),e):l},force:function(g,b){return arguments.length>1?(b==null?c.delete(g):c.set(g,p(b)),e):c.get(g)},find:function(g,b,m){var v=0,y=t.length,x,k,_,w,O;for(m==null?m=1/0:m*=m,v=0;v<y;++v)w=t[v],x=g-w.x,k=b-w.y,_=x*x+k*k,_<m&&(O=w,m=_);return O},on:function(g,b){return arguments.length>1?(s.on(g,b),e):s.on(g)}}}function Wot(){var t,e,r,n,o=lr(-30),i,a=1,c=1/0,u=.81;function s(h){var p,g=t.length,b=Rk(t,Lot,Iot).visitAfter(d);for(n=h,p=0;p<g;++p)e=t[p],b.visit(f)}function l(){if(t){var h,p=t.length,g;for(i=new Array(p),h=0;h<p;++h)g=t[h],i[g.index]=+o(g,h,t)}}function d(h){var p=0,g,b,m=0,v,y,x;if(h.length){for(v=y=x=0;x<4;++x)(g=h[x])&&(b=Math.abs(g.value))&&(p+=g.value,m+=b,v+=b*g.x,y+=b*g.y);h.x=v/m,h.y=y/m}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=i[g.data.index];while(g=g.next)}h.value=p}function f(h,p,g,b){if(!h.value)return!0;var m=h.x-e.x,v=h.y-e.y,y=b-p,x=m*m+v*v;if(y*y/u<x)return x<c&&(m===0&&(m=Li(r),x+=m*m),v===0&&(v=Li(r),x+=v*v),x<a&&(x=Math.sqrt(a*x)),e.vx+=m*h.value*n/x,e.vy+=v*h.value*n/x),!0;if(h.length||x>=c)return;(h.data!==e||h.next)&&(m===0&&(m=Li(r),x+=m*m),v===0&&(v=Li(r),x+=v*v),x<a&&(x=Math.sqrt(a*x)));do h.data!==e&&(y=i[h.data.index]*n/x,e.vx+=m*y,e.vy+=v*y);while(h=h.next)}return s.initialize=function(h,p){t=h,r=p,l()},s.strength=function(h){return arguments.length?(o=typeof h=="function"?h:lr(+h),l(),s):o},s.distanceMin=function(h){return arguments.length?(a=h*h,s):Math.sqrt(a)},s.distanceMax=function(h){return arguments.length?(c=h*h,s):Math.sqrt(c)},s.theta=function(h){return arguments.length?(u=h*h,s):Math.sqrt(u)},s}function Hot(t){var e=lr(.1),r,n,o;typeof t!="function"&&(t=lr(t==null?0:+t));function i(c){for(var u=0,s=r.length,l;u<s;++u)l=r[u],l.vx+=(o[u]-l.x)*n[u]*c}function a(){if(r){var c,u=r.length;for(n=new Array(u),o=new Array(u),c=0;c<u;++c)n[c]=isNaN(o[c]=+t(r[c],c,r))?0:+e(r[c],c,r)}}return i.initialize=function(c){r=c,a()},i.strength=function(c){return arguments.length?(e=typeof c=="function"?c:lr(+c),a(),i):e},i.x=function(c){return arguments.length?(t=typeof c=="function"?c:lr(+c),a(),i):t},i}function Got(t){var e=lr(.1),r,n,o;typeof t!="function"&&(t=lr(t==null?0:+t));function i(c){for(var u=0,s=r.length,l;u<s;++u)l=r[u],l.vy+=(o[u]-l.y)*n[u]*c}function a(){if(r){var c,u=r.length;for(n=new Array(u),o=new Array(u),c=0;c<u;++c)n[c]=isNaN(o[c]=+t(r[c],c,r))?0:+e(r[c],c,r)}}return i.initialize=function(c){r=c,a()},i.strength=function(c){return arguments.length?(e=typeof c=="function"?c:lr(+c),a(),i):e},i.y=function(c){return arguments.length?(t=typeof c=="function"?c:lr(+c),a(),i):t},i}const oP={center:aot,collide:Eot,nbody:Wot,link:$ot,x:Hot,y:Got},Ml="forces",Uy=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Yot=["static","iterations"],ZR=["x","y","vx","vy"];function Bk(t){M.call(this,null,t)}Bk.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ZR}]};X(Bk,M,{transform(t,e){var r=this.value,n=e.changed(e.ADD_REM),o=t.modified(Uy),i=t.iterations||300;if(r?(n&&(e.modifies("index"),r.nodes(e.source)),(o||e.changed(e.MOD))&&t5(r,t,0,e)):(this.value=r=Xot(e.source,t),r.on("tick",Vot(e.dataflow,this)),t.static||(n=!0,r.tick()),e.modifies("index")),o||n||t.modified(Yot)||e.changed()&&t.restart){if(r.alpha(Math.max(r.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/i)),t.static)for(r.stop();--i>=0;)r.tick();else if(r.stopped()&&r.restart(),!n)return e.StopPropagation}return this.finish(t,e)},finish(t,e){const r=e.dataflow;for(let c=this._argops,u=0,s=c.length,l;u<s;++u)if(l=c[u],!(l.name!==Ml||l.op._argval.force!=="link")){for(var n=l.op._argops,o=0,i=n.length,a;o<i;++o)if(n[o].name==="links"&&(a=n[o].op.source)){r.pulse(a,r.changeset().reflow());break}}return e.reflow(t.modified()).modifies(ZR)}});function Vot(t,e){return()=>t.touch(e).run()}function Xot(t,e){const r=qot(t),n=r.stop,o=r.restart;let i=!1;return r.stopped=()=>i,r.restart=()=>(i=!1,o()),r.stop=()=>(i=!0,n()),t5(r,e,!0).on("end",()=>i=!0)}function t5(t,e,r,n){var o=Z(e.forces),i,a,c,u;for(i=0,a=Uy.length;i<a;++i)c=Uy[i],c!==Ml&&e.modified(c)&&t[c](e[c]);for(i=0,a=o.length;i<a;++i)u=Ml+i,c=r||e.modified(Ml,i)?Qot(o[i]):n&&Kot(o[i],n)?t.force(u):null,c&&t.force(u,c);for(a=t.numForces||0;i<a;++i)t.force(Ml+i,null);return t.numForces=o.length,t}function Kot(t,e){var r,n;for(r in t)if(mt(n=t[r])&&e.modified(Ve(n)))return 1;return 0}function Qot(t){var e,r;lt(oP,t.force)||R("Unrecognized force: "+t.force),e=oP[t.force]();for(r in t)mt(e[r])&&Jot(e[r],t[r],t);return e}function Jot(t,e,r){t(mt(e)?n=>e(n,r):e)}var Zot=Object.freeze({__proto__:null,force:Bk});function tit(t,e){return t.parent===e.parent?1:2}function eit(t){return t.reduce(rit,0)/t.length}function rit(t,e){return t+e.x}function nit(t){return 1+t.reduce(oit,0)}function oit(t,e){return Math.max(t,e.y)}function iit(t){for(var e;e=t.children;)t=e[0];return t}function ait(t){for(var e;e=t.children;)t=e[e.length-1];return t}function cit(){var t=tit,e=1,r=1,n=!1;function o(i){var a,c=0;i.eachAfter(function(f){var h=f.children;h?(f.x=eit(h),f.y=nit(h)):(f.x=a?c+=t(f,a):0,f.y=0,a=f)});var u=iit(i),s=ait(i),l=u.x-t(u,s)/2,d=s.x+t(s,u)/2;return i.eachAfter(n?function(f){f.x=(f.x-i.x)*e,f.y=(i.y-f.y)*r}:function(f){f.x=(f.x-l)/(d-l)*e,f.y=(1-(i.y?f.y/i.y:1))*r})}return o.separation=function(i){return arguments.length?(t=i,o):t},o.size=function(i){return arguments.length?(n=!1,e=+i[0],r=+i[1],o):n?null:[e,r]},o.nodeSize=function(i){return arguments.length?(n=!0,e=+i[0],r=+i[1],o):n?[e,r]:null},o}function uit(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function sit(){return this.eachAfter(uit)}function lit(t,e){let r=-1;for(const n of this)t.call(e,n,++r,this);return this}function dit(t,e){for(var r=this,n=[r],o,i,a=-1;r=n.pop();)if(t.call(e,r,++a,this),o=r.children)for(i=o.length-1;i>=0;--i)n.push(o[i]);return this}function fit(t,e){for(var r=this,n=[r],o=[],i,a,c,u=-1;r=n.pop();)if(o.push(r),i=r.children)for(a=0,c=i.length;a<c;++a)n.push(i[a]);for(;r=o.pop();)t.call(e,r,++u,this);return this}function hit(t,e){let r=-1;for(const n of this)if(t.call(e,n,++r,this))return n}function pit(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,o=n&&n.length;--o>=0;)r+=n[o].value;e.value=r})}function git(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function bit(t){for(var e=this,r=mit(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var o=n.length;t!==r;)n.splice(o,0,t),t=t.parent;return n}function mit(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),o=null;for(t=r.pop(),e=n.pop();t===e;)o=t,t=r.pop(),e=n.pop();return o}function vit(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function yit(){return Array.from(this)}function xit(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function wit(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*kit(){var t=this,e,r=[t],n,o,i;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,n=t.children)for(o=0,i=n.length;o<i;++o)r.push(n[o]);while(r.length)}function Uk(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Eit)):e===void 0&&(e=Oit);for(var r=new ts(t),n,o=[r],i,a,c,u;n=o.pop();)if((a=e(n.data))&&(u=(a=Array.from(a)).length))for(n.children=a,c=u-1;c>=0;--c)o.push(i=a[c]=new ts(a[c])),i.parent=n,i.depth=n.depth+1;return r.eachBefore(e5)}function _it(){return Uk(this).eachBefore(Sit)}function Oit(t){return t.children}function Eit(t){return Array.isArray(t)?t[1]:null}function Sit(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function e5(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ts(t){this.data=t,this.depth=this.height=0,this.parent=null}ts.prototype=Uk.prototype={constructor:ts,count:sit,each:lit,eachAfter:fit,eachBefore:dit,find:hit,sum:pit,sort:git,path:bit,ancestors:vit,descendants:yit,leaves:xit,links:wit,copy:_it,[Symbol.iterator]:kit};function Fh(t){return t==null?null:r5(t)}function r5(t){if(typeof t!="function")throw new Error;return t}function Xa(){return 0}function pu(t){return function(){return t}}const $it=1664525,Cit=1013904223,iP=4294967296;function Ait(){let t=1;return()=>(t=($it*t+Cit)%iP)/iP}function Pit(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nit(t,e){let r=t.length,n,o;for(;r;)o=e()*r--|0,n=t[r],t[r]=t[o],t[o]=n;return t}function Dit(t,e){for(var r=0,n=(t=Nit(Array.from(t),e)).length,o=[],i,a;r<n;)i=t[r],a&&n5(a,i)?++r:(a=Tit(o=jit(o,i)),r=0);return a}function jit(t,e){var r,n;if(Cv(e,t))return[e];for(r=0;r<t.length;++r)if(rh(e,t[r])&&Cv(Fl(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(n=r+1;n<t.length;++n)if(rh(Fl(t[r],t[n]),e)&&rh(Fl(t[r],e),t[n])&&rh(Fl(t[n],e),t[r])&&Cv(o5(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error}function rh(t,e){var r=t.r-e.r,n=e.x-t.x,o=e.y-t.y;return r<0||r*r<n*n+o*o}function n5(t,e){var r=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,n=e.x-t.x,o=e.y-t.y;return r>0&&r*r>n*n+o*o}function Cv(t,e){for(var r=0;r<e.length;++r)if(!n5(t,e[r]))return!1;return!0}function Tit(t){switch(t.length){case 1:return Mit(t[0]);case 2:return Fl(t[0],t[1]);case 3:return o5(t[0],t[1],t[2])}}function Mit(t){return{x:t.x,y:t.y,r:t.r}}function Fl(t,e){var r=t.x,n=t.y,o=t.r,i=e.x,a=e.y,c=e.r,u=i-r,s=a-n,l=c-o,d=Math.sqrt(u*u+s*s);return{x:(r+i+u/d*l)/2,y:(n+a+s/d*l)/2,r:(d+o+c)/2}}function o5(t,e,r){var n=t.x,o=t.y,i=t.r,a=e.x,c=e.y,u=e.r,s=r.x,l=r.y,d=r.r,f=n-a,h=n-s,p=o-c,g=o-l,b=u-i,m=d-i,v=n*n+o*o-i*i,y=v-a*a-c*c+u*u,x=v-s*s-l*l+d*d,k=h*p-f*g,_=(p*x-g*y)/(k*2)-n,w=(g*b-p*m)/k,O=(h*y-f*x)/(k*2)-o,C=(f*m-h*b)/k,S=w*w+C*C-1,A=2*(i+_*w+O*C),T=_*_+O*O-i*i,$=-(Math.abs(S)>1e-6?(A+Math.sqrt(A*A-4*S*T))/(2*S):T/A);return{x:n+_+w*$,y:o+O+C*$,r:$}}function aP(t,e,r){var n=t.x-e.x,o,i,a=t.y-e.y,c,u,s=n*n+a*a;s?(i=e.r+r.r,i*=i,u=t.r+r.r,u*=u,i>u?(o=(s+u-i)/(2*s),c=Math.sqrt(Math.max(0,u/s-o*o)),r.x=t.x-o*n-c*a,r.y=t.y-o*a+c*n):(o=(s+i-u)/(2*s),c=Math.sqrt(Math.max(0,i/s-o*o)),r.x=e.x+o*n-c*a,r.y=e.y+o*a+c*n)):(r.x=e.x+r.r,r.y=e.y)}function cP(t,e){var r=t.r+e.r-1e-6,n=e.x-t.x,o=e.y-t.y;return r>0&&r*r>n*n+o*o}function uP(t){var e=t._,r=t.next._,n=e.r+r.r,o=(e.x*r.r+r.x*e.r)/n,i=(e.y*r.r+r.y*e.r)/n;return o*o+i*i}function nh(t){this._=t,this.next=null,this.previous=null}function Fit(t,e){if(!(i=(t=Pit(t)).length))return 0;var r,n,o,i,a,c,u,s,l,d,f;if(r=t[0],r.x=0,r.y=0,!(i>1))return r.r;if(n=t[1],r.x=-n.r,n.x=r.r,n.y=0,!(i>2))return r.r+n.r;aP(n,r,o=t[2]),r=new nh(r),n=new nh(n),o=new nh(o),r.next=o.previous=n,n.next=r.previous=o,o.next=n.previous=r;t:for(u=3;u<i;++u){aP(r._,n._,o=t[u]),o=new nh(o),s=n.next,l=r.previous,d=n._.r,f=r._.r;do if(d<=f){if(cP(s._,o._)){n=s,r.next=n,n.previous=r,--u;continue t}d+=s._.r,s=s.next}else{if(cP(l._,o._)){r=l,r.next=n,n.previous=r,--u;continue t}f+=l._.r,l=l.previous}while(s!==l.next);for(o.previous=r,o.next=n,r.next=n.previous=n=o,a=uP(r);(o=o.next)!==n;)(c=uP(o))<a&&(r=o,a=c);n=r.next}for(r=[n._],o=n;(o=o.next)!==n;)r.push(o._);for(o=Dit(r,e),u=0;u<i;++u)r=t[u],r.x-=o.x,r.y-=o.y;return o.r}function zit(t){return Math.sqrt(t.value)}function Rit(){var t=null,e=1,r=1,n=Xa;function o(i){const a=Ait();return i.x=e/2,i.y=r/2,t?i.eachBefore(sP(t)).eachAfter(Av(n,.5,a)).eachBefore(lP(1)):i.eachBefore(sP(zit)).eachAfter(Av(Xa,1,a)).eachAfter(Av(n,i.r/Math.min(e,r),a)).eachBefore(lP(Math.min(e,r)/(2*i.r))),i}return o.radius=function(i){return arguments.length?(t=Fh(i),o):t},o.size=function(i){return arguments.length?(e=+i[0],r=+i[1],o):[e,r]},o.padding=function(i){return arguments.length?(n=typeof i=="function"?i:pu(+i),o):n},o}function sP(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Av(t,e,r){return function(n){if(o=n.children){var o,i,a=o.length,c=t(n)*e||0,u;if(c)for(i=0;i<a;++i)o[i].r+=c;if(u=Fit(o,r),c)for(i=0;i<a;++i)o[i].r-=c;n.r=u+c}}}function lP(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function i5(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function lf(t,e,r,n,o){for(var i=t.children,a,c=-1,u=i.length,s=t.value&&(n-e)/t.value;++c<u;)a=i[c],a.y0=r,a.y1=o,a.x0=e,a.x1=e+=a.value*s}function Lit(){var t=1,e=1,r=0,n=!1;function o(a){var c=a.height+1;return a.x0=a.y0=r,a.x1=t,a.y1=e/c,a.eachBefore(i(e,c)),n&&a.eachBefore(i5),a}function i(a,c){return function(u){u.children&&lf(u,u.x0,a*(u.depth+1)/c,u.x1,a*(u.depth+2)/c);var s=u.x0,l=u.y0,d=u.x1-r,f=u.y1-r;d<s&&(s=d=(s+d)/2),f<l&&(l=f=(l+f)/2),u.x0=s,u.y0=l,u.x1=d,u.y1=f}}return o.round=function(a){return arguments.length?(n=!!a,o):n},o.size=function(a){return arguments.length?(t=+a[0],e=+a[1],o):[t,e]},o.padding=function(a){return arguments.length?(r=+a,o):r},o}var Iit={depth:-1},dP={},Pv={};function Bit(t){return t.id}function Uit(t){return t.parentId}function fP(){var t=Bit,e=Uit,r;function n(o){var i=Array.from(o),a=t,c=e,u,s,l,d,f,h,p,g,b=new Map;if(r!=null){const m=i.map((x,k)=>qit(r(x,k,o))),v=m.map(hP),y=new Set(m).add("");for(const x of v)y.has(x)||(y.add(x),m.push(x),v.push(hP(x)),i.push(Pv));a=(x,k)=>m[k],c=(x,k)=>v[k]}for(l=0,u=i.length;l<u;++l)s=i[l],h=i[l]=new ts(s),(p=a(s,l,o))!=null&&(p+="")&&(g=h.id=p,b.set(g,b.has(g)?dP:h)),(p=c(s,l,o))!=null&&(p+="")&&(h.parent=p);for(l=0;l<u;++l)if(h=i[l],p=h.parent){if(f=b.get(p),!f)throw new Error("missing: "+p);if(f===dP)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(r!=null){for(;d.data===Pv&&d.children.length===1;)d=d.children[0],--u;for(let m=i.length-1;m>=0&&(h=i[m],h.data===Pv);--m)h.data=null}if(d.parent=Iit,d.eachBefore(function(m){m.depth=m.parent.depth+1,--u}).eachBefore(e5),d.parent=null,u>0)throw new Error("cycle");return d}return n.id=function(o){return arguments.length?(t=Fh(o),n):t},n.parentId=function(o){return arguments.length?(e=Fh(o),n):e},n.path=function(o){return arguments.length?(r=Fh(o),n):r},n}function qit(t){t=`${t}`;let e=t.length;return qy(t,e-1)&&!qy(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function hP(t){let e=t.length;if(e<2)return"";for(;--e>1&&!qy(t,e););return t.slice(0,e)}function qy(t,e){if(t[e]==="/"){let r=0;for(;e>0&&t[--e]==="\\";)++r;if(!(r&1))return!0}return!1}function Wit(t,e){return t.parent===e.parent?1:2}function Nv(t){var e=t.children;return e?e[0]:t.t}function Dv(t){var e=t.children;return e?e[e.length-1]:t.t}function Hit(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function Git(t){for(var e=0,r=0,n=t.children,o=n.length,i;--o>=0;)i=n[o],i.z+=e,i.m+=e,e+=i.s+(r+=i.c)}function Yit(t,e,r){return t.a.parent===e.parent?t.a:r}function zh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}zh.prototype=Object.create(ts.prototype);function Vit(t){for(var e=new zh(t,0),r,n=[e],o,i,a,c;r=n.pop();)if(i=r._.children)for(r.children=new Array(c=i.length),a=c-1;a>=0;--a)n.push(o=r.children[a]=new zh(i[a],a)),o.parent=r;return(e.parent=new zh(null,0)).children=[e],e}function Xit(){var t=Wit,e=1,r=1,n=null;function o(s){var l=Vit(s);if(l.eachAfter(i),l.parent.m=-l.z,l.eachBefore(a),n)s.eachBefore(u);else{var d=s,f=s,h=s;s.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var p=d===f?1:t(d,f)/2,g=p-d.x,b=e/(f.x+p+g),m=r/(h.depth||1);s.eachBefore(function(v){v.x=(v.x+g)*b,v.y=v.depth*m})}return s}function i(s){var l=s.children,d=s.parent.children,f=s.i?d[s.i-1]:null;if(l){Git(s);var h=(l[0].z+l[l.length-1].z)/2;f?(s.z=f.z+t(s._,f._),s.m=s.z-h):s.z=h}else f&&(s.z=f.z+t(s._,f._));s.parent.A=c(s,f,s.parent.A||d[0])}function a(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function c(s,l,d){if(l){for(var f=s,h=s,p=l,g=f.parent.children[0],b=f.m,m=h.m,v=p.m,y=g.m,x;p=Dv(p),f=Nv(f),p&&f;)g=Nv(g),h=Dv(h),h.a=s,x=p.z+v-f.z-b+t(p._,f._),x>0&&(Hit(Yit(p,s,d),s,x),b+=x,m+=x),v+=p.m,b+=f.m,y+=g.m,m+=h.m;p&&!Dv(h)&&(h.t=p,h.m+=v-m),f&&!Nv(g)&&(g.t=f,g.m+=b-y,d=s)}return d}function u(s){s.x*=e,s.y=s.depth*r}return o.separation=function(s){return arguments.length?(t=s,o):t},o.size=function(s){return arguments.length?(n=!1,e=+s[0],r=+s[1],o):n?null:[e,r]},o.nodeSize=function(s){return arguments.length?(n=!0,e=+s[0],r=+s[1],o):n?[e,r]:null},o}function Fb(t,e,r,n,o){for(var i=t.children,a,c=-1,u=i.length,s=t.value&&(o-r)/t.value;++c<u;)a=i[c],a.x0=e,a.x1=n,a.y0=r,a.y1=r+=a.value*s}var a5=(1+Math.sqrt(5))/2;function c5(t,e,r,n,o,i){for(var a=[],c=e.children,u,s,l=0,d=0,f=c.length,h,p,g=e.value,b,m,v,y,x,k,_;l<f;){h=o-r,p=i-n;do b=c[d++].value;while(!b&&d<f);for(m=v=b,k=Math.max(p/h,h/p)/(g*t),_=b*b*k,x=Math.max(v/_,_/m);d<f;++d){if(b+=s=c[d].value,s<m&&(m=s),s>v&&(v=s),_=b*b*k,y=Math.max(v/_,_/m),y>x){b-=s;break}x=y}a.push(u={value:b,dice:h<p,children:c.slice(l,d)}),u.dice?lf(u,r,n,o,g?n+=p*b/g:i):Fb(u,r,n,g?r+=h*b/g:o,i),g-=b,l=d}return a}var u5=function t(e){function r(n,o,i,a,c){c5(e,n,o,i,a,c)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(a5);function Kit(){var t=u5,e=!1,r=1,n=1,o=[0],i=Xa,a=Xa,c=Xa,u=Xa,s=Xa;function l(f){return f.x0=f.y0=0,f.x1=r,f.y1=n,f.eachBefore(d),o=[0],e&&f.eachBefore(i5),f}function d(f){var h=o[f.depth],p=f.x0+h,g=f.y0+h,b=f.x1-h,m=f.y1-h;b<p&&(p=b=(p+b)/2),m<g&&(g=m=(g+m)/2),f.x0=p,f.y0=g,f.x1=b,f.y1=m,f.children&&(h=o[f.depth+1]=i(f)/2,p+=s(f)-h,g+=a(f)-h,b-=c(f)-h,m-=u(f)-h,b<p&&(p=b=(p+b)/2),m<g&&(g=m=(g+m)/2),t(f,p,g,b,m))}return l.round=function(f){return arguments.length?(e=!!f,l):e},l.size=function(f){return arguments.length?(r=+f[0],n=+f[1],l):[r,n]},l.tile=function(f){return arguments.length?(t=r5(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(i=typeof f=="function"?f:pu(+f),l):i},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:pu(+f),l):a},l.paddingRight=function(f){return arguments.length?(c=typeof f=="function"?f:pu(+f),l):c},l.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:pu(+f),l):u},l.paddingLeft=function(f){return arguments.length?(s=typeof f=="function"?f:pu(+f),l):s},l}function Qit(t,e,r,n,o){var i=t.children,a,c=i.length,u,s=new Array(c+1);for(s[0]=u=a=0;a<c;++a)s[a+1]=u+=i[a].value;l(0,c,t.value,e,r,n,o);function l(d,f,h,p,g,b,m){if(d>=f-1){var v=i[d];v.x0=p,v.y0=g,v.x1=b,v.y1=m;return}for(var y=s[d],x=h/2+y,k=d+1,_=f-1;k<_;){var w=k+_>>>1;s[w]<x?k=w+1:_=w}x-s[k-1]<s[k]-x&&d+1<k&&--k;var O=s[k]-y,C=h-O;if(b-p>m-g){var S=h?(p*C+b*O)/h:b;l(d,k,O,p,g,S,m),l(k,f,C,S,g,b,m)}else{var A=h?(g*C+m*O)/h:m;l(d,k,O,p,g,b,A),l(k,f,C,p,A,b,m)}}}function Jit(t,e,r,n,o){(t.depth&1?Fb:lf)(t,e,r,n,o)}var Zit=function t(e){function r(n,o,i,a,c){if((u=n._squarify)&&u.ratio===e)for(var u,s,l,d,f=-1,h,p=u.length,g=n.value;++f<p;){for(s=u[f],l=s.children,d=s.value=0,h=l.length;d<h;++d)s.value+=l[d].value;s.dice?lf(s,o,i,a,g?i+=(c-i)*s.value/g:c):Fb(s,o,i,g?o+=(a-o)*s.value/g:a,c),g-=s.value}else n._squarify=u=c5(e,n,o,i,a,c),u.ratio=e}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(a5);function Wy(t,e,r){const n={};return t.each(o=>{const i=o.data;r(i)&&(n[e(i)]=o)}),t.lookup=n,t}function qk(t){M.call(this,null,t)}qk.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const tat=t=>t.values;X(qk,M,{transform(t,e){e.source||R("Nest transform requires an upstream data source.");var r=t.generate,n=t.modified(),o=e.clone(),i=this.value;return(!i||n||e.changed())&&(i&&i.each(a=>{a.children&&Kg(a.data)&&o.rem.push(a.data)}),this.value=i=Uk({values:Z(t.keys).reduce((a,c)=>(a.key(c),a),eat()).entries(o.source)},tat),r&&i.each(a=>{a.children&&(a=Ft(a.data),o.add.push(a),o.source.push(a))}),Wy(i,ut,ut)),o.source.root=i,o}});function eat(){const t=[],e={entries:o=>n(r(o,0),0),key:o=>(t.push(o),e)};function r(o,i){if(i>=t.length)return o;const a=o.length,c=t[i++],u={},s={};let l=-1,d,f,h;for(;++l<a;)d=c(f=o[l])+"",(h=u[d])?h.push(f):u[d]=[f];for(d in u)s[d]=r(u[d],i);return s}function n(o,i){if(++i>t.length)return o;const a=[];for(const c in o)a.push({key:c,values:n(o[c],i)});return a}return e}function fi(t){M.call(this,null,t)}const rat=(t,e)=>t.parent===e.parent?1:2;X(fi,M,{transform(t,e){(!e.source||!e.source.root)&&R(this.constructor.name+" transform requires a backing tree data source.");const r=this.layout(t.method),n=this.fields,o=e.source.root,i=t.as||n;t.field?o.sum(t.field):o.count(),t.sort&&o.sort(Fc(t.sort,a=>a.data)),nat(r,this.params,t),r.separation&&r.separation(t.separation!==!1?rat:ms);try{this.value=r(o)}catch(a){R(a)}return o.each(a=>oat(a,n,i)),e.reflow(t.modified()).modifies(i).modifies("leaf")}});function nat(t,e,r){for(let n,o=0,i=e.length;o<i;++o)n=e[o],n in r&&t[n](r[n])}function oat(t,e,r){const n=t.data,o=e.length-1;for(let i=0;i<o;++i)n[r[i]]=t[e[i]];n[r[o]]=t.children?t.children.length:0}const Hy=["x","y","r","depth","children"];function Wk(t){fi.call(this,t)}Wk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Hy.length,default:Hy}]};X(Wk,fi,{layout:Rit,params:["radius","size","padding"],fields:Hy});const Gy=["x0","y0","x1","y1","depth","children"];function Hk(t){fi.call(this,t)}Hk.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Gy.length,default:Gy}]};X(Hk,fi,{layout:Lit,params:["size","round","padding"],fields:Gy});function Gk(t){M.call(this,null,t)}Gk.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};X(Gk,M,{transform(t,e){e.source||R("Stratify transform requires an upstream data source.");let r=this.value;const n=t.modified(),o=e.fork(e.ALL).materialize(e.SOURCE),i=!r||n||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return o.source=o.source.slice(),i&&(r=o.source.length?Wy(fP().id(t.key).parentId(t.parentKey)(o.source),t.key,an):Wy(fP()([{}]),t.key,t.key)),o.source.root=this.value=r,o}});const pP={tidy:Xit,cluster:cit},Yy=["x","y","depth","children"];function Yk(t){fi.call(this,t)}Yk.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Yy.length,default:Yy}]};X(Yk,fi,{layout(t){const e=t||"tidy";if(lt(pP,e))return pP[e]();R("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:Yy});function Vk(t){M.call(this,[],t)}Vk.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};X(Vk,M,{transform(t,e){const r=this.value,n=e.source&&e.source.root,o=e.fork(e.NO_SOURCE),i={};return n||R("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(o.rem=r,e.visit(e.SOURCE,a=>i[ut(a)]=1),n.each(a=>{const c=a.data,u=a.parent&&a.parent.data;u&&i[ut(c)]&&i[ut(u)]&&o.add.push(Ft({source:u,target:c}))}),this.value=o.add):e.changed(e.MOD)&&(e.visit(e.MOD,a=>i[ut(a)]=1),r.forEach(a=>{(i[ut(a.source)]||i[ut(a.target)])&&o.mod.push(a)})),o}});const gP={binary:Qit,dice:lf,slice:Fb,slicedice:Jit,squarify:u5,resquarify:Zit},Vy=["x0","y0","x1","y1","depth","children"];function Xk(t){fi.call(this,t)}Xk.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Vy.length,default:Vy}]};X(Xk,fi,{layout(){const t=Kit();return t.ratio=e=>{const r=t.tile();r.ratio&&t.tile(r.ratio(e))},t.method=e=>{lt(gP,e)?t.tile(gP[e]):R("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Vy});var iat=Object.freeze({__proto__:null,nest:qk,pack:Wk,partition:Hk,stratify:Gk,tree:Yk,treelinks:Vk,treemap:Xk});const jv=4278190080;function aat(t,e){const r=t.bitmap();return(e||[]).forEach(n=>r.set(t(n.boundary[0]),t(n.boundary[3]))),[r,void 0]}function cat(t,e,r,n,o){const i=t.width,a=t.height,c=n||o,u=Hi(i,a).getContext("2d"),s=Hi(i,a).getContext("2d"),l=c&&Hi(i,a).getContext("2d");r.forEach(O=>Rh(u,O,!1)),Rh(s,e,!1),c&&Rh(l,e,!0);const d=Tv(u,i,a),f=Tv(s,i,a),h=c&&Tv(l,i,a),p=t.bitmap(),g=c&&t.bitmap();let b,m,v,y,x,k,_,w;for(m=0;m<a;++m)for(b=0;b<i;++b)x=m*i+b,k=d[x]&jv,w=f[x]&jv,_=c&&h[x]&jv,(k||_||w)&&(v=t(b),y=t(m),!o&&(k||w)&&p.set(v,y),c&&(k||_)&&g.set(v,y));return[p,g]}function Tv(t,e,r){return new Uint32Array(t.getImageData(0,0,e,r).data.buffer)}function Rh(t,e,r){if(!e.length)return;const n=e[0].mark.marktype;n==="group"?e.forEach(o=>{o.items.forEach(i=>Rh(t,i.items,r))}):Vr[n].draw(t,{items:r?e.map(uat):e})}function uat(t){const e=Qg(t,{});return e.stroke&&e.strokeOpacity!==0||e.fill&&e.fillOpacity!==0?{...e,strokeOpacity:1,stroke:"#000",fillOpacity:0}:e}const Lo=5,rr=31,xd=32,Ai=new Uint32Array(xd+1),kn=new Uint32Array(xd+1);kn[0]=0;Ai[0]=~kn[0];for(let t=1;t<=xd;++t)kn[t]=kn[t-1]<<1|1,Ai[t]=~kn[t];function sat(t,e){const r=new Uint32Array(~~((t*e+xd)/xd));function n(i,a){r[i]|=a}function o(i,a){r[i]&=a}return{array:r,get:(i,a)=>{const c=a*t+i;return r[c>>>Lo]&1<<(c&rr)},set:(i,a)=>{const c=a*t+i;n(c>>>Lo,1<<(c&rr))},clear:(i,a)=>{const c=a*t+i;o(c>>>Lo,~(1<<(c&rr)))},getRange:(i,a,c,u)=>{let s=u,l,d,f,h;for(;s>=a;--s)if(l=s*t+i,d=s*t+c,f=l>>>Lo,h=d>>>Lo,f===h){if(r[f]&Ai[l&rr]&kn[(d&rr)+1])return!0}else{if(r[f]&Ai[l&rr]||r[h]&kn[(d&rr)+1])return!0;for(let p=f+1;p<h;++p)if(r[p])return!0}return!1},setRange:(i,a,c,u)=>{let s,l,d,f,h;for(;a<=u;++a)if(s=a*t+i,l=a*t+c,d=s>>>Lo,f=l>>>Lo,d===f)n(d,Ai[s&rr]&kn[(l&rr)+1]);else for(n(d,Ai[s&rr]),n(f,kn[(l&rr)+1]),h=d+1;h<f;++h)n(h,4294967295)},clearRange:(i,a,c,u)=>{let s,l,d,f,h;for(;a<=u;++a)if(s=a*t+i,l=a*t+c,d=s>>>Lo,f=l>>>Lo,d===f)o(d,kn[s&rr]|Ai[(l&rr)+1]);else for(o(d,kn[s&rr]),o(f,Ai[(l&rr)+1]),h=d+1;h<f;++h)o(h,0)},outOfBounds:(i,a,c,u)=>i<0||a<0||u>=e||c>=t}}function lat(t,e,r){const n=Math.max(1,Math.sqrt(t*e/1e6)),o=~~((t+2*r+n)/n),i=~~((e+2*r+n)/n),a=c=>~~((c+r)/n);return a.invert=c=>c*n-r,a.bitmap=()=>sat(o,i),a.ratio=n,a.padding=r,a.width=t,a.height=e,a}function dat(t,e,r,n){const o=t.width,i=t.height;return function(a){const c=a.datum.datum.items[n].items,u=c.length,s=a.datum.fontSize,l=Dn.width(a.datum,a.datum.text);let d=0,f,h,p,g,b,m,v;for(let y=0;y<u;++y)f=c[y].x,p=c[y].y,h=c[y].x2===void 0?f:c[y].x2,g=c[y].y2===void 0?p:c[y].y2,b=(f+h)/2,m=(p+g)/2,v=Math.abs(h-f+g-p),v>=d&&(d=v,a.x=b,a.y=m);return b=l/2,m=s/2,f=a.x-b,h=a.x+b,p=a.y-m,g=a.y+m,a.align="center",f<0&&h<=o?a.align="left":0<=f&&o<h&&(a.align="right"),a.baseline="middle",p<0&&g<=i?a.baseline="top":0<=p&&i<g&&(a.baseline="bottom"),!0}}function lg(t,e,r,n,o,i){let a=r/2;return t-a<0||t+a>o||e-(a=n/2)<0||e+a>i}function Ii(t,e,r,n,o,i,a,c){const u=o*i/(n*2),s=t(e-u),l=t(e+u),d=t(r-(i=i/2)),f=t(r+i);return a.outOfBounds(s,d,l,f)||a.getRange(s,d,l,f)||c&&c.getRange(s,d,l,f)}function fat(t,e,r,n){const o=t.width,i=t.height,a=e[0],c=e[1];function u(s,l,d,f,h){const p=t.invert(s),g=t.invert(l);let b=d,m=i,v;if(!lg(p,g,f,h,o,i)&&!Ii(t,p,g,h,f,b,a,c)&&!Ii(t,p,g,h,f,h,a,null)){for(;m-b>=1;)v=(b+m)/2,Ii(t,p,g,h,f,v,a,c)?m=v:b=v;if(b>d)return[p,g,b,!0]}}return function(s){const l=s.datum.datum.items[n].items,d=l.length,f=s.datum.fontSize,h=Dn.width(s.datum,s.datum.text);let p=r?f:0,g=!1,b=!1,m=0,v,y,x,k,_,w,O,C,S,A,T,$,P,E,N,D,F;for(let I=0;I<d;++I){for(v=l[I].x,x=l[I].y,y=l[I].x2===void 0?v:l[I].x2,k=l[I].y2===void 0?x:l[I].y2,v>y&&(F=v,v=y,y=F),x>k&&(F=x,x=k,k=F),S=t(v),T=t(y),A=~~((S+T)/2),$=t(x),E=t(k),P=~~(($+E)/2),O=A;O>=S;--O)for(C=P;C>=$;--C)D=u(O,C,p,h,f),D&&([s.x,s.y,p,g]=D);for(O=A;O<=T;++O)for(C=P;C<=E;++C)D=u(O,C,p,h,f),D&&([s.x,s.y,p,g]=D);!g&&!r&&(N=Math.abs(y-v+k-x),_=(v+y)/2,w=(x+k)/2,N>=m&&!lg(_,w,h,f,o,i)&&!Ii(t,_,w,f,h,f,a,null)&&(m=N,s.x=_,s.y=w,b=!0))}return g||b?(_=h/2,w=f/2,a.setRange(t(s.x-_),t(s.y-w),t(s.x+_),t(s.y+w)),s.align="center",s.baseline="middle",!0):!1}}const hat=[-1,-1,1,1],pat=[-1,1,-1,1];function gat(t,e,r,n){const o=t.width,i=t.height,a=e[0],c=e[1],u=t.bitmap();return function(s){const l=s.datum.datum.items[n].items,d=l.length,f=s.datum.fontSize,h=Dn.width(s.datum,s.datum.text),p=[];let g=r?f:0,b=!1,m=!1,v=0,y,x,k,_,w,O,C,S,A,T,$,P;for(let E=0;E<d;++E){for(y=l[E].x,k=l[E].y,x=l[E].x2===void 0?y:l[E].x2,_=l[E].y2===void 0?k:l[E].y2,p.push([t((y+x)/2),t((k+_)/2)]);p.length;)if([C,S]=p.pop(),!(a.get(C,S)||c.get(C,S)||u.get(C,S))){u.set(C,S);for(let N=0;N<4;++N)w=C+hat[N],O=S+pat[N],u.outOfBounds(w,O,w,O)||p.push([w,O]);if(w=t.invert(C),O=t.invert(S),A=g,T=i,!lg(w,O,h,f,o,i)&&!Ii(t,w,O,f,h,A,a,c)&&!Ii(t,w,O,f,h,f,a,null)){for(;T-A>=1;)$=(A+T)/2,Ii(t,w,O,f,h,$,a,c)?T=$:A=$;A>g&&(s.x=w,s.y=O,g=A,b=!0)}}!b&&!r&&(P=Math.abs(x-y+_-k),w=(y+x)/2,O=(k+_)/2,P>=v&&!lg(w,O,h,f,o,i)&&!Ii(t,w,O,f,h,f,a,null)&&(v=P,s.x=w,s.y=O,m=!0))}return b||m?(w=h/2,O=f/2,a.setRange(t(s.x-w),t(s.y-O),t(s.x+w),t(s.y+O)),s.align="center",s.baseline="middle",!0):!1}}const bat=["right","center","left"],mat=["bottom","middle","top"];function vat(t,e,r,n){const o=t.width,i=t.height,a=e[0],c=e[1],u=n.length;return function(s){const l=s.boundary,d=s.datum.fontSize;if(l[2]<0||l[5]<0||l[0]>o||l[3]>i)return!1;let f=s.textWidth??0,h,p,g,b,m,v,y,x,k,_,w,O,C,S,A;for(let T=0;T<u;++T){if(h=(r[T]&3)-1,p=(r[T]>>>2&3)-1,g=h===0&&p===0||n[T]<0,b=h&&p?Math.SQRT1_2:1,m=n[T]<0?-1:1,v=l[1+h]+n[T]*h*b,w=l[4+p]+m*d*p/2+n[T]*p*b,x=w-d/2,k=w+d/2,O=t(v),S=t(x),A=t(k),!f)if(bP(O,O,S,A,a,c,v,v,x,k,l,g))f=Dn.width(s.datum,s.datum.text);else continue;if(_=v+m*f*h/2,v=_-f/2,y=_+f/2,O=t(v),C=t(y),bP(O,C,S,A,a,c,v,y,x,k,l,g))return s.x=h?h*m<0?y:v:_,s.y=p?p*m<0?k:x:w,s.align=bat[h*m+1],s.baseline=mat[p*m+1],a.setRange(O,S,C,A),!0}return!1}}function bP(t,e,r,n,o,i,a,c,u,s,l,d){return!(o.outOfBounds(t,r,e,n)||(d&&i||o).getRange(t,r,e,n))}const Mv=0,Fv=4,zv=8,Rv=0,Lv=1,Iv=2,yat={"top-left":Mv+Rv,top:Mv+Lv,"top-right":Mv+Iv,left:Fv+Rv,middle:Fv+Lv,right:Fv+Iv,"bottom-left":zv+Rv,bottom:zv+Lv,"bottom-right":zv+Iv},xat={naive:dat,"reduced-search":fat,floodfill:gat};function wat(t,e,r,n,o,i,a,c,u,s,l){if(!t.length)return t;const d=Math.max(n.length,o.length),f=kat(n,d),h=_at(o,d),p=Oat(t[0].datum),g=p==="group"&&t[0].datum.items[u].marktype,b=g==="area",m=Eat(p,g,c,u),v=s===null||s===1/0,y=b&&l==="naive";let x=-1,k=-1;const _=t.map(S=>{const A=v?Dn.width(S,S.text):void 0;return x=Math.max(x,A),k=Math.max(k,S.fontSize),{datum:S,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:m(S),textWidth:A}});s=s===null||s===1/0?Math.max(x,k)+Math.max(...n):s;const w=lat(e[0],e[1],s);let O;if(!y){r&&_.sort((T,$)=>r(T.datum,$.datum));let S=!1;for(let T=0;T<h.length&&!S;++T)S=h[T]===5||f[T]<0;const A=(p&&a||b)&&t.map(T=>T.datum);O=i.length||A?cat(w,A||[],i,S,b):aat(w,a&&_)}const C=b?xat[l](w,O,a,u):vat(w,O,h,f);return _.forEach(S=>S.opacity=+C(S)),_}function kat(t,e){const r=new Float64Array(e),n=t.length;for(let o=0;o<n;++o)r[o]=t[o]||0;for(let o=n;o<e;++o)r[o]=r[n-1];return r}function _at(t,e){const r=new Int8Array(e),n=t.length;for(let o=0;o<n;++o)r[o]|=yat[t[o]];for(let o=n;o<e;++o)r[o]=r[n-1];return r}function Oat(t){return t&&t.mark&&t.mark.marktype}function Eat(t,e,r,n){const o=i=>[i.x,i.x,i.x,i.y,i.y,i.y];return t?t==="line"||t==="area"?i=>o(i.datum):e==="line"?i=>{const a=i.datum.items[n].items;return o(a.length?a[r==="start"?0:a.length-1]:{x:NaN,y:NaN})}:i=>{const a=i.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:o}const Xy=["x","y","opacity","align","baseline"],s5=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Kk(t){M.call(this,null,t)}Kk.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:s5},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Xy.length,default:Xy}]};X(Kk,M,{transform(t,e){function r(i){const a=t[i];return mt(a)&&e.modified(a.fields)}const n=t.modified();if(!(n||e.changed(e.ADD_REM)||r("sort")))return;(!t.size||t.size.length!==2)&&R("Size parameter should be specified as a [width, height] array.");const o=t.as||Xy;return wat(e.materialize(e.SOURCE).source||[],t.size,t.sort,Z(t.offset==null?1:t.offset),Z(t.anchor||s5),t.avoidMarks||[],t.avoidBaseMark!==!1,t.lineAnchor||"end",t.markIndex||0,t.padding===void 0?0:t.padding,t.method||"naive").forEach(i=>{const a=i.datum;a[o[0]]=i.x,a[o[1]]=i.y,a[o[2]]=i.opacity,a[o[3]]=i.align,a[o[4]]=i.baseline}),e.reflow(n).modifies(o)}});var Sat=Object.freeze({__proto__:null,label:Kk});function l5(t,e){var r=[],n=function(l){return l(c)},o,i,a,c,u,s;if(e==null)r.push(t);else for(o={},i=0,a=t.length;i<a;++i)c=t[i],u=e.map(n),s=o[u],s||(o[u]=s=[],s.dims=u,r.push(s)),s.push(c);return r}function Qk(t){M.call(this,null,t)}Qk.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};X(Qk,M,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const n=e.materialize(e.SOURCE).source,o=l5(n,t.groupby),i=(t.groupby||[]).map(ae),a=i.length,c=t.as||[ae(t.x),ae(t.y)],u=[];o.forEach(s=>{OM(s,t.x,t.y,t.bandwidth||.3).forEach(l=>{const d={};for(let f=0;f<a;++f)d[i[f]]=s.dims[f];d[c[0]]=l[0],d[c[1]]=l[1],u.push(Ft(d))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=u}return r}});const Ky={constant:Ax,linear:Px,log:xM,exp:wM,pow:kM,quad:Nx,poly:_M},$at=(t,e)=>t==="poly"?e:t==="quad"?2:1;function Jk(t){M.call(this,null,t)}Jk.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Ky)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};X(Jk,M,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const n=e.materialize(e.SOURCE).source,o=l5(n,t.groupby),i=(t.groupby||[]).map(ae),a=t.method||"linear",c=t.order==null?3:t.order,u=$at(a,c),s=t.as||[ae(t.x),ae(t.y)],l=Ky[a],d=[];let f=t.extent;lt(Ky,a)||R("Invalid regression method: "+a),f!=null&&a==="log"&&f[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),o.forEach(h=>{if(h.length<=u){e.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=l(h,t.x,t.y,c);if(t.params){d.push(Ft({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const b=f||go(h,t.x),m=v=>{const y={};for(let x=0;x<i.length;++x)y[i[x]]=h.dims[x];y[s[0]]=v[0],y[s[1]]=v[1],d.push(Ft(y))};a==="linear"||a==="constant"?b.forEach(v=>m([v,g.predict(v)])):ob(g.predict,b,25,200).forEach(m)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=d}return r}});var Cat=Object.freeze({__proto__:null,loess:Qk,regression:Jk});const ei=11102230246251565e-32,Le=134217729,Aat=(3+8*ei)*ei;function Bv(t,e,r,n,o){let i,a,c,u,s=e[0],l=n[0],d=0,f=0;l>s==l>-s?(i=s,s=e[++d]):(i=l,l=n[++f]);let h=0;if(d<t&&f<r)for(l>s==l>-s?(a=s+i,c=i-(a-s),s=e[++d]):(a=l+i,c=i-(a-l),l=n[++f]),i=a,c!==0&&(o[h++]=c);d<t&&f<r;)l>s==l>-s?(a=i+s,u=a-i,c=i-(a-u)+(s-u),s=e[++d]):(a=i+l,u=a-i,c=i-(a-u)+(l-u),l=n[++f]),i=a,c!==0&&(o[h++]=c);for(;d<t;)a=i+s,u=a-i,c=i-(a-u)+(s-u),s=e[++d],i=a,c!==0&&(o[h++]=c);for(;f<r;)a=i+l,u=a-i,c=i-(a-u)+(l-u),l=n[++f],i=a,c!==0&&(o[h++]=c);return(i!==0||h===0)&&(o[h++]=i),h}function Pat(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}function df(t){return new Float64Array(t)}const Nat=(3+16*ei)*ei,Dat=(2+12*ei)*ei,jat=(9+64*ei)*ei*ei,au=df(4),mP=df(8),vP=df(12),yP=df(16),nr=df(4);function Tat(t,e,r,n,o,i,a){let c,u,s,l,d,f,h,p,g,b,m,v,y,x,k,_,w,O;const C=t-o,S=r-o,A=e-i,T=n-i;x=C*T,f=Le*C,h=f-(f-C),p=C-h,f=Le*T,g=f-(f-T),b=T-g,k=p*b-(x-h*g-p*g-h*b),_=A*S,f=Le*A,h=f-(f-A),p=A-h,f=Le*S,g=f-(f-S),b=S-g,w=p*b-(_-h*g-p*g-h*b),m=k-w,d=k-m,au[0]=k-(m+d)+(d-w),v=x+m,d=v-x,y=x-(v-d)+(m-d),m=y-_,d=y-m,au[1]=y-(m+d)+(d-_),O=v+m,d=O-v,au[2]=v-(O-d)+(m-d),au[3]=O;let $=Pat(4,au),P=Dat*a;if($>=P||-$>=P||(d=t-C,c=t-(C+d)+(d-o),d=r-S,s=r-(S+d)+(d-o),d=e-A,u=e-(A+d)+(d-i),d=n-T,l=n-(T+d)+(d-i),c===0&&u===0&&s===0&&l===0)||(P=jat*a+Aat*Math.abs($),$+=C*l+T*c-(A*s+S*u),$>=P||-$>=P))return $;x=c*T,f=Le*c,h=f-(f-c),p=c-h,f=Le*T,g=f-(f-T),b=T-g,k=p*b-(x-h*g-p*g-h*b),_=u*S,f=Le*u,h=f-(f-u),p=u-h,f=Le*S,g=f-(f-S),b=S-g,w=p*b-(_-h*g-p*g-h*b),m=k-w,d=k-m,nr[0]=k-(m+d)+(d-w),v=x+m,d=v-x,y=x-(v-d)+(m-d),m=y-_,d=y-m,nr[1]=y-(m+d)+(d-_),O=v+m,d=O-v,nr[2]=v-(O-d)+(m-d),nr[3]=O;const E=Bv(4,au,4,nr,mP);x=C*l,f=Le*C,h=f-(f-C),p=C-h,f=Le*l,g=f-(f-l),b=l-g,k=p*b-(x-h*g-p*g-h*b),_=A*s,f=Le*A,h=f-(f-A),p=A-h,f=Le*s,g=f-(f-s),b=s-g,w=p*b-(_-h*g-p*g-h*b),m=k-w,d=k-m,nr[0]=k-(m+d)+(d-w),v=x+m,d=v-x,y=x-(v-d)+(m-d),m=y-_,d=y-m,nr[1]=y-(m+d)+(d-_),O=v+m,d=O-v,nr[2]=v-(O-d)+(m-d),nr[3]=O;const N=Bv(E,mP,4,nr,vP);x=c*l,f=Le*c,h=f-(f-c),p=c-h,f=Le*l,g=f-(f-l),b=l-g,k=p*b-(x-h*g-p*g-h*b),_=u*s,f=Le*u,h=f-(f-u),p=u-h,f=Le*s,g=f-(f-s),b=s-g,w=p*b-(_-h*g-p*g-h*b),m=k-w,d=k-m,nr[0]=k-(m+d)+(d-w),v=x+m,d=v-x,y=x-(v-d)+(m-d),m=y-_,d=y-m,nr[1]=y-(m+d)+(d-_),O=v+m,d=O-v,nr[2]=v-(O-d)+(m-d),nr[3]=O;const D=Bv(N,vP,4,nr,yP);return yP[D-1]}function oh(t,e,r,n,o,i){const a=(e-i)*(r-o),c=(t-o)*(n-i),u=a-c,s=Math.abs(a+c);return Math.abs(u)>=Nat*s?u:-Tat(t,e,r,n,o,i,s)}const xP=Math.pow(2,-52),ih=new Uint32Array(512);class dg{static from(e,r=Lat,n=Iat){const o=e.length,i=new Float64Array(o*2);for(let a=0;a<o;a++){const c=e[a];i[2*a]=r(c),i[2*a+1]=n(c)}return new dg(i)}constructor(e){const r=e.length>>1;if(r>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:e,_hullPrev:r,_hullNext:n,_hullTri:o,_hullHash:i}=this,a=e.length>>1;let c=1/0,u=1/0,s=-1/0,l=-1/0;for(let S=0;S<a;S++){const A=e[2*S],T=e[2*S+1];A<c&&(c=A),T<u&&(u=T),A>s&&(s=A),T>l&&(l=T),this._ids[S]=S}const d=(c+s)/2,f=(u+l)/2;let h=1/0,p,g,b;for(let S=0;S<a;S++){const A=Uv(d,f,e[2*S],e[2*S+1]);A<h&&(p=S,h=A)}const m=e[2*p],v=e[2*p+1];h=1/0;for(let S=0;S<a;S++){if(S===p)continue;const A=Uv(m,v,e[2*S],e[2*S+1]);A<h&&A>0&&(g=S,h=A)}let y=e[2*g],x=e[2*g+1],k=1/0;for(let S=0;S<a;S++){if(S===p||S===g)continue;const A=zat(m,v,y,x,e[2*S],e[2*S+1]);A<k&&(b=S,k=A)}let _=e[2*b],w=e[2*b+1];if(k===1/0){for(let T=0;T<a;T++)this._dists[T]=e[2*T]-e[0]||e[2*T+1]-e[1];wu(this._ids,this._dists,0,a-1);const S=new Uint32Array(a);let A=0;for(let T=0,$=-1/0;T<a;T++){const P=this._ids[T];this._dists[P]>$&&(S[A++]=P,$=this._dists[P])}this.hull=S.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(oh(m,v,y,x,_,w)<0){const S=g,A=y,T=x;g=b,y=_,x=w,b=S,_=A,w=T}const O=Rat(m,v,y,x,_,w);this._cx=O.x,this._cy=O.y;for(let S=0;S<a;S++)this._dists[S]=Uv(e[2*S],e[2*S+1],O.x,O.y);wu(this._ids,this._dists,0,a-1),this._hullStart=p;let C=3;n[p]=r[b]=g,n[g]=r[p]=b,n[b]=r[g]=p,o[p]=0,o[g]=1,o[b]=2,i.fill(-1),i[this._hashKey(m,v)]=p,i[this._hashKey(y,x)]=g,i[this._hashKey(_,w)]=b,this.trianglesLen=0,this._addTriangle(p,g,b,-1,-1,-1);for(let S=0,A,T;S<this._ids.length;S++){const $=this._ids[S],P=e[2*$],E=e[2*$+1];if(S>0&&Math.abs(P-A)<=xP&&Math.abs(E-T)<=xP||(A=P,T=E,$===p||$===g||$===b))continue;let N=0;for(let it=0,gt=this._hashKey(P,E);it<this._hashSize&&(N=i[(gt+it)%this._hashSize],!(N!==-1&&N!==n[N]));it++);N=r[N];let D=N,F;for(;F=n[D],oh(P,E,e[2*D],e[2*D+1],e[2*F],e[2*F+1])>=0;)if(D=F,D===N){D=-1;break}if(D===-1)continue;let I=this._addTriangle(D,$,n[D],-1,-1,o[D]);o[$]=this._legalize(I+2),o[D]=I,C++;let rt=n[D];for(;F=n[rt],oh(P,E,e[2*rt],e[2*rt+1],e[2*F],e[2*F+1])<0;)I=this._addTriangle(rt,$,F,o[$],-1,o[rt]),o[$]=this._legalize(I+2),n[rt]=rt,C--,rt=F;if(D===N)for(;F=r[D],oh(P,E,e[2*F],e[2*F+1],e[2*D],e[2*D+1])<0;)I=this._addTriangle(F,$,D,-1,o[D],o[F]),this._legalize(I+2),o[F]=I,n[D]=D,C--,D=F;this._hullStart=r[$]=D,n[D]=r[rt]=$,n[$]=rt,i[this._hashKey(P,E)]=$,i[this._hashKey(e[2*D],e[2*D+1])]=D}this.hull=new Uint32Array(C);for(let S=0,A=this._hullStart;S<C;S++)this.hull[S]=A,A=n[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,r){return Math.floor(Mat(e-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:r,_halfedges:n,coords:o}=this;let i=0,a=0;for(;;){const c=n[e],u=e-e%3;if(a=u+(e+2)%3,c===-1){if(i===0)break;e=ih[--i];continue}const s=c-c%3,l=u+(e+1)%3,d=s+(c+2)%3,f=r[a],h=r[e],p=r[l],g=r[d];if(Fat(o[2*f],o[2*f+1],o[2*h],o[2*h+1],o[2*p],o[2*p+1],o[2*g],o[2*g+1])){r[e]=g,r[c]=f;const m=n[d];if(m===-1){let y=this._hullStart;do{if(this._hullTri[y]===d){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,m),this._link(c,n[a]),this._link(a,d);const v=s+(c+1)%3;i<ih.length&&(ih[i++]=v)}else{if(i===0)break;e=ih[--i]}}return a}_link(e,r){this._halfedges[e]=r,r!==-1&&(this._halfedges[r]=e)}_addTriangle(e,r,n,o,i,a){const c=this.trianglesLen;return this._triangles[c]=e,this._triangles[c+1]=r,this._triangles[c+2]=n,this._link(c,o),this._link(c+1,i),this._link(c+2,a),this.trianglesLen+=3,c}}function Mat(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}function Uv(t,e,r,n){const o=t-r,i=e-n;return o*o+i*i}function Fat(t,e,r,n,o,i,a,c){const u=t-a,s=e-c,l=r-a,d=n-c,f=o-a,h=i-c,p=u*u+s*s,g=l*l+d*d,b=f*f+h*h;return u*(d*b-g*h)-s*(l*b-g*f)+p*(l*h-d*f)<0}function zat(t,e,r,n,o,i){const a=r-t,c=n-e,u=o-t,s=i-e,l=a*a+c*c,d=u*u+s*s,f=.5/(a*s-c*u),h=(s*l-c*d)*f,p=(a*d-u*l)*f;return h*h+p*p}function Rat(t,e,r,n,o,i){const a=r-t,c=n-e,u=o-t,s=i-e,l=a*a+c*c,d=u*u+s*s,f=.5/(a*s-c*u),h=t+(s*l-c*d)*f,p=e+(a*d-u*l)*f;return{x:h,y:p}}function wu(t,e,r,n){if(n-r<=20)for(let o=r+1;o<=n;o++){const i=t[o],a=e[i];let c=o-1;for(;c>=r&&e[t[c]]>a;)t[c+1]=t[c--];t[c+1]=i}else{const o=r+n>>1;let i=r+1,a=n;al(t,o,i),e[t[r]]>e[t[n]]&&al(t,r,n),e[t[i]]>e[t[n]]&&al(t,i,n),e[t[r]]>e[t[i]]&&al(t,r,i);const c=t[i],u=e[c];for(;;){do i++;while(e[t[i]]<u);do a--;while(e[t[a]]>u);if(a<i)break;al(t,i,a)}t[r+1]=t[a],t[a]=c,n-i+1>=a-r?(wu(t,e,i,n),wu(t,e,r,a-1)):(wu(t,e,r,a-1),wu(t,e,i,n))}}function al(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Lat(t){return t[0]}function Iat(t){return t[1]}const wP=1e-6;class tc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,r){this._+=`L${this._x1=+e},${this._y1=+r}`}arc(e,r,n){e=+e,r=+r,n=+n;const o=e+n,i=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${i}`:(Math.abs(this._x1-o)>wP||Math.abs(this._y1-i)>wP)&&(this._+="L"+o+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${r}A${n},${n},0,1,1,${this._x1=o},${this._y1=i}`)}rect(e,r,n,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${+n}v${+o}h${-n}Z`}value(){return this._||null}}class Qy{constructor(){this._=[]}moveTo(e,r){this._.push([e,r])}closePath(){this._.push(this._[0].slice())}lineTo(e,r){this._.push([e,r])}value(){return this._.length?this._:null}}let Bat=class{constructor(e,[r,n,o,i]=[0,0,960,500]){if(!((o=+o)>=(r=+r))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=r,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:r,triangles:n},vectors:o}=this;let i,a;const c=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let g=0,b=0,m=n.length,v,y;g<m;g+=3,b+=2){const x=n[g]*2,k=n[g+1]*2,_=n[g+2]*2,w=e[x],O=e[x+1],C=e[k],S=e[k+1],A=e[_],T=e[_+1],$=C-w,P=S-O,E=A-w,N=T-O,D=($*N-P*E)*2;if(Math.abs(D)<1e-9){if(i===void 0){i=a=0;for(const I of r)i+=e[I*2],a+=e[I*2+1];i/=r.length,a/=r.length}const F=1e9*Math.sign((i-w)*N-(a-O)*E);v=(w+A)/2-F*N,y=(O+T)/2+F*E}else{const F=1/D,I=$*$+P*P,rt=E*E+N*N;v=w+(N*I-P*rt)*F,y=O+($*rt-E*I)*F}c[b]=v,c[b+1]=y}let u=r[r.length-1],s,l=u*4,d,f=e[2*u],h,p=e[2*u+1];o.fill(0);for(let g=0;g<r.length;++g)u=r[g],s=l,d=f,h=p,l=u*4,f=e[2*u],p=e[2*u+1],o[s+2]=o[l]=h-p,o[s+3]=o[l+1]=f-d}render(e){const r=e==null?e=new tc:void 0,{delaunay:{halfedges:n,inedges:o,hull:i},circumcenters:a,vectors:c}=this;if(i.length<=1)return null;for(let l=0,d=n.length;l<d;++l){const f=n[l];if(f<l)continue;const h=Math.floor(l/3)*2,p=Math.floor(f/3)*2,g=a[h],b=a[h+1],m=a[p],v=a[p+1];this._renderSegment(g,b,m,v,e)}let u,s=i[i.length-1];for(let l=0;l<i.length;++l){u=s,s=i[l];const d=Math.floor(o[s]/3)*2,f=a[d],h=a[d+1],p=u*4,g=this._project(f,h,c[p+2],c[p+3]);g&&this._renderSegment(f,h,g[0],g[1],e)}return r&&r.value()}renderBounds(e){const r=e==null?e=new tc:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(e,r){const n=r==null?r=new tc:void 0,o=this._clip(e);if(o===null||!o.length)return;r.moveTo(o[0],o[1]);let i=o.length;for(;o[0]===o[i-2]&&o[1]===o[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&r.lineTo(o[a],o[a+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let r=0,n=e.length/2;r<n;++r){const o=this.cellPolygon(r);o&&(o.index=r,yield o)}}cellPolygon(e){const r=new Qy;return this.renderCell(e,r),r.value()}_renderSegment(e,r,n,o,i){let a;const c=this._regioncode(e,r),u=this._regioncode(n,o);c===0&&u===0?(i.moveTo(e,r),i.lineTo(n,o)):(a=this._clipSegment(e,r,n,o,c,u))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(e,r,n)===e}*neighbors(e){const r=this._clip(e);if(r)for(const n of this.delaunay.neighbors(e)){const o=this._clip(n);if(o){t:for(let i=0,a=r.length;i<a;i+=2)for(let c=0,u=o.length;c<u;c+=2)if(r[i]===o[c]&&r[i+1]===o[c+1]&&r[(i+2)%a]===o[(c+u-2)%u]&&r[(i+3)%a]===o[(c+u-1)%u]){yield n;break t}}}}_cell(e){const{circumcenters:r,delaunay:{inedges:n,halfedges:o,triangles:i}}=this,a=n[e];if(a===-1)return null;const c=[];let u=a;do{const s=Math.floor(u/3);if(c.push(r[s*2],r[s*2+1]),u=u%3===2?u-2:u+1,i[u]!==e)break;u=o[u]}while(u!==a&&u!==-1);return c}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(e);if(r===null)return null;const{vectors:n}=this,o=e*4;return this._simplify(n[o]||n[o+1]?this._clipInfinite(e,r,n[o],n[o+1],n[o+2],n[o+3]):this._clipFinite(e,r))}_clipFinite(e,r){const n=r.length;let o=null,i,a,c=r[n-2],u=r[n-1],s,l=this._regioncode(c,u),d,f=0;for(let h=0;h<n;h+=2)if(i=c,a=u,c=r[h],u=r[h+1],s=l,l=this._regioncode(c,u),s===0&&l===0)d=f,f=0,o?o.push(c,u):o=[c,u];else{let p,g,b,m,v;if(s===0){if((p=this._clipSegment(i,a,c,u,s,l))===null)continue;[g,b,m,v]=p}else{if((p=this._clipSegment(c,u,i,a,l,s))===null)continue;[m,v,g,b]=p,d=f,f=this._edgecode(g,b),d&&f&&this._edge(e,d,f,o,o.length),o?o.push(g,b):o=[g,b]}d=f,f=this._edgecode(m,v),d&&f&&this._edge(e,d,f,o,o.length),o?o.push(m,v):o=[m,v]}if(o)d=f,f=this._edgecode(o[0],o[1]),d&&f&&this._edge(e,d,f,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,r,n,o,i,a){const c=i<a;for(c&&([e,r,n,o,i,a]=[n,o,e,r,a,i]);;){if(i===0&&a===0)return c?[n,o,e,r]:[e,r,n,o];if(i&a)return null;let u,s,l=i||a;l&8?(u=e+(n-e)*(this.ymax-r)/(o-r),s=this.ymax):l&4?(u=e+(n-e)*(this.ymin-r)/(o-r),s=this.ymin):l&2?(s=r+(o-r)*(this.xmax-e)/(n-e),u=this.xmax):(s=r+(o-r)*(this.xmin-e)/(n-e),u=this.xmin),i?(e=u,r=s,i=this._regioncode(e,r)):(n=u,o=s,a=this._regioncode(n,o))}}_clipInfinite(e,r,n,o,i,a){let c=Array.from(r),u;if((u=this._project(c[0],c[1],n,o))&&c.unshift(u[0],u[1]),(u=this._project(c[c.length-2],c[c.length-1],i,a))&&c.push(u[0],u[1]),c=this._clipFinite(e,c))for(let s=0,l=c.length,d,f=this._edgecode(c[l-2],c[l-1]);s<l;s+=2)d=f,f=this._edgecode(c[s],c[s+1]),d&&f&&(s=this._edge(e,d,f,c,s),l=c.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(c=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return c}_edge(e,r,n,o,i){for(;r!==n;){let a,c;switch(r){case 5:r=4;continue;case 4:r=6,a=this.xmax,c=this.ymin;break;case 6:r=2;continue;case 2:r=10,a=this.xmax,c=this.ymax;break;case 10:r=8;continue;case 8:r=9,a=this.xmin,c=this.ymax;break;case 9:r=1;continue;case 1:r=5,a=this.xmin,c=this.ymin;break}(o[i]!==a||o[i+1]!==c)&&this.contains(e,a,c)&&(o.splice(i,0,a,c),i+=2)}return i}_project(e,r,n,o){let i=1/0,a,c,u;if(o<0){if(r<=this.ymin)return null;(a=(this.ymin-r)/o)<i&&(u=this.ymin,c=e+(i=a)*n)}else if(o>0){if(r>=this.ymax)return null;(a=(this.ymax-r)/o)<i&&(u=this.ymax,c=e+(i=a)*n)}if(n>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/n)<i&&(c=this.xmax,u=r+(i=a)*o)}else if(n<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/n)<i&&(c=this.xmin,u=r+(i=a)*o)}return[c,u]}_edgecode(e,r){return(e===this.xmin?1:e===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(e,r){return(e<this.xmin?1:e>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let r=0;r<e.length;r+=2){const n=(r+2)%e.length,o=(r+4)%e.length;(e[r]===e[n]&&e[n]===e[o]||e[r+1]===e[n+1]&&e[n+1]===e[o+1])&&(e.splice(n,2),r-=2)}e.length||(e=null)}return e}};const Uat=2*Math.PI,cu=Math.pow;function qat(t){return t[0]}function Wat(t){return t[1]}function Hat(t){const{triangles:e,coords:r}=t;for(let n=0;n<e.length;n+=3){const o=2*e[n],i=2*e[n+1],a=2*e[n+2];if((r[a]-r[o])*(r[i+1]-r[o+1])-(r[i]-r[o])*(r[a+1]-r[o+1])>1e-10)return!1}return!0}function Gat(t,e,r){return[t+Math.sin(t+e)*r,e+Math.cos(t-e)*r]}class Zk{static from(e,r=qat,n=Wat,o){return new Zk("length"in e?Yat(e,r,n,o):Float64Array.from(Vat(e,r,n,o)))}constructor(e){this._delaunator=new dg(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,r=this.points;if(e.hull&&e.hull.length>2&&Hat(e)){this.collinear=Int32Array.from({length:r.length/2},(f,h)=>h).sort((f,h)=>r[2*f]-r[2*h]||r[2*f+1]-r[2*h+1]);const u=this.collinear[0],s=this.collinear[this.collinear.length-1],l=[r[2*u],r[2*u+1],r[2*s],r[2*s+1]],d=1e-8*Math.hypot(l[3]-l[1],l[2]-l[0]);for(let f=0,h=r.length/2;f<h;++f){const p=Gat(r[2*f],r[2*f+1],d);r[2*f]=p[0],r[2*f+1]=p[1]}this._delaunator=new dg(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),c=this._hullIndex.fill(-1);for(let u=0,s=n.length;u<s;++u){const l=i[u%3===2?u-2:u+1];(n[u]===-1||a[l]===-1)&&(a[l]=u)}for(let u=0,s=o.length;u<s;++u)c[o[u]]=u;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,o.length===2&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(e){return new Bat(this,e)}*neighbors(e){const{inedges:r,hull:n,_hullIndex:o,halfedges:i,triangles:a,collinear:c}=this;if(c){const d=c.indexOf(e);d>0&&(yield c[d-1]),d<c.length-1&&(yield c[d+1]);return}const u=r[e];if(u===-1)return;let s=u,l=-1;do{if(yield l=a[s],s=s%3===2?s-2:s+1,a[s]!==e)return;if(s=i[s],s===-1){const d=n[(o[e]+1)%n.length];d!==l&&(yield d);return}}while(s!==u)}find(e,r,n=0){if(e=+e,e!==e||(r=+r,r!==r))return-1;const o=n;let i;for(;(i=this._step(n,e,r))>=0&&i!==n&&i!==o;)n=i;return i}_step(e,r,n){const{inedges:o,hull:i,_hullIndex:a,halfedges:c,triangles:u,points:s}=this;if(o[e]===-1||!s.length)return(e+1)%(s.length>>1);let l=e,d=cu(r-s[e*2],2)+cu(n-s[e*2+1],2);const f=o[e];let h=f;do{let p=u[h];const g=cu(r-s[p*2],2)+cu(n-s[p*2+1],2);if(g<d&&(d=g,l=p),h=h%3===2?h-2:h+1,u[h]!==e)break;if(h=c[h],h===-1){if(h=i[(a[e]+1)%i.length],h!==p&&cu(r-s[h*2],2)+cu(n-s[h*2+1],2)<d)return h;break}}while(h!==f);return l}render(e){const r=e==null?e=new tc:void 0,{points:n,halfedges:o,triangles:i}=this;for(let a=0,c=o.length;a<c;++a){const u=o[a];if(u<a)continue;const s=i[a]*2,l=i[u]*2;e.moveTo(n[s],n[s+1]),e.lineTo(n[l],n[l+1])}return this.renderHull(e),r&&r.value()}renderPoints(e,r){r===void 0&&(!e||typeof e.moveTo!="function")&&(r=e,e=null),r=r==null?2:+r;const n=e==null?e=new tc:void 0,{points:o}=this;for(let i=0,a=o.length;i<a;i+=2){const c=o[i],u=o[i+1];e.moveTo(c+r,u),e.arc(c,u,r,0,Uat)}return n&&n.value()}renderHull(e){const r=e==null?e=new tc:void 0,{hull:n,points:o}=this,i=n[0]*2,a=n.length;e.moveTo(o[i],o[i+1]);for(let c=1;c<a;++c){const u=2*n[c];e.lineTo(o[u],o[u+1])}return e.closePath(),r&&r.value()}hullPolygon(){const e=new Qy;return this.renderHull(e),e.value()}renderTriangle(e,r){const n=r==null?r=new tc:void 0,{points:o,triangles:i}=this,a=i[e*=3]*2,c=i[e+1]*2,u=i[e+2]*2;return r.moveTo(o[a],o[a+1]),r.lineTo(o[c],o[c+1]),r.lineTo(o[u],o[u+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let r=0,n=e.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(e){const r=new Qy;return this.renderTriangle(e,r),r.value()}}function Yat(t,e,r,n){const o=t.length,i=new Float64Array(o*2);for(let a=0;a<o;++a){const c=t[a];i[a*2]=e.call(n,c,a,t),i[a*2+1]=r.call(n,c,a,t)}return i}function*Vat(t,e,r,n){let o=0;for(const i of t)yield e.call(n,i,o,t),yield r.call(n,i,o,t),++o}function t_(t){M.call(this,null,t)}t_.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Xat=[-1e5,-1e5,1e5,1e5];X(t_,M,{transform(t,e){const r=t.as||"path",n=e.source;if(!n||!n.length)return e;let o=t.size;o=o?[0,0,o[0],o[1]]:(o=t.extent)?[o[0][0],o[0][1],o[1][0],o[1][1]]:Xat;const i=this.value=Zk.from(n,t.x,t.y).voronoi(o);for(let a=0,c=n.length;a<c;++a){const u=i.cellPolygon(a);n[a][r]=u?Kat(u):null}return e.reflow(t.modified()).modifies(r)}});function Kat(t){const e=t[0][0],r=t[0][1];let n=t.length-1;for(;t[n][0]===e&&t[n][1]===r;--n);return"M"+t.slice(0,n+1).join("L")+"Z"}var Qat=Object.freeze({__proto__:null,voronoi:t_}),qv=Math.PI/180,zl=64,Lh=2048;function Jat(){var t=[256,256],e,r,n,o,i,a,c,u=d5,s=[],l=Math.random,d={};d.layout=function(){for(var p=f(Hi()),g=oct((t[0]>>5)*t[1]),b=null,m=s.length,v=-1,y=[],x=s.map(_=>({text:e(_),font:r(_),style:o(_),weight:i(_),rotate:a(_),size:~~(n(_)+1e-14),padding:c(_),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:_})).sort((_,w)=>w.size-_.size);++v<m;){var k=x[v];k.x=t[0]*(l()+.5)>>1,k.y=t[1]*(l()+.5)>>1,Zat(p,k,x,v),k.hasText&&h(g,k,b)&&(y.push(k),b?ect(b,k):b=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=t[0]>>1,k.y-=t[1]>>1)}return y};function f(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(zl<<5)/g,p.height=Lh/g;var b=p.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",{context:b,ratio:g}}function h(p,g,b){for(var m=g.x,v=g.y,y=Math.sqrt(t[0]*t[0]+t[1]*t[1]),x=u(t),k=l()<.5?1:-1,_=-k,w,O,C;(w=x(_+=k))&&(O=~~w[0],C=~~w[1],!(Math.min(Math.abs(O),Math.abs(C))>=y));)if(g.x=m+O,g.y=v+C,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>t[0]||g.y+g.y1>t[1])&&(!b||!tct(g,p,t[0]))&&(!b||rct(g,b))){for(var S=g.sprite,A=g.width>>5,T=t[0]>>5,$=g.x-(A<<4),P=$&127,E=32-P,N=g.y1-g.y0,D=(g.y+g.y0)*T+($>>5),F,I=0;I<N;I++){F=0;for(var rt=0;rt<=A;rt++)p[D+rt]|=F<<E|(rt<A?(F=S[I*A+rt])>>>P:0);D+=T}return g.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(s=p,d):s},d.size=function(p){return arguments.length?(t=[+p[0],+p[1]],d):t},d.font=function(p){return arguments.length?(r=Na(p),d):r},d.fontStyle=function(p){return arguments.length?(o=Na(p),d):o},d.fontWeight=function(p){return arguments.length?(i=Na(p),d):i},d.rotate=function(p){return arguments.length?(a=Na(p),d):a},d.text=function(p){return arguments.length?(e=Na(p),d):e},d.spiral=function(p){return arguments.length?(u=ict[p]||p,d):u},d.fontSize=function(p){return arguments.length?(n=Na(p),d):n},d.padding=function(p){return arguments.length?(c=Na(p),d):c},d.random=function(p){return arguments.length?(l=p,d):l},d}function Zat(t,e,r,n){if(!e.sprite){var o=t.context,i=t.ratio;o.clearRect(0,0,(zl<<5)/i,Lh/i);var a=0,c=0,u=0,s=r.length,l,d,f,h,p;for(--n;++n<s;){if(e=r[n],o.save(),o.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font,l=o.measureText(e.text+"m").width*i,f=e.size<<1,e.rotate){var g=Math.sin(e.rotate*qv),b=Math.cos(e.rotate*qv),m=l*b,v=l*g,y=f*b,x=f*g;l=Math.max(Math.abs(m+x),Math.abs(m-x))+31>>5<<5,f=~~Math.max(Math.abs(v+y),Math.abs(v-y))}else l=l+31>>5<<5;if(f>u&&(u=f),a+l>=zl<<5&&(a=0,c+=u,u=0),c+f>=Lh)break;o.translate((a+(l>>1))/i,(c+(f>>1))/i),e.rotate&&o.rotate(e.rotate*qv),o.fillText(e.text,0,0),e.padding&&(o.lineWidth=2*e.padding,o.strokeText(e.text,0,0)),o.restore(),e.width=l,e.height=f,e.xoff=a,e.yoff=c,e.x1=l>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=l}for(var k=o.getImageData(0,0,(zl<<5)/i,Lh/i).data,_=[];--n>=0;)if(e=r[n],!!e.hasText){for(l=e.width,d=l>>5,f=e.y1-e.y0,h=0;h<f*d;h++)_[h]=0;if(a=e.xoff,a==null)return;c=e.yoff;var w=0,O=-1;for(p=0;p<f;p++){for(h=0;h<l;h++){var C=d*p+(h>>5),S=k[(c+p)*(zl<<5)+(a+h)<<2]?1<<31-h%32:0;_[C]|=S,w|=S}w?O=p:(e.y0++,f--,p--,c++)}e.y1=e.y0+O,e.sprite=_.slice(0,(e.y1-e.y0)*d)}}}function tct(t,e,r){r>>=5;for(var n=t.sprite,o=t.width>>5,i=t.x-(o<<4),a=i&127,c=32-a,u=t.y1-t.y0,s=(t.y+t.y0)*r+(i>>5),l,d=0;d<u;d++){l=0;for(var f=0;f<=o;f++)if((l<<c|(f<o?(l=n[d*o+f])>>>a:0))&e[s+f])return!0;s+=r}return!1}function ect(t,e){var r=t[0],n=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function rct(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function d5(t){var e=t[0]/t[1];return function(r){return[e*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function nct(t){var e=4,r=e*t[0]/t[1],n=0,o=0;return function(i){var a=i<0?-1:1;switch(Math.sqrt(1+4*a*i)-a&3){case 0:n+=r;break;case 1:o+=e;break;case 2:n-=r;break;default:o-=e;break}return[n,o]}}function oct(t){for(var e=[],r=-1;++r<t;)e[r]=0;return e}function Na(t){return typeof t=="function"?t:function(){return t}}var ict={archimedean:d5,rectangular:nct};const f5=["x","y","font","fontSize","fontStyle","fontWeight","angle"],act=["text","font","rotate","fontSize","fontStyle","fontWeight"];function e_(t){M.call(this,Jat(),t)}e_.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:f5}]};X(e_,M,{transform(t,e){t.size&&!(t.size[0]&&t.size[1])&&R("Wordcloud size dimensions must be non-zero.");function r(p){const g=t[p];return mt(g)&&e.modified(g.fields)}const n=t.modified();if(!(n||e.changed(e.ADD_REM)||act.some(r)))return;const o=e.materialize(e.SOURCE).source,i=this.value,a=t.as||f5;let c=t.fontSize||14,u;if(mt(c)?u=t.fontSizeRange:c=tr(c),u){const p=c,g=jt("sqrt")().domain(go(o,p)).range(u);c=b=>g(p(b))}o.forEach(p=>{p[a[0]]=NaN,p[a[1]]=NaN,p[a[3]]=0});const s=i.words(o).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(c).random(un).layout(),l=i.size(),d=l[0]>>1,f=l[1]>>1,h=s.length;for(let p=0,g,b;p<h;++p)g=s[p],b=g.datum,b[a[0]]=g.x+d,b[a[1]]=g.y+f,b[a[2]]=g.font,b[a[3]]=g.size,b[a[4]]=g.style,b[a[5]]=g.weight,b[a[6]]=g.rotate;return e.reflow(n).modifies(a)}});var cct=Object.freeze({__proto__:null,wordcloud:e_});const uct=t=>new Uint8Array(t),sct=t=>new Uint16Array(t),Ql=t=>new Uint32Array(t);function lct(){let t=8,e=[],r=Ql(0),n=ah(0,t),o=ah(0,t);return{data:()=>e,seen:()=>r=dct(r,e.length),add(i){for(let a=0,c=e.length,u=i.length,s;a<u;++a)s=i[a],s._index=c++,e.push(s)},remove(i,a){const c=e.length,u=Array(c-i),s=e;let l,d,f;for(d=0;!a[d]&&d<c;++d)u[d]=e[d],s[d]=d;for(f=d;d<c;++d)l=e[d],a[d]?s[d]=-1:(s[d]=f,n[f]=n[d],o[f]=o[d],u[f]=l,l._index=f++),n[d]=0;return e=u,s},size:()=>e.length,curr:()=>n,prev:()=>o,reset:i=>o[i]=n[i],all:()=>t<257?255:t<65537?65535:4294967295,set(i,a){n[i]|=a},clear(i,a){n[i]&=~a},resize(i,a){const c=n.length;(i>c||a>t)&&(t=Math.max(a,t),n=ah(i,t,n),o=ah(i,t))}}}function dct(t,e,r){return t.length>=e?t:(r=r||new t.constructor(e),r.set(t),r)}function ah(t,e,r){const n=(e<257?uct:e<65537?sct:Ql)(t);return r&&n.set(r),n}function kP(t,e,r){const n=1<<e;return{one:n,zero:~n,range:r.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd(o,i){const a=this,c=a.bisect(a.range,o.value),u=o.index,s=c[0],l=c[1],d=u.length;let f;for(f=0;f<s;++f)i[u[f]]|=n;for(f=l;f<d;++f)i[u[f]]|=n;return a}}}function _P(){let t=Ql(0),e=[],r=0;function n(c,u,s){if(!u.length)return[];const l=r,d=u.length,f=Ql(d);let h=Array(d),p,g,b;for(b=0;b<d;++b)h[b]=c(u[b]),f[b]=b;if(h=fct(h,f),l)p=e,g=t,e=Array(l+d),t=Ql(l+d),hct(s,p,g,l,h,f,d,e,t);else{if(s>0)for(b=0;b<d;++b)f[b]+=s;e=h,t=f}return r=l+d,{index:f,value:h}}function o(c,u){const s=r;let l,d,f;for(d=0;!u[t[d]]&&d<s;++d);for(f=d;d<s;++d)u[l=t[d]]||(t[f]=l,e[f]=e[d],++f);r=s-c}function i(c){for(let u=0,s=r;u<s;++u)t[u]=c[t[u]]}function a(c,u){let s;return u?s=u.length:(u=e,s=r),[AG(u,c[0],0,s),ip(u,c[1],0,s)]}return{insert:n,remove:o,bisect:a,reindex:i,index:()=>t,size:()=>r}}function fct(t,e){return t.sort.call(e,(r,n)=>{const o=t[r],i=t[n];return o<i?-1:o>i?1:0}),DG(t,e)}function hct(t,e,r,n,o,i,a,c,u){let s=0,l=0,d;for(d=0;s<n&&l<a;++d)e[s]<o[l]?(c[d]=e[s],u[d]=r[s++]):(c[d]=o[l],u[d]=i[l++]+t);for(;s<n;++s,++d)c[d]=e[s],u[d]=r[s];for(;l<a;++l,++d)c[d]=o[l],u[d]=i[l]+t}function r_(t){M.call(this,lct(),t),this._indices=null,this._dims=null}r_.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};X(r_,M,{transform(t,e){if(this._dims){var r=t.modified("fields")||t.fields.some(n=>e.modified(n.fields));return r?this.reinit(t,e):this.eval(t,e)}else return this.init(t,e)},init(t,e){const r=t.fields,n=t.query,o=this._indices={},i=this._dims=[],a=n.length;let c=0,u,s;for(;c<a;++c)u=r[c].fname,s=o[u]||(o[u]=_P()),i.push(kP(s,c,n[c]));return this.eval(t,e)},reinit(t,e){const r=e.materialize().fork(),n=t.fields,o=t.query,i=this._indices,a=this._dims,c=this.value,u=c.curr(),s=c.prev(),l=c.all(),d=r.rem=r.add,f=r.mod,h=o.length,p={};let g,b,m,v,y,x,k,_,w;if(s.set(u),e.rem.length&&(y=this.remove(t,e,r)),e.add.length&&c.add(e.add),e.mod.length)for(x={},v=e.mod,k=0,_=v.length;k<_;++k)x[v[k]._index]=1;for(k=0;k<h;++k)w=n[k],(!a[k]||t.modified("fields",k)||e.modified(w.fields))&&(m=w.fname,(g=p[m])||(i[m]=b=_P(),p[m]=g=b.insert(w,e.source,0)),a[k]=kP(b,k,o[k]).onAdd(g,u));for(k=0,_=c.data().length;k<_;++k)y[k]||(s[k]!==u[k]?d.push(k):x[k]&&u[k]!==l&&f.push(k));return c.mask=(1<<h)-1,r},eval(t,e){const r=e.materialize().fork(),n=this._dims.length;let o=0;return e.rem.length&&(this.remove(t,e,r),o|=(1<<n)-1),t.modified("query")&&!t.modified("fields")&&(o|=this.update(t,e,r)),e.add.length&&(this.insert(t,e,r),o|=(1<<n)-1),e.mod.length&&(this.modify(e,r),o|=(1<<n)-1),this.value.mask=o,r},insert(t,e,r){const n=e.add,o=this.value,i=this._dims,a=this._indices,c=t.fields,u={},s=r.add,l=o.size()+n.length,d=i.length;let f=o.size(),h,p,g;o.resize(l,d),o.add(n);const b=o.curr(),m=o.prev(),v=o.all();for(h=0;h<d;++h)p=c[h].fname,g=u[p]||(u[p]=a[p].insert(c[h],n,f)),i[h].onAdd(g,b);for(;f<l;++f)m[f]=v,b[f]!==v&&s.push(f)},modify(t,e){const r=e.mod,n=this.value,o=n.curr(),i=n.all(),a=t.mod;let c,u,s;for(c=0,u=a.length;c<u;++c)s=a[c]._index,o[s]!==i&&r.push(s)},remove(t,e,r){const n=this._indices,o=this.value,i=o.curr(),a=o.prev(),c=o.all(),u={},s=r.rem,l=e.rem;let d,f,h,p;for(d=0,f=l.length;d<f;++d)h=l[d]._index,u[h]=1,a[h]=p=i[h],i[h]=c,p!==c&&s.push(h);for(h in n)n[h].remove(f,u);return this.reindex(e,f,u),u},reindex(t,e,r){const n=this._indices,o=this.value;t.runAfter(()=>{const i=o.remove(e,r);for(const a in n)n[a].reindex(i)})},update(t,e,r){const n=this._dims,o=t.query,i=e.stamp,a=n.length;let c=0,u,s;for(r.filters=0,s=0;s<a;++s)t.modified("query",s)&&(u=s,++c);if(c===1)c=n[u].one,this.incrementOne(n[u],o[u],r.add,r.rem);else for(s=0,c=0;s<a;++s)t.modified("query",s)&&(c|=n[s].one,this.incrementAll(n[s],o[s],i,r.add),r.rem=r.add);return c},incrementAll(t,e,r,n){const o=this.value,i=o.seen(),a=o.curr(),c=o.prev(),u=t.index(),s=t.bisect(t.range),l=t.bisect(e),d=l[0],f=l[1],h=s[0],p=s[1],g=t.one;let b,m,v;if(d<h)for(b=d,m=Math.min(h,f);b<m;++b)v=u[b],i[v]!==r&&(c[v]=a[v],i[v]=r,n.push(v)),a[v]^=g;else if(d>h)for(b=h,m=Math.min(d,p);b<m;++b)v=u[b],i[v]!==r&&(c[v]=a[v],i[v]=r,n.push(v)),a[v]^=g;if(f>p)for(b=Math.max(d,p),m=f;b<m;++b)v=u[b],i[v]!==r&&(c[v]=a[v],i[v]=r,n.push(v)),a[v]^=g;else if(f<p)for(b=Math.max(h,f),m=p;b<m;++b)v=u[b],i[v]!==r&&(c[v]=a[v],i[v]=r,n.push(v)),a[v]^=g;t.range=e.slice()},incrementOne(t,e,r,n){const o=this.value,i=o.curr(),a=t.index(),c=t.bisect(t.range),u=t.bisect(e),s=u[0],l=u[1],d=c[0],f=c[1],h=t.one;let p,g,b;if(s<d)for(p=s,g=Math.min(d,l);p<g;++p)b=a[p],i[b]^=h,r.push(b);else if(s>d)for(p=d,g=Math.min(s,f);p<g;++p)b=a[p],i[b]^=h,n.push(b);if(l>f)for(p=Math.max(s,f),g=l;p<g;++p)b=a[p],i[b]^=h,r.push(b);else if(l<f)for(p=Math.max(d,l),g=f;p<g;++p)b=a[p],i[b]^=h,n.push(b);t.range=e.slice()}});function n_(t){M.call(this,null,t)}n_.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};X(n_,M,{transform(t,e){const r=~(t.ignore||0),n=t.filter,o=n.mask;if(!(o&r))return e.StopPropagation;const i=e.fork(e.ALL),a=n.data(),c=n.curr(),u=n.prev(),s=l=>c[l]&r?null:a[l];return i.filter(i.MOD,s),o&o-1?(i.filter(i.ADD,l=>{const d=c[l]&r;return!d&&d^u[l]&r?a[l]:null}),i.filter(i.REM,l=>{const d=c[l]&r;return d&&!(d^(d^u[l]&r))?a[l]:null})):(i.filter(i.ADD,s),i.filter(i.REM,l=>(c[l]&r)===o?a[l]:null)),i.filter(i.SOURCE,l=>s(l._index))}});var pct=Object.freeze({__proto__:null,crossfilter:r_,resolvefilter:n_});const gct="RawCode",yc="Literal",bct="Property",mct="Identifier",vct="ArrayExpression",yct="BinaryExpression",h5="CallExpression",xct="ConditionalExpression",wct="LogicalExpression",kct="MemberExpression",_ct="ObjectExpression",Oct="UnaryExpression";function Bn(t){this.type=t}Bn.prototype.visit=function(t){let e,r,n;if(t(this))return 1;for(e=Ect(this),r=0,n=e.length;r<n;++r)if(e[r].visit(t))return 1};function Ect(t){switch(t.type){case vct:return t.elements;case yct:case wct:return[t.left,t.right];case h5:return[t.callee].concat(t.arguments);case xct:return[t.test,t.consequent,t.alternate];case kct:return[t.object,t.property];case _ct:return t.properties;case bct:return[t.key,t.value];case Oct:return[t.argument];case mct:case yc:case gct:default:return[]}}var Ao,ot,z,Ke,It,zb=1,ff=2,xc=3,ma=4,Rb=5,Ic=6,yr=7,hf=8,Sct=9;Ao={};Ao[zb]="Boolean";Ao[ff]="<end>";Ao[xc]="Identifier";Ao[ma]="Keyword";Ao[Rb]="Null";Ao[Ic]="Numeric";Ao[yr]="Punctuator";Ao[hf]="String";Ao[Sct]="RegularExpression";var $ct="ArrayExpression",Cct="BinaryExpression",Act="CallExpression",Pct="ConditionalExpression",p5="Identifier",Nct="Literal",Dct="LogicalExpression",jct="MemberExpression",Tct="ObjectExpression",Mct="Property",Fct="UnaryExpression",we="Unexpected token %0",zct="Unexpected number",Rct="Unexpected string",Lct="Unexpected identifier",Ict="Unexpected reserved word",Bct="Unexpected end of input",Jy="Invalid regular expression",Wv="Invalid regular expression: missing /",g5="Octal literals are not allowed in strict mode.",Uct="Duplicate data property in object literal not allowed in strict mode",De="ILLEGAL",wd="Disabled.",qct=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Wct=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Lb(t,e){if(!t)throw new Error("ASSERT: "+e)}function Wo(t){return t>=48&&t<=57}function o_(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Jl(t){return"01234567".indexOf(t)>=0}function Hct(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function kd(t){return t===10||t===13||t===8232||t===8233}function pf(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&qct.test(String.fromCharCode(t))}function fg(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&Wct.test(String.fromCharCode(t))}const Gct={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function b5(){for(;z<Ke;){const t=ot.charCodeAt(z);if(Hct(t)||kd(t))++z;else break}}function Zy(t){var e,r,n,o=0;for(r=t==="u"?4:2,e=0;e<r;++e)z<Ke&&o_(ot[z])?(n=ot[z++],o=o*16+"0123456789abcdef".indexOf(n.toLowerCase())):Nt({},we,De);return String.fromCharCode(o)}function Yct(){var t,e,r,n;for(t=ot[z],e=0,t==="}"&&Nt({},we,De);z<Ke&&(t=ot[z++],!!o_(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&Nt({},we,De),e<=65535?String.fromCharCode(e):(r=(e-65536>>10)+55296,n=(e-65536&1023)+56320,String.fromCharCode(r,n))}function m5(){var t,e;for(t=ot.charCodeAt(z++),e=String.fromCharCode(t),t===92&&(ot.charCodeAt(z)!==117&&Nt({},we,De),++z,t=Zy("u"),(!t||t==="\\"||!pf(t.charCodeAt(0)))&&Nt({},we,De),e=t);z<Ke&&(t=ot.charCodeAt(z),!!fg(t));)++z,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),ot.charCodeAt(z)!==117&&Nt({},we,De),++z,t=Zy("u"),(!t||t==="\\"||!fg(t.charCodeAt(0)))&&Nt({},we,De),e+=t);return e}function Vct(){var t,e;for(t=z++;z<Ke;){if(e=ot.charCodeAt(z),e===92)return z=t,m5();if(fg(e))++z;else break}return ot.slice(t,z)}function Xct(){var t,e,r;return t=z,e=ot.charCodeAt(z)===92?m5():Vct(),e.length===1?r=xc:Gct.hasOwnProperty(e)?r=ma:e==="null"?r=Rb:e==="true"||e==="false"?r=zb:r=xc,{type:r,value:e,start:t,end:z}}function Hv(){var t=z,e=ot.charCodeAt(z),r,n=ot[z],o,i,a;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++z,{type:yr,value:String.fromCharCode(e),start:t,end:z};default:if(r=ot.charCodeAt(z+1),r===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return z+=2,{type:yr,value:String.fromCharCode(e)+String.fromCharCode(r),start:t,end:z};case 33:case 61:return z+=2,ot.charCodeAt(z)===61&&++z,{type:yr,value:ot.slice(t,z),start:t,end:z}}}if(a=ot.substr(z,4),a===">>>=")return z+=4,{type:yr,value:a,start:t,end:z};if(i=a.substr(0,3),i===">>>"||i==="<<="||i===">>=")return z+=3,{type:yr,value:i,start:t,end:z};if(o=i.substr(0,2),n===o[1]&&"+-<>&|".indexOf(n)>=0||o==="=>")return z+=2,{type:yr,value:o,start:t,end:z};if(o==="//"&&Nt({},we,De),"<>=!+-*%&|^/".indexOf(n)>=0)return++z,{type:yr,value:n,start:t,end:z};Nt({},we,De)}function Kct(t){let e="";for(;z<Ke&&o_(ot[z]);)e+=ot[z++];return e.length===0&&Nt({},we,De),pf(ot.charCodeAt(z))&&Nt({},we,De),{type:Ic,value:parseInt("0x"+e,16),start:t,end:z}}function Qct(t){let e="0"+ot[z++];for(;z<Ke&&Jl(ot[z]);)e+=ot[z++];return(pf(ot.charCodeAt(z))||Wo(ot.charCodeAt(z)))&&Nt({},we,De),{type:Ic,value:parseInt(e,8),octal:!0,start:t,end:z}}function OP(){var t,e,r;if(r=ot[z],Lb(Wo(r.charCodeAt(0))||r===".","Numeric literal must start with a decimal digit or a decimal point"),e=z,t="",r!=="."){if(t=ot[z++],r=ot[z],t==="0"){if(r==="x"||r==="X")return++z,Kct(e);if(Jl(r))return Qct(e);r&&Wo(r.charCodeAt(0))&&Nt({},we,De)}for(;Wo(ot.charCodeAt(z));)t+=ot[z++];r=ot[z]}if(r==="."){for(t+=ot[z++];Wo(ot.charCodeAt(z));)t+=ot[z++];r=ot[z]}if(r==="e"||r==="E")if(t+=ot[z++],r=ot[z],(r==="+"||r==="-")&&(t+=ot[z++]),Wo(ot.charCodeAt(z)))for(;Wo(ot.charCodeAt(z));)t+=ot[z++];else Nt({},we,De);return pf(ot.charCodeAt(z))&&Nt({},we,De),{type:Ic,value:parseFloat(t),start:e,end:z}}function Jct(){var t="",e,r,n,o,i=!1;for(e=ot[z],Lb(e==="'"||e==='"',"String literal must starts with a quote"),r=z,++z;z<Ke;)if(n=ot[z++],n===e){e="";break}else if(n==="\\")if(n=ot[z++],!n||!kd(n.charCodeAt(0)))switch(n){case"u":case"x":ot[z]==="{"?(++z,t+=Yct()):t+=Zy(n);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:Jl(n)?(o="01234567".indexOf(n),o!==0&&(i=!0),z<Ke&&Jl(ot[z])&&(i=!0,o=o*8+"01234567".indexOf(ot[z++]),"0123".indexOf(n)>=0&&z<Ke&&Jl(ot[z])&&(o=o*8+"01234567".indexOf(ot[z++]))),t+=String.fromCharCode(o)):t+=n;break}else n==="\r"&&ot[z]===`
`&&++z;else{if(kd(n.charCodeAt(0)))break;t+=n}return e!==""&&Nt({},we,De),{type:hf,value:t,octal:i,start:r,end:z}}function Zct(t,e){let r=t;e.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(n,o)=>{if(parseInt(o,16)<=1114111)return"x";Nt({},Jy)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch{Nt({},Jy)}try{return new RegExp(t,e)}catch{return null}}function tut(){var t,e,r,n,o;for(t=ot[z],Lb(t==="/","Regular expression literal must start with a slash"),e=ot[z++],r=!1,n=!1;z<Ke;)if(t=ot[z++],e+=t,t==="\\")t=ot[z++],kd(t.charCodeAt(0))&&Nt({},Wv),e+=t;else if(kd(t.charCodeAt(0)))Nt({},Wv);else if(r)t==="]"&&(r=!1);else if(t==="/"){n=!0;break}else t==="["&&(r=!0);return n||Nt({},Wv),o=e.substr(1,e.length-2),{value:o,literal:e}}function eut(){var t,e,r;for(e="",r="";z<Ke&&(t=ot[z],!!fg(t.charCodeAt(0)));)++z,t==="\\"&&z<Ke?Nt({},we,De):(r+=t,e+=t);return r.search(/[^gimuy]/g)>=0&&Nt({},Jy,r),{value:r,literal:e}}function rut(){var t,e,r,n;return It=null,b5(),t=z,e=tut(),r=eut(),n=Zct(e.value,r.value),{literal:e.literal+r.literal,value:n,regex:{pattern:e.value,flags:r.value},start:t,end:z}}function nut(t){return t.type===xc||t.type===ma||t.type===zb||t.type===Rb}function v5(){if(b5(),z>=Ke)return{type:ff,start:z,end:z};const t=ot.charCodeAt(z);return pf(t)?Xct():t===40||t===41||t===59?Hv():t===39||t===34?Jct():t===46?Wo(ot.charCodeAt(z+1))?OP():Hv():Wo(t)?OP():Hv()}function _r(){const t=It;return z=t.end,It=v5(),z=t.end,t}function y5(){const t=z;It=v5(),z=t}function out(t){const e=new Bn($ct);return e.elements=t,e}function EP(t,e,r){const n=new Bn(t==="||"||t==="&&"?Dct:Cct);return n.operator=t,n.left=e,n.right=r,n}function iut(t,e){const r=new Bn(Act);return r.callee=t,r.arguments=e,r}function aut(t,e,r){const n=new Bn(Pct);return n.test=t,n.consequent=e,n.alternate=r,n}function i_(t){const e=new Bn(p5);return e.name=t,e}function Rl(t){const e=new Bn(Nct);return e.value=t.value,e.raw=ot.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function SP(t,e,r){const n=new Bn(jct);return n.computed=t==="[",n.object=e,n.property=r,n.computed||(r.member=!0),n}function cut(t){const e=new Bn(Tct);return e.properties=t,e}function $P(t,e,r){const n=new Bn(Mct);return n.key=e,n.value=r,n.kind=t,n}function uut(t,e){const r=new Bn(Fct);return r.operator=t,r.argument=e,r.prefix=!0,r}function Nt(t,e){var r,n=Array.prototype.slice.call(arguments,2),o=e.replace(/%(\d)/g,(i,a)=>(Lb(a<n.length,"Message reference must be in range"),n[a]));throw r=new Error(o),r.index=z,r.description=o,r}function Ib(t){t.type===ff&&Nt(t,Bct),t.type===Ic&&Nt(t,zct),t.type===hf&&Nt(t,Rct),t.type===xc&&Nt(t,Lct),t.type===ma&&Nt(t,Ict),Nt(t,we,t.value)}function Qe(t){const e=_r();(e.type!==yr||e.value!==t)&&Ib(e)}function Kt(t){return It.type===yr&&It.value===t}function Gv(t){return It.type===ma&&It.value===t}function sut(){const t=[];for(z=It.start,Qe("[");!Kt("]");)Kt(",")?(_r(),t.push(null)):(t.push(wc()),Kt("]")||Qe(","));return _r(),out(t)}function CP(){z=It.start;const t=_r();return t.type===hf||t.type===Ic?(t.octal&&Nt(t,g5),Rl(t)):i_(t.value)}function lut(){var t,e,r,n;if(z=It.start,t=It,t.type===xc)return r=CP(),Qe(":"),n=wc(),$P("init",r,n);if(t.type===ff||t.type===yr)Ib(t);else return e=CP(),Qe(":"),n=wc(),$P("init",e,n)}function dut(){var t=[],e,r,n,o={},i=String;for(z=It.start,Qe("{");!Kt("}");)e=lut(),e.key.type===p5?r=e.key.name:r=i(e.key.value),n="$"+r,Object.prototype.hasOwnProperty.call(o,n)?Nt({},Uct):o[n]=!0,t.push(e),Kt("}")||Qe(",");return Qe("}"),cut(t)}function fut(){Qe("(");const t=a_();return Qe(")"),t}const hut={if:1};function put(){var t,e,r;if(Kt("("))return fut();if(Kt("["))return sut();if(Kt("{"))return dut();if(t=It.type,z=It.start,t===xc||hut[It.value])r=i_(_r().value);else if(t===hf||t===Ic)It.octal&&Nt(It,g5),r=Rl(_r());else{if(t===ma)throw new Error(wd);t===zb?(e=_r(),e.value=e.value==="true",r=Rl(e)):t===Rb?(e=_r(),e.value=null,r=Rl(e)):Kt("/")||Kt("/=")?(r=Rl(rut()),y5()):Ib(_r())}return r}function gut(){const t=[];if(Qe("("),!Kt(")"))for(;z<Ke&&(t.push(wc()),!Kt(")"));)Qe(",");return Qe(")"),t}function but(){z=It.start;const t=_r();return nut(t)||Ib(t),i_(t.value)}function mut(){return Qe("."),but()}function vut(){Qe("[");const t=a_();return Qe("]"),t}function yut(){var t,e,r;for(t=put();;)if(Kt("."))r=mut(),t=SP(".",t,r);else if(Kt("("))e=gut(),t=iut(t,e);else if(Kt("["))r=vut(),t=SP("[",t,r);else break;return t}function AP(){const t=yut();if(It.type===yr&&(Kt("++")||Kt("--")))throw new Error(wd);return t}function Ih(){var t,e;if(It.type!==yr&&It.type!==ma)e=AP();else{if(Kt("++")||Kt("--"))throw new Error(wd);if(Kt("+")||Kt("-")||Kt("~")||Kt("!"))t=_r(),e=Ih(),e=uut(t.value,e);else{if(Gv("delete")||Gv("void")||Gv("typeof"))throw new Error(wd);e=AP()}}return e}function PP(t){let e=0;if(t.type!==yr&&t.type!==ma)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function xut(){var t,e,r,n,o,i,a,c,u,s;if(t=It,u=Ih(),n=It,o=PP(n),o===0)return u;for(n.prec=o,_r(),e=[t,It],a=Ih(),i=[u,n,a];(o=PP(It))>0;){for(;i.length>2&&o<=i[i.length-2].prec;)a=i.pop(),c=i.pop().value,u=i.pop(),e.pop(),r=EP(c,u,a),i.push(r);n=_r(),n.prec=o,i.push(n),e.push(It),r=Ih(),i.push(r)}for(s=i.length-1,r=i[s],e.pop();s>1;)e.pop(),r=EP(i[s-1].value,i[s-2],r),s-=2;return r}function wc(){var t,e,r;return t=xut(),Kt("?")&&(_r(),e=wc(),Qe(":"),r=wc(),t=aut(t,e,r)),t}function a_(){const t=wc();if(Kt(","))throw new Error(wd);return t}function c_(t){ot=t,z=0,Ke=ot.length,It=null,y5();const e=a_();if(It.type!==ff)throw new Error("Unexpect token after expression.");return e}var x5={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function w5(t){function e(a,c,u,s){let l=t(c[0]);return u&&(l=u+"("+l+")",u.lastIndexOf("new ",0)===0&&(l="("+l+")")),l+"."+a+(s<0?"":s===0?"()":"("+c.slice(1).map(t).join(",")+")")}function r(a,c,u){return s=>e(a,s,c,u)}const n="new Date",o="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&R("Missing arguments to clamp function."),a.length>3&&R("Too many arguments to clamp function.");const c=a.map(t);return"Math.max("+c[1]+", Math.min("+c[2]+","+c[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:r("getDate",n,0),day:r("getDay",n,0),year:r("getFullYear",n,0),month:r("getMonth",n,0),hours:r("getHours",n,0),minutes:r("getMinutes",n,0),seconds:r("getSeconds",n,0),milliseconds:r("getMilliseconds",n,0),time:r("getTime",n,0),timezoneoffset:r("getTimezoneOffset",n,0),utcdate:r("getUTCDate",n,0),utcday:r("getUTCDay",n,0),utcyear:r("getUTCFullYear",n,0),utcmonth:r("getUTCMonth",n,0),utchours:r("getUTCHours",n,0),utcminutes:r("getUTCMinutes",n,0),utcseconds:r("getUTCSeconds",n,0),utcmilliseconds:r("getUTCMilliseconds",n,0),length:r("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:r("toUpperCase",o,0),lower:r("toLowerCase",o,0),substring:r("substring",o),split:r("split",o),trim:r("trim",o,0),regexp:i,test:r("test",i),if:function(a){a.length<3&&R("Missing arguments to if function."),a.length>3&&R("Too many arguments to if function.");const c=a.map(t);return"("+c[0]+"?"+c[1]+":"+c[2]+")"}}}function wut(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function k5(t){t=t||{};const e=t.allowed?Fn(t.allowed):{},r=t.forbidden?Fn(t.forbidden):{},n=t.constants||x5,o=(t.functions||w5)(d),i=t.globalvar,a=t.fieldvar,c=mt(i)?i:p=>`${i}["${p}"]`;let u={},s={},l=0;function d(p){if(J(p))return p;const g=f[p.type];return g==null&&R("Unsupported type: "+p.type),g(p)}const f={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return l>0?g:lt(r,g)?R("Illegal identifier: "+g):lt(n,g)?n[g]:lt(e,g)?g:(u[g]=1,c(g))},MemberExpression:p=>{const g=!p.computed,b=d(p.object);g&&(l+=1);const m=d(p.property);return b===a&&(s[wut(m)]=1),g&&(l-=1),b+(g?"."+m:"["+m+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&R("Illegal callee type: "+p.callee.type);const g=p.callee.name,b=p.arguments,m=lt(o,g)&&o[g];return m||R("Unrecognized function: "+g),mt(m)?m(b):m+"("+b.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{l+=1;const g=d(p.key);return l-=1,g+":"+d(p.value)}};function h(p){const g={code:d(p),globals:Object.keys(u),fields:Object.keys(s)};return u={},s={},g}return h.functions=o,h.constants=n,h}function Yv(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kut(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _ut(t){let e,r,n;t.length!==2?(e=Yv,r=(c,u)=>Yv(t(c),u),n=(c,u)=>t(c)-u):(e=t===Yv||t===kut?t:Out,r=t,n=t);function o(c,u,s=0,l=c.length){if(s<l){if(e(u,u)!==0)return l;do{const d=s+l>>>1;r(c[d],u)<0?s=d+1:l=d}while(s<l)}return s}function i(c,u,s=0,l=c.length){if(s<l){if(e(u,u)!==0)return l;do{const d=s+l>>>1;r(c[d],u)<=0?s=d+1:l=d}while(s<l)}return s}function a(c,u,s=0,l=c.length){const d=o(c,u,s,l-1);return d>s&&n(c[d-1],u)>-n(c[d],u)?d-1:d}return{left:o,center:a,right:i}}function Out(){return 0}function Eut(t,...e){t=new ap(t),e=e.map(Sut);t:for(const r of t)for(const n of e)if(!n.has(r)){t.delete(r);continue t}return t}function Sut(t){return t instanceof ap?t:new ap(t)}function $ut(...t){const e=new ap;for(const r of t)for(const n of r)e.add(n);return e}const u_="intersect",NP="union",Cut="vlMulti",Aut="vlPoint",DP="or",Put="and",eo="_vgsid_",_d=Pr(eo),Nut="E",Dut="R",jut="R-E",Tut="R-LE",Mut="R-RE",hg="index:unit";function jP(t,e){for(var r=e.fields,n=e.values,o=r.length,i=0,a,c;i<o;++i)if(c=r[i],c.getter=Pr.getter||Pr(c.field),a=c.getter(t),Ui(a)&&(a=He(a)),Ui(n[i])&&(n[i]=He(n[i])),Ui(n[i][0])&&(n[i]=n[i].map(He)),c.type===Nut){if(L(n[i])?n[i].indexOf(a)<0:a!==n[i])return!1}else if(c.type===Dut){if(!mu(a,n[i]))return!1}else if(c.type===Mut){if(!mu(a,n[i],!0,!1))return!1}else if(c.type===jut){if(!mu(a,n[i],!1,!1))return!1}else if(c.type===Tut&&!mu(a,n[i],!1,!0))return!1;return!0}function Fut(t,e,r){for(var n=this.context.data[t],o=n?n.values.value:[],i=n?n[hg]&&n[hg].value:void 0,a=r===u_,c=o.length,u=0,s,l,d,f,h;u<c;++u)if(s=o[u],i&&a){if(l=l||{},d=l[f=s.unit]||0,d===-1)continue;if(h=jP(e,s),l[f]=h?-1:++d,h&&i.size===1)return!0;if(!h&&d===i.get(f).count)return!1}else if(h=jP(e,s),a^h)return h;return c&&a}const _5=_ut(_d),zut=_5.left,Rut=_5.right;function Lut(t,e,r){const n=this.context.data[t],o=n?n.values.value:[],i=n?n[hg]&&n[hg].value:void 0,a=r===u_,c=_d(e),u=zut(o,c);if(u===o.length||_d(o[u])!==c)return!1;if(i&&a){if(i.size===1)return!0;if(Rut(o,c)-u<i.size)return!1}return!0}function Iut(t,e){return t.map(r=>bt(e.fields?{values:e.fields.map(n=>(n.getter||(n.getter=Pr(n.field)))(r.datum))}:{[eo]:_d(r.datum)},e))}function But(t,e,r,n){for(var o=this.context.data[t],i=o?o.values.value:[],a={},c={},u={},s,l,d,f,h,p,g,b,m,v,y=i.length,x=0,k,_;x<y;++x)if(s=i[x],f=s.unit,l=s.fields,d=s.values,l&&d){for(k=0,_=l.length;k<_;++k)h=l[k],g=a[h.field]||(a[h.field]={}),b=g[f]||(g[f]=[]),u[h.field]=m=h.type.charAt(0),v=Vv[`${m}_union`],g[f]=v(b,Z(d[k]));r&&(b=c[f]||(c[f]=[]),b.push(Z(d).reduce((w,O,C)=>(w[l[C].field]=O,w),{})))}else h=eo,p=_d(s),g=a[h]||(a[h]={}),b=g[f]||(g[f]=[]),b.push(p),r&&(b=c[f]||(c[f]=[]),b.push({[eo]:p}));if(e=e||NP,a[eo]?a[eo]=Vv[`${eo}_${e}`](...Object.values(a[eo])):Object.keys(a).forEach(w=>{a[w]=Object.keys(a[w]).map(O=>a[w][O]).reduce((O,C)=>O===void 0?C:Vv[`${u[w]}_${e}`](O,C))}),i=Object.keys(c),r&&i.length){const w=n?Aut:Cut;a[w]=e===NP?{[DP]:i.reduce((O,C)=>(O.push(...c[C]),O),[])}:{[Put]:i.map(O=>({[DP]:c[O]}))}}return a}var Vv={[`${eo}_union`]:$ut,[`${eo}_intersect`]:Eut,E_union:function(t,e){if(!t.length)return e;for(var r=0,n=e.length;r<n;++r)t.indexOf(e[r])<0&&t.push(e[r]);return t},E_intersect:function(t,e){return t.length?t.filter(r=>e.indexOf(r)>=0):e},R_union:function(t,e){var r=He(e[0]),n=He(e[1]);return r>n&&(r=e[1],n=e[0]),t.length?(t[0]>r&&(t[0]=r),t[1]<n&&(t[1]=n),t):[r,n]},R_intersect:function(t,e){var r=He(e[0]),n=He(e[1]);return r>n&&(r=e[1],n=e[0]),t.length?n<t[0]||t[1]<r?[]:(t[0]<r&&(t[0]=r),t[1]>n&&(t[1]=n),t):[r,n]}};const Uut=":",qut="@";function s_(t,e,r,n){e[0].type!==yc&&R("First argument to selection functions must be a string literal.");const o=e[0].value,i=e.length>=2&&$t(e).value,a="unit",c=qut+a,u=Uut+o;i===u_&&!lt(n,c)&&(n[c]=r.getData(o).indataRef(r,a)),lt(n,u)||(n[u]=r.getData(o).tuplesRef())}function O5(t){const e=this.context.data[t];return e?e.values.value:[]}function Wut(t,e,r){const n=this.context.data[t]["index:"+e],o=n?n.value.get(r):void 0;return o&&o.count}function Hut(t,e){const r=this.context.dataflow,n=this.context.data[t],o=n.input;return r.pulse(o,r.changeset().remove(an).insert(e)),1}function Gut(t,e,r){if(t){const n=this.context.dataflow,o=t.mark.source;n.pulse(o,n.changeset().encode(t,e))}return r!==void 0?r:t}const gf=t=>function(e,r){return this.context.dataflow.locale()[t](r)(e)},Yut=gf("format"),E5=gf("timeFormat"),Vut=gf("utcFormat"),Xut=gf("timeParse"),Kut=gf("utcParse"),ch=new Date(2e3,0,1);function Bb(t,e,r){return!Number.isInteger(t)||!Number.isInteger(e)?"":(ch.setYear(2e3),ch.setMonth(t),ch.setDate(e),E5.call(this,ch,r))}function Qut(t){return Bb.call(this,t,1,"%B")}function Jut(t){return Bb.call(this,t,1,"%b")}function Zut(t){return Bb.call(this,0,2+t,"%A")}function tst(t){return Bb.call(this,0,2+t,"%a")}const est=":",rst="@",t1="%",S5="$";function l_(t,e,r,n){e[0].type!==yc&&R("First argument to data functions must be a string literal.");const o=e[0].value,i=est+o;if(!lt(i,n))try{n[i]=r.getData(o).tuplesRef()}catch{}}function nst(t,e,r,n){e[0].type!==yc&&R("First argument to indata must be a string literal."),e[1].type!==yc&&R("Second argument to indata must be a string literal.");const o=e[0].value,i=e[1].value,a=rst+i;lt(a,n)||(n[a]=r.getData(o).indataRef(r,i))}function Er(t,e,r,n){if(e[0].type===yc)TP(r,n,e[0].value);else for(t in r.scales)TP(r,n,t)}function TP(t,e,r){const n=t1+r;if(!lt(e,n))try{e[n]=t.scaleRef(r)}catch{}}function hi(t,e){if(mt(t))return t;if(J(t)){const r=e.scales[t];return r&&cJ(r.value)?r.value:void 0}}function ost(t,e,r){e.__bandwidth=o=>o&&o.bandwidth?o.bandwidth():0,r._bandwidth=Er,r._range=Er,r._scale=Er;const n=o=>"_["+(o.type===yc?V(t1+o.value):V(t1)+"+"+t(o))+"]";return{_bandwidth:o=>`this.__bandwidth(${n(o[0])})`,_range:o=>`${n(o[0])}.range()`,_scale:o=>`${n(o[0])}(${t(o[1])})`}}function d_(t,e){return function(r,n,o){if(r){const i=hi(r,(o||this).context);return i&&i.path[t](n)}else return e(n)}}const ist=d_("area",_rt),ast=d_("bounds",$rt),cst=d_("centroid",jrt);function ust(t){const e=this.context.group;let r=!1;if(e)for(;t;){if(t===e){r=!0;break}t=t.mark.group}return r}function f_(t,e,r){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(r)))}catch(n){t.warn(n)}return r[r.length-1]}function sst(){return f_(this.context.dataflow,"warn",arguments)}function lst(){return f_(this.context.dataflow,"info",arguments)}function dst(){return f_(this.context.dataflow,"debug",arguments)}function Xv(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function e1(t){const e=Zi(t),r=Xv(e.r),n=Xv(e.g),o=Xv(e.b);return .2126*r+.7152*n+.0722*o}function fst(t,e){const r=e1(t),n=e1(e),o=Math.max(r,n),i=Math.min(r,n);return(o+.05)/(i+.05)}function hst(){const t=[].slice.call(arguments);return t.unshift({}),bt(...t)}function $5(t,e){return t===e||t!==t&&e!==e?!0:L(t)?L(e)&&t.length===e.length?pst(t,e):!1:tt(t)&&tt(e)?C5(t,e):!1}function pst(t,e){for(let r=0,n=t.length;r<n;++r)if(!$5(t[r],e[r]))return!1;return!0}function C5(t,e){for(const r in t)if(!$5(t[r],e[r]))return!1;return!0}function MP(t){return e=>C5(t,e)}function gst(t,e,r,n,o,i){const a=this.context.dataflow,c=this.context.data[t],u=c.input,s=a.stamp();let l=c.changes,d,f;if(a._trigger===!1||!(u.value.length||e||n))return 0;if((!l||l.stamp<s)&&(c.changes=l=a.changeset(),l.stamp=s,a.runAfter(()=>{c.modified=!0,a.pulse(u,l).run()},!0,1)),r&&(d=r===!0?an:L(r)||Kg(r)?r:MP(r),l.remove(d)),e&&l.insert(e),n&&(d=MP(n),u.value.some(d)?l.remove(d):l.insert(n)),o)for(f in i)l.modify(o,f,i[f]);return 1}function bst(t){const e=t.touches,r=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.hypot(r,n)}function mst(t){const e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)}const FP={};function vst(t,e){const r=FP[e]||(FP[e]=Pr(e));return L(t)?t.map(r):r(t)}function h_(t){return L(t)||ArrayBuffer.isView(t)?t:null}function p_(t){return h_(t)||(J(t)?t:null)}function yst(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return h_(t).join(...r)}function xst(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p_(t).indexOf(...r)}function wst(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p_(t).lastIndexOf(...r)}function kst(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p_(t).slice(...r)}function _st(t,e,r){return mt(r)&&R("Function argument passed to replace."),String(t).replace(e,r)}function Ost(t){return h_(t).slice().reverse()}function Est(t,e,r){return _w(t||0,e||0,r||0)}function Sst(t,e){const r=hi(t,(e||this).context);return r&&r.bandwidth?r.bandwidth():0}function $st(t,e){const r=hi(t,(e||this).context);return r?r.copy():void 0}function Cst(t,e){const r=hi(t,(e||this).context);return r?r.domain():[]}function Ast(t,e,r){const n=hi(t,(r||this).context);return n?L(e)?(n.invertRange||n.invert)(e):(n.invert||n.invertExtent)(e):void 0}function Pst(t,e){const r=hi(t,(e||this).context);return r&&r.range?r.range():[]}function Nst(t,e,r){const n=hi(t,(r||this).context);return n?n(e):void 0}function Dst(t,e,r,n,o){t=hi(t,(o||this).context);const i=S3(e,r);let a=t.domain(),c=a[0],u=$t(a),s=Ze;return u-c?s=p3(t,c,u):t=(t.interpolator?jt("sequential")().interpolator(t.interpolator()):jt("linear")().interpolate(t.interpolate()).range(t.range())).domain([c=0,u=1]),t.ticks&&(a=t.ticks(+n||15),c!==a[0]&&a.unshift(c),u!==$t(a)&&a.push(u)),a.forEach(l=>i.stop(s(l),t(l))),i}function jst(t,e,r){const n=hi(t,(r||this).context);return function(o){return n?n.path.context(o)(e):""}}function Tst(t){let e=null;return function(r){return r?hd(r,e=e||Gu(t)):t}}const A5=t=>t.data;function P5(t,e){const r=O5.call(e,t);return r.root&&r.root.lookup||{}}function Mst(t,e,r){const n=P5(t,this),o=n[e],i=n[r];return o&&i?o.path(i).map(A5):void 0}function Fst(t,e){const r=P5(t,this)[e];return r?r.ancestors().map(A5):void 0}const N5=()=>typeof window<"u"&&window||null;function zst(){const t=N5();return t?t.screen:{}}function Rst(){const t=N5();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]}function Lst(){const t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]}function D5(t,e,r){if(!t)return[];const[n,o]=t,i=new se().set(n[0],n[1],o[0],o[1]),a=r||this.context.dataflow.scenegraph().root;return bz(a,i,Ist(e))}function Ist(t){let e=null;if(t){const r=Z(t.marktype),n=Z(t.markname);e=o=>(!r.length||r.some(i=>o.marktype===i))&&(!n.length||n.some(i=>o.name===i))}return e}function Bst(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;t=Z(t);const o=t[t.length-1];return o===void 0||Math.hypot(o[0]-e,o[1]-r)>n?[...t,[e,r]]:t}function Ust(t){return Z(t).reduce((e,r,n)=>{let[o,i]=r;return e+=n==0?`M ${o},${i} `:n===t.length-1?" Z":`L ${o},${i} `},"")}function qst(t,e,r){const{x:n,y:o,mark:i}=r,a=new se().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,s]of e)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),s<a.y1&&(a.y1=s),s>a.y2&&(a.y2=s);return a.translate(n,o),D5([[a.x1,a.y1],[a.x2,a.y2]],t,i).filter(u=>Wst(u.x,u.y,e))}function Wst(t,e,r){let n=0;for(let o=0,i=r.length-1;o<r.length;i=o++){const[a,c]=r[i],[u,s]=r[o];s>e!=c>e&&t<(a-u)*(e-s)/(c-s)+u&&n++}return n&1}const Od={random(){return un()},cumulativeNormal:eb,cumulativeLogNormal:_x,cumulativeUniform:$x,densityNormal:vx,densityLogNormal:kx,densityUniform:Sx,quantileNormal:rb,quantileLogNormal:Ox,quantileUniform:Cx,sampleNormal:tb,sampleLogNormal:wx,sampleUniform:Ex,isArray:L,isBoolean:fa,isDate:Ui,isDefined(t){return t!==void 0},isNumber:Bt,isObject:tt,isRegExp:Yj,isString:J,isTuple:Kg,isValid(t){return t!=null&&t===t},toBoolean:Q1,toDate(t){return J1(t)},toNumber:He,toString:Z1,indexof:xst,join:yst,lastindexof:wst,replace:_st,reverse:Ost,slice:kst,flush:Hj,lerp:Vj,merge:hst,pad:Qj,peek:$t,pluck:vst,span:Id,inrange:mu,truncate:Jj,rgb:Zi,lab:xp,hcl:wp,hsl:vp,luminance:e1,contrast:fst,sequence:Wr,format:Yut,utcFormat:Vut,utcParse:Kut,utcOffset:NT,utcSequence:TT,timeFormat:E5,timeParse:Xut,timeOffset:PT,timeSequence:jT,timeUnitSpecifier:yT,monthFormat:Qut,monthAbbrevFormat:Jut,dayFormat:Zut,dayAbbrevFormat:tst,quarter:Bj,utcquarter:Uj,week:wT,utcweek:OT,dayofyear:xT,utcdayofyear:_T,warn:sst,info:lst,debug:dst,extent(t){return go(t)},inScope:ust,intersect:D5,clampRange:qj,pinchDistance:bst,pinchAngle:mst,screen:zst,containerSize:Lst,windowSize:Rst,bandspace:Est,setdata:Hut,pathShape:Tst,panLinear:zj,panLog:Rj,panPow:Lj,panSymlog:Ij,zoomLinear:H1,zoomLog:G1,zoomPow:op,zoomSymlog:Y1,encode:Gut,modify:gst,lassoAppend:Bst,lassoPath:Ust,intersectLasso:qst},Hst=["view","item","group","xy","x","y"],Gst="event.vega.",j5="this.",g_={},T5={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:t=>`_[${V(S5+t)}]`,functions:Yst,constants:x5,visitors:g_},r1=k5(T5);function Yst(t){const e=w5(t);Hst.forEach(r=>e[r]=Gst+r);for(const r in Od)e[r]=j5+r;return bt(e,ost(t,Od,g_)),e}function le(t,e,r){return arguments.length===1?Od[t]:(Od[t]=e,r&&(g_[t]=r),r1&&(r1.functions[t]=j5+t),this)}le("bandwidth",Sst,Er);le("copy",$st,Er);le("domain",Cst,Er);le("range",Pst,Er);le("invert",Ast,Er);le("scale",Nst,Er);le("gradient",Dst,Er);le("geoArea",ist,Er);le("geoBounds",ast,Er);le("geoCentroid",cst,Er);le("geoShape",jst,Er);le("indata",Wut,nst);le("data",O5,l_);le("treePath",Mst,l_);le("treeAncestors",Fst,l_);le("vlSelectionTest",Fut,s_);le("vlSelectionIdTest",Lut,s_);le("vlSelectionResolve",But,s_);le("vlSelectionTuples",Iut);function xo(t,e){const r={};let n;try{t=J(t)?t:V(t)+"",n=c_(t)}catch{R("Expression parse error: "+t)}n.visit(i=>{if(i.type!==h5)return;const a=i.callee.name,c=T5.visitors[a];c&&c(a,i.arguments,e,r)});const o=r1(n);return o.globals.forEach(i=>{const a=S5+i;!lt(r,a)&&e.getSignal(i)&&(r[a]=e.signalRef(i))}),{$expr:bt({code:o.code},e.options.ast?{ast:n}:null),$fields:o.fields,$params:r}}function Vst(t){const e=this,r=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),r.forEach(n=>e.parseOperator(n)),r.forEach(n=>e.parseOperatorParameters(n)),(t.streams||[]).forEach(n=>e.parseStream(n)),(t.updates||[]).forEach(n=>e.parseUpdate(n)),e.resolve()}const Xst=Fn(["rule"]),zP=Fn(["group","image","rect"]);function Kst(t,e){let r="";return Xst[e]||(t.x2&&(t.x?(zP[e]&&(r+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),r+="o.width=o.x2-o.x;"):r+="o.x=o.x2-(o.width||0);"),t.xc&&(r+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(zP[e]&&(r+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),r+="o.height=o.y2-o.y;"):r+="o.y=o.y2-(o.height||0);"),t.yc&&(r+="o.y=o.yc-(o.height||0)/2;")),r}function b_(t){return(t+"").toLowerCase()}function Qst(t){return b_(t)==="operator"}function Jst(t){return b_(t)==="collect"}function cl(t,e,r){r.endsWith(";")||(r="return("+r+");");const n=Function(...e.concat(r));return t&&t.functions?n.bind(t.functions):n}function Zst(t,e,r,n){return`((u = ${t}) < (v = ${e}) || u == null) && v != null ? ${r}
  : (u > v || v == null) && u != null ? ${n}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${r}
  : v !== v && u === u ? ${n} : `}var tlt={operator:(t,e)=>cl(t,["_"],e.code),parameter:(t,e)=>cl(t,["datum","_"],e.code),event:(t,e)=>cl(t,["event"],e.code),handler:(t,e)=>{const r=`var datum=event.item&&event.item.datum;return ${e.code};`;return cl(t,["_","event"],r)},encode:(t,e)=>{const{marktype:r,channels:n}=e;let o="var o=item,datum=o.datum,m=0,$;";for(const i in n){const a="o["+V(i)+"]";o+=`$=${n[i].code};if(${a}!==$)${a}=$,m=1;`}return o+=Kst(n,r),o+="return m;",cl(t,["item","_"],o)},codegen:{get(t){const e=`[${t.map(V).join("][")}]`,r=Function("_",`return _${e};`);return r.path=e,r},comparator(t,e){let r;const n=(i,a)=>{const c=e[a];let u,s;return i.path?(u=`a${i.path}`,s=`b${i.path}`):((r=r||{})["f"+a]=i,u=`this.f${a}(a)`,s=`this.f${a}(b)`),Zst(u,s,-c,c)},o=Function("a","b","var u, v; return "+t.map(n).join("")+"0;");return r?o.bind(r):o}}};function elt(t){const e=this;Qst(t.type)||!t.type?e.operator(t,t.update?e.operatorExpression(t.update):null):e.transform(t,t.type)}function rlt(t){const e=this;if(t.params){const r=e.get(t.id);r||R("Invalid operator id: "+t.id),e.dataflow.connect(r,r.parameters(e.parseParameters(t.params),t.react,t.initonly))}}function nlt(t,e){e=e||{};const r=this;for(const n in t){const o=t[n];e[n]=L(o)?o.map(i=>RP(i,r,e)):RP(o,r,e)}return e}function RP(t,e,r){if(!t||!tt(t))return t;for(let n=0,o=LP.length,i;n<o;++n)if(i=LP[n],lt(t,i.key))return i.parse(t,e,r);return t}var LP=[{key:"$ref",parse:olt},{key:"$key",parse:alt},{key:"$expr",parse:ilt},{key:"$field",parse:clt},{key:"$encode",parse:slt},{key:"$compare",parse:ult},{key:"$context",parse:llt},{key:"$subflow",parse:dlt},{key:"$tupleid",parse:flt}];function olt(t,e){return e.get(t.$ref)||R("Operator not defined: "+t.$ref)}function ilt(t,e,r){t.$params&&e.parseParameters(t.$params,r);const n="e:"+t.$expr.code;return e.fn[n]||(e.fn[n]=zr(e.parameterExpression(t.$expr),t.$fields))}function alt(t,e){const r="k:"+t.$key+"_"+!!t.$flat;return e.fn[r]||(e.fn[r]=K1(t.$key,t.$flat,e.expr.codegen))}function clt(t,e){if(!t.$field)return null;const r="f:"+t.$field+"_"+t.$name;return e.fn[r]||(e.fn[r]=Pr(t.$field,t.$name,e.expr.codegen))}function ult(t,e){const r="c:"+t.$compare+"_"+t.$order,n=Z(t.$compare).map(o=>o&&o.$tupleid?ut:o);return e.fn[r]||(e.fn[r]=V1(n,t.$order,e.expr.codegen))}function slt(t,e){const r=t.$encode,n={};for(const o in r){const i=r[o];n[o]=zr(e.encodeExpression(i.$expr),i.$fields),n[o].output=i.$output}return n}function llt(t,e){return e}function dlt(t,e){const r=t.$subflow;return function(n,o,i){const a=e.fork().parse(r),c=a.get(r.operators[0].id),u=a.signals.parent;return u&&u.set(i),c.detachSubflow=()=>e.detach(a),c}}function flt(){return ut}function hlt(t){var e=this,r=t.filter!=null?e.eventExpression(t.filter):void 0,n=t.stream!=null?e.get(t.stream):void 0,o;t.source?n=e.events(t.source,t.type,r):t.merge&&(o=t.merge.map(i=>e.get(i)),n=o[0].merge.apply(o[0],o.slice(1))),t.between&&(o=t.between.map(i=>e.get(i)),n=n.between(o[0],o[1])),t.filter&&(n=n.filter(r)),t.throttle!=null&&(n=n.throttle(+t.throttle)),t.debounce!=null&&(n=n.debounce(+t.debounce)),n==null&&R("Invalid stream definition: "+JSON.stringify(t)),t.consume&&n.consume(!0),e.stream(t,n)}function plt(t){var e=this,r=tt(r=t.source)?r.$ref:r,n=e.get(r),o=null,i=t.update,a=void 0;n||R("Source not defined: "+t.source),o=t.target&&t.target.$expr?e.eventExpression(t.target.$expr):e.get(t.target),i&&i.$expr&&(i.$params&&(a=e.parseParameters(i.$params)),i=e.handlerExpression(i.$expr)),e.update(t,n,o,i,a)}const glt={skip:!0};function blt(t){var e=this,r={};if(t.signals){var n=r.signals={};Object.keys(e.signals).forEach(i=>{const a=e.signals[i];t.signals(i,a)&&(n[i]=a.value)})}if(t.data){var o=r.data={};Object.keys(e.data).forEach(i=>{const a=e.data[i];t.data(i,a)&&(o[i]=a.input.value)})}return e.subcontext&&t.recurse!==!1&&(r.subcontext=e.subcontext.map(i=>i.getState(t))),r}function mlt(t){var e=this,r=e.dataflow,n=t.data,o=t.signals;Object.keys(o||{}).forEach(i=>{r.update(e.signals[i],o[i],glt)}),Object.keys(n||{}).forEach(i=>{r.pulse(e.data[i].input,r.changeset().remove(an).insert(n[i]))}),(t.subcontext||[]).forEach((i,a)=>{const c=e.subcontext[a];c&&c.setState(i)})}function M5(t,e,r,n){return new F5(t,e,r,n)}function F5(t,e,r,n){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=n||tlt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},r&&(this.functions=Object.create(r),this.functions.context=this)}function IP(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}F5.prototype=IP.prototype={fork(){const t=new IP(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach(t){this.subcontext=this.subcontext.filter(r=>r!==t);const e=Object.keys(t.nodes);for(const r of e)t.nodes[r]._targets=null;for(const r of e)t.nodes[r].detach();t.nodes=null},get(t){return this.nodes[t]},set(t,e){return this.nodes[t]=e},add(t,e){const r=this,n=r.dataflow,o=t.value;if(r.set(t.id,e),Jst(t.type)&&o&&(o.$ingest?n.ingest(e,o.$ingest,o.$format):o.$request?n.preload(e,o.$request,o.$format):n.pulse(e,n.changeset().insert(o))),t.root&&(r.root=e),t.parent){let i=r.get(t.parent.$ref);i?(n.connect(i,[e]),e.targets().add(i)):(r.unresolved=r.unresolved||[]).push(()=>{i=r.get(t.parent.$ref),n.connect(i,[e]),e.targets().add(i)})}if(t.signal&&(r.signals[t.signal]=e),t.scale&&(r.scales[t.scale]=e),t.data)for(const i in t.data){const a=r.data[i]||(r.data[i]={});t.data[i].forEach(c=>a[c]=e)}},resolve(){return(this.unresolved||[]).forEach(t=>t()),delete this.unresolved,this},operator(t,e){this.add(t,this.dataflow.add(t.value,e))},transform(t,e){this.add(t,this.dataflow.add(this.transforms[b_(e)]))},stream(t,e){this.set(t.id,e)},update(t,e,r,n,o){this.dataflow.on(e,r,n,o,t.options)},operatorExpression(t){return this.expr.operator(this,t)},parameterExpression(t){return this.expr.parameter(this,t)},eventExpression(t){return this.expr.event(this,t)},handlerExpression(t){return this.expr.handler(this,t)},encodeExpression(t){return this.expr.encode(this,t)},parse:Vst,parseOperator:elt,parseOperatorParameters:rlt,parseParameters:nlt,parseStream:hlt,parseUpdate:plt,getState:blt,setState:mlt};function vlt(t){const e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),z5(e,t.description()))}function z5(t,e){t&&(e==null?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}function ylt(t){t.add(null,e=>(t._background=e.bg,t._resize=1,e.bg),{bg:t._signals.background})}const Kv="default";function xlt(t){const e=t._signals.cursor||(t._signals.cursor=t.add({user:Kv,item:null}));t.on(t.events("view","mousemove"),e,(r,n)=>{const o=e.value,i=o?J(o)?o:o.user:Kv,a=n.item&&n.item.cursor||null;return o&&i===o.user&&a==o.item?o:{user:i,item:a}}),t.add(null,function(r){let n=r.cursor,o=this.value;return J(n)||(o=n.item,n=n.user),n1(t,n&&n!==Kv?n:o||n),o},{cursor:e})}function n1(t,e){const r=t.globalCursor()?typeof document<"u"&&document.body:t.container();if(r)return e==null?r.style.removeProperty("cursor"):r.style.cursor=e}function pg(t,e){var r=t._runtime.data;return lt(r,e)||R("Unrecognized data set: "+e),r[e]}function wlt(t,e){return arguments.length<2?pg(this,t).values.value:Ub.call(this,t,zc().remove(an).insert(e))}function Ub(t,e){cM(e)||R("Second argument to changes must be a changeset.");const r=pg(this,t);return r.modified=!0,this.pulse(r.input,e)}function klt(t,e){return Ub.call(this,t,zc().insert(e))}function _lt(t,e){return Ub.call(this,t,zc().remove(e))}function R5(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function L5(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function qb(t){var e=t.padding(),r=t._origin;return[e.left+r[0],e.top+r[1]]}function Olt(t){var e=qb(t),r=R5(t),n=L5(t);t._renderer.background(t.background()),t._renderer.resize(r,n,e),t._handler.origin(e),t._resizeListeners.forEach(o=>{try{o(r,n)}catch(i){t.error(i)}})}function Elt(t,e,r){var n=t._renderer,o=n&&n.canvas(),i,a,c;return o&&(c=qb(t),a=e.changedTouches?e.changedTouches[0]:e,i=Ab(a,o),i[0]-=c[0],i[1]-=c[1]),e.dataflow=t,e.item=r,e.vega=Slt(t,r,i),e}function Slt(t,e,r){const n=e?e.mark.marktype==="group"?e:e.mark.group:null;function o(a){var c=n,u;if(a){for(u=e;u;u=u.mark.group)if(u.mark.name===a){c=u;break}}return c&&c.mark&&c.mark.interactive?c:{}}function i(a){if(!a)return r;J(a)&&(a=o(a));const c=r.slice();for(;a;)c[0]-=a.x||0,c[1]-=a.y||0,a=a.mark&&a.mark.group;return c}return{view:tr(t),item:tr(e||{}),group:o,xy:i,x:a=>i(a)[0],y:a=>i(a)[1]}}const BP="view",$lt="timer",Clt="window",Alt={trap:!1};function Plt(t){const e=bt({defaults:{}},t),r=(n,o)=>{o.forEach(i=>{L(n[i])&&(n[i]=Fn(n[i]))})};return r(e.defaults,["prevent","allow"]),r(e,["view","window","selector"]),e}function I5(t,e,r,n){t._eventListeners.push({type:r,sources:Z(e),handler:n})}function Nlt(t,e){var r=t._eventConfig.defaults,n=r.prevent,o=r.allow;return n===!1||o===!0?!1:n===!0||o===!1?!0:n?n[e]:o?!o[e]:t.preventDefault()}function uh(t,e,r){const n=t._eventConfig&&t._eventConfig[e];return n===!1||tt(n)&&!n[r]?(t.warn(`Blocked ${e} ${r} event listener.`),!1):!0}function Dlt(t,e,r){var n=this,o=new Zg(r),i=function(s,l){n.runAsync(null,()=>{t===BP&&Nlt(n,e)&&s.preventDefault(),o.receive(Elt(n,s,l))})},a;if(t===$lt)uh(n,"timer",e)&&n.timer(i,e);else if(t===BP)uh(n,"view",e)&&n.addEventListener(e,i,Alt);else if(t===Clt?uh(n,"window",e)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&uh(n,"selector",e)&&(a=Array.from(document.querySelectorAll(t))),!a)n.warn("Can not resolve event source: "+t);else{for(var c=0,u=a.length;c<u;++c)a[c].addEventListener(e,i);I5(n,a,e,i)}return o}function UP(t){return t.item}function qP(t){return t.item.mark.source}function WP(t){return function(e,r){return r.vega.view().changeset().encode(r.item,t)}}function jlt(t,e){return t=[t||"hover"],e=[e||"update",t[0]],this.on(this.events("view","mouseover",UP),qP,WP(t)),this.on(this.events("view","mouseout",UP),qP,WP(e)),this}function Tlt(){var t=this._tooltip,e=this._timers,r=this._eventListeners,n,o,i;for(n=e.length;--n>=0;)e[n].stop();for(n=r.length;--n>=0;)for(i=r[n],o=i.sources.length;--o>=0;)i.sources[o].removeEventListener(i.type,i.handler);return t&&t.call(this,this._handler,null,null,null),this}function Hr(t,e,r){const n=document.createElement(t);for(const o in e)n.setAttribute(o,e[o]);return r!=null&&(n.textContent=r),n}const Mlt="vega-bind",Flt="vega-bind-name",zlt="vega-bind-radio";function Rlt(t,e,r){if(!e)return;const n=r.param;let o=r.state;return o||(o=r.state={elements:null,active:!1,set:null,update:a=>{a!=t.signal(n.signal)&&t.runAsync(null,()=>{o.source=!0,t.signal(n.signal,a)})}},n.debounce&&(o.update=X1(n.debounce,o.update))),(n.input==null&&n.element?Llt:Blt)(o,e,n,t),o.active||(t.on(t._signals[n.signal],null,()=>{o.source?o.source=!1:o.set(t.signal(n.signal))}),o.active=!0),o}function Llt(t,e,r,n){const o=r.event||"input",i=()=>t.update(e.value);n.signal(r.signal,e.value),e.addEventListener(o,i),I5(n,e,o,i),t.set=a=>{e.value=a,e.dispatchEvent(Ilt(o))}}function Ilt(t){return typeof Event<"u"?new Event(t):{type:t}}function Blt(t,e,r,n){const o=n.signal(r.signal),i=Hr("div",{class:Mlt}),a=r.input==="radio"?i:i.appendChild(Hr("label"));a.appendChild(Hr("span",{class:Flt},r.name||r.signal)),e.appendChild(i);let c=Ult;switch(r.input){case"checkbox":c=qlt;break;case"select":c=Wlt;break;case"radio":c=Hlt;break;case"range":c=Glt;break}c(t,a,r,o)}function Ult(t,e,r,n){const o=Hr("input");for(const i in r)i!=="signal"&&i!=="element"&&o.setAttribute(i==="input"?"type":i,r[i]);o.setAttribute("name",r.signal),o.value=n,e.appendChild(o),o.addEventListener("input",()=>t.update(o.value)),t.elements=[o],t.set=i=>o.value=i}function qlt(t,e,r,n){const o={type:"checkbox",name:r.signal};n&&(o.checked=!0);const i=Hr("input",o);e.appendChild(i),i.addEventListener("change",()=>t.update(i.checked)),t.elements=[i],t.set=a=>i.checked=!!a||null}function Wlt(t,e,r,n){const o=Hr("select",{name:r.signal}),i=r.labels||[];r.options.forEach((a,c)=>{const u={value:a};gg(a,n)&&(u.selected=!0),o.appendChild(Hr("option",u,(i[c]||a)+""))}),e.appendChild(o),o.addEventListener("change",()=>{t.update(r.options[o.selectedIndex])}),t.elements=[o],t.set=a=>{for(let c=0,u=r.options.length;c<u;++c)if(gg(r.options[c],a)){o.selectedIndex=c;return}}}function Hlt(t,e,r,n){const o=Hr("span",{class:zlt}),i=r.labels||[];e.appendChild(o),t.elements=r.options.map((a,c)=>{const u={type:"radio",name:r.signal,value:a};gg(a,n)&&(u.checked=!0);const s=Hr("input",u);s.addEventListener("change",()=>t.update(a));const l=Hr("label",{},(i[c]||a)+"");return l.prepend(s),o.appendChild(l),s}),t.set=a=>{const c=t.elements,u=c.length;for(let s=0;s<u;++s)gg(c[s].value,a)&&(c[s].checked=!0)}}function Glt(t,e,r,n){n=n!==void 0?n:(+r.max+ +r.min)/2;const o=r.max!=null?r.max:Math.max(100,+n)||100,i=r.min||Math.min(0,o,+n)||0,a=r.step||Ki(i,o,100),c=Hr("input",{type:"range",name:r.signal,min:i,max:o,step:a});c.value=n;const u=Hr("span",{},+n);e.appendChild(c),e.appendChild(u);const s=()=>{u.textContent=c.value,t.update(+c.value)};c.addEventListener("input",s),c.addEventListener("change",s),t.elements=[c],t.set=l=>{c.value=l,u.textContent=l}}function gg(t,e){return t===e||t+""==e+""}function B5(t,e,r,n,o,i){return e=e||new n(t.loader()),e.initialize(r,R5(t),L5(t),qb(t),o,i).background(t.background())}function m_(t,e){return e?function(){try{e.apply(this,arguments)}catch(r){t.error(r)}}:null}function Ylt(t,e,r,n){const o=new n(t.loader(),m_(t,t.tooltip())).scene(t.scenegraph().root).initialize(r,qb(t),t);return e&&e.handlers().forEach(i=>{o.on(i.type,i.handler)}),o}function Vlt(t,e){const r=this,n=r._renderType,o=r._eventConfig.bind,i=Pb(n);t=r._el=t?Qv(r,t,!0):null,vlt(r),i||r.error("Unrecognized renderer type: "+n);const a=i.handler||cf,c=t?i.renderer:i.headless;return r._renderer=c?B5(r,r._renderer,t,c):null,r._handler=Ylt(r,r._handler,t,a),r._redraw=!0,t&&o!=="none"&&(e=e?r._elBind=Qv(r,e,!0):t.appendChild(Hr("form",{class:"vega-bindings"})),r._bind.forEach(u=>{u.param.element&&o!=="container"&&(u.element=Qv(r,u.param.element,!!u.param.input))}),r._bind.forEach(u=>{Rlt(r,u.element||e,u)})),r}function Qv(t,e,r){if(typeof e=="string")if(typeof document<"u"){if(e=document.querySelector(e),!e)return t.error("Signal bind element not found: "+e),null}else return t.error("DOM document instance not found."),null;if(e&&r)try{e.textContent=""}catch(n){e=null,t.error(n)}return e}const ul=t=>+t||0,Xlt=t=>({top:t,bottom:t,left:t,right:t});function HP(t){return tt(t)?{top:ul(t.top),bottom:ul(t.bottom),left:ul(t.left),right:ul(t.right)}:Xlt(ul(t))}async function v_(t,e,r,n){const o=Pb(e),i=o&&o.headless;return i||R("Unrecognized renderer type: "+e),await t.runAsync(),B5(t,null,null,i,r,n).renderAsync(t._scenegraph.root)}async function Klt(t,e){t!==Fi.Canvas&&t!==Fi.SVG&&t!==Fi.PNG&&R("Unrecognized image type: "+t);const r=await v_(this,t,e);return t===Fi.SVG?Qlt(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png")}function Qlt(t,e){const r=new Blob([t],{type:e});return window.URL.createObjectURL(r)}async function Jlt(t,e){return(await v_(this,Fi.Canvas,t,e)).canvas()}async function Zlt(t){return(await v_(this,Fi.SVG,t)).svg()}function tdt(t,e,r){return M5(t,Iu,Od,r).parse(e)}function edt(t){var e=this._runtime.scales;return lt(e,t)||R("Unrecognized scale or projection: "+t),e[t].value}var U5="width",q5="height",y_="padding",GP={skip:!0};function W5(t,e){var r=t.autosize(),n=t.padding();return e-(r&&r.contains===y_?n.left+n.right:0)}function H5(t,e){var r=t.autosize(),n=t.padding();return e-(r&&r.contains===y_?n.top+n.bottom:0)}function rdt(t){var e=t._signals,r=e[U5],n=e[q5],o=e[y_];function i(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,c=>{t._width=c.size,t._viewWidth=W5(t,c.size),i()},{size:r}),t._resizeHeight=t.add(null,c=>{t._height=c.size,t._viewHeight=H5(t,c.size),i()},{size:n});const a=t.add(null,i,{pad:o});t._resizeWidth.rank=r.rank+1,t._resizeHeight.rank=n.rank+1,a.rank=o.rank+1}function ndt(t,e,r,n,o,i){this.runAfter(a=>{let c=0;a._autosize=0,a.width()!==r&&(c=1,a.signal(U5,r,GP),a._resizeWidth.skip(!0)),a.height()!==n&&(c=1,a.signal(q5,n,GP),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),(a._origin[0]!==o[0]||a._origin[1]!==o[1])&&(a._resize=1,a._origin=o),c&&a.run("enter"),i&&a.runAfter(u=>u.resize())},!1,1)}function odt(t){return this._runtime.getState(t||{data:idt,signals:adt,recurse:!0})}function idt(t,e){return e.modified&&L(e.input.value)&&t.indexOf("_:vega:_")}function adt(t,e){return!(t==="parent"||e instanceof Iu.proxy)}function cdt(t){return this.runAsync(null,e=>{e._trigger=!1,e._runtime.setState(t)},e=>{e._trigger=!0}),this}function udt(t,e){function r(n){t({timestamp:Date.now(),elapsed:n})}this._timers.push(Mot(r,e))}function sdt(t,e,r,n){const o=t.element();o&&o.setAttribute("title",ldt(n))}function ldt(t){return t==null?"":L(t)?G5(t):tt(t)&&!Ui(t)?ddt(t):t+""}function ddt(t){return Object.keys(t).map(e=>{const r=t[e];return e+": "+(L(r)?G5(r):Y5(r))}).join(`
`)}function G5(t){return"["+t.map(Y5).join(", ")+"]"}function Y5(t){return L(t)?"[…]":tt(t)&&!Ui(t)?"{…}":t}function V5(t,e){const r=this;if(e=e||{},Ou.call(r),e.loader&&r.loader(e.loader),e.logger&&r.logger(e.logger),e.logLevel!=null&&r.logLevel(e.logLevel),e.locale||t.locale){const i=bt({},t.locale,e.locale);r.locale(QT(i.number,i.time))}r._el=null,r._elBind=null,r._renderType=e.renderer||Fi.Canvas,r._scenegraph=new Zw;const n=r._scenegraph.root;r._renderer=null,r._tooltip=e.tooltip||sdt,r._redraw=!0,r._handler=new cf().scene(n),r._globalCursor=!1,r._preventDefault=!1,r._timers=[],r._eventListeners=[],r._resizeListeners=[],r._eventConfig=Plt(t.eventConfig),r.globalCursor(r._eventConfig.globalCursor);const o=tdt(r,t,e.expr);r._runtime=o,r._signals=o.signals,r._bind=(t.bindings||[]).map(i=>({state:null,param:bt({},i)})),o.root&&o.root.set(n),n.source=o.data.root.input,r.pulse(o.data.root.input,r.changeset().insert(n.items)),r._width=r.width(),r._height=r.height(),r._viewWidth=W5(r,r._width),r._viewHeight=H5(r,r._height),r._origin=[0,0],r._resize=0,r._autosize=1,rdt(r),ylt(r),xlt(r),r.description(t.description),e.hover&&r.hover(),e.container&&r.initialize(e.container,e.bind)}function sh(t,e){return lt(t._signals,e)?t._signals[e]:R("Unrecognized signal name: "+V(e))}function X5(t,e){const r=(t._targets||[]).filter(n=>n._update&&n._update.handler===e);return r.length?r[0]:null}function YP(t,e,r,n){let o=X5(r,n);return o||(o=m_(t,()=>n(e,r.value)),o.handler=n,t.on(r,null,o)),t}function VP(t,e,r){const n=X5(e,r);return n&&e._targets.remove(n),t}X(V5,Ou,{async evaluate(t,e,r){if(await Ou.prototype.evaluate.call(this,t,e),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Olt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(n){this.error(n)}return r&&Oh(this,r),this},dirty(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description(t){if(arguments.length){const e=t!=null?t+"":null;return e!==this._desc&&z5(this._el,this._desc=e),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(t,e,r){const n=sh(this,t);return arguments.length===1?n.value:this.update(n,e,r)},width(t){return arguments.length?this.signal("width",t):this.signal("width")},height(t){return arguments.length?this.signal("height",t):this.signal("height")},padding(t){return arguments.length?this.signal("padding",HP(t)):HP(this.signal("padding"))},autosize(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer(t){return arguments.length?(Pb(t)||R("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader(t){return arguments.length?(t!==this._loader&&(Ou.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(sh(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:ndt,addEventListener(t,e,r){let n=e;return r&&r.trap===!1||(n=m_(this,e),n.raw=e),this._handler.on(t,n),this},removeEventListener(t,e){for(var r=this._handler.handlers(t),n=r.length,o,i;--n>=0;)if(i=r[n].type,o=r[n].handler,t===i&&(e===o||e===o.raw)){this._handler.off(i,o);break}return this},addResizeListener(t){const e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener(t){var e=this._resizeListeners,r=e.indexOf(t);return r>=0&&e.splice(r,1),this},addSignalListener(t,e){return YP(this,t,sh(this,t),e)},removeSignalListener(t,e){return VP(this,sh(this,t),e)},addDataListener(t,e){return YP(this,t,pg(this,t).values,e)},removeDataListener(t,e){return VP(this,pg(this,t).values,e)},globalCursor(t){if(arguments.length){if(this._globalCursor!==!!t){const e=n1(this,null);this._globalCursor=!!t,e&&n1(this,e)}return this}else return this._globalCursor},preventDefault(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:udt,events:Dlt,finalize:Tlt,hover:jlt,data:wlt,change:Ub,insert:klt,remove:_lt,scale:edt,initialize:Vlt,toImageURL:Klt,toCanvas:Jlt,toSVG:Zlt,getState:odt,setState:cdt});const fdt="view",bg="[",mg="]",K5="{",Q5="}",hdt=":",J5=",",pdt="@",gdt=">",bdt=/[[\]{}]/,mdt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Z5,t6;function va(t,e,r){return Z5=e||fdt,t6=r||mdt,e6(t.trim()).map(o1)}function vdt(t){return t6[t]}function Zl(t,e,r,n,o){const i=t.length;let a=0,c;for(;e<i;++e){if(c=t[e],!a&&c===r)return e;o&&o.indexOf(c)>=0?--a:n&&n.indexOf(c)>=0&&++a}return e}function e6(t){const e=[],r=t.length;let n=0,o=0;for(;o<r;)o=Zl(t,o,J5,bg+K5,mg+Q5),e.push(t.substring(n,o).trim()),n=++o;if(e.length===0)throw"Empty event selector: "+t;return e}function o1(t){return t[0]==="["?ydt(t):xdt(t)}function ydt(t){const e=t.length;let r=1,n;if(r=Zl(t,r,mg,bg,mg),r===e)throw"Empty between selector: "+t;if(n=e6(t.substring(1,r)),n.length!==2)throw"Between selector must have two elements: "+t;if(t=t.slice(r+1).trim(),t[0]!==gdt)throw"Expected '>' after between selector: "+t;n=n.map(o1);const o=o1(t.slice(1).trim());return o.between?{between:n,stream:o}:(o.between=n,o)}function xdt(t){const e={source:Z5},r=[];let n=[0,0],o=0,i=0,a=t.length,c=0,u,s;if(t[a-1]===Q5){if(c=t.lastIndexOf(K5),c>=0){try{n=wdt(t.substring(c+1,a-1))}catch{throw"Invalid throttle specification: "+t}t=t.slice(0,c).trim(),a=t.length}else throw"Unmatched right brace: "+t;c=0}if(!a)throw t;if(t[0]===pdt&&(o=++c),u=Zl(t,c,hdt),u<a&&(r.push(t.substring(i,u).trim()),i=c=++u),c=Zl(t,c,bg),c===a)r.push(t.substring(i,a).trim());else if(r.push(t.substring(i,c).trim()),s=[],i=++c,i===a)throw"Unmatched left bracket: "+t;for(;c<a;){if(c=Zl(t,c,mg),c===a)throw"Unmatched left bracket: "+t;if(s.push(t.substring(i,c).trim()),c<a-1&&t[++c]!==bg)throw"Expected left bracket: "+t;i=++c}if(!(a=r.length)||bdt.test(r[a-1]))throw"Invalid event selector: "+t;return a>1?(e.type=r[1],o?e.markname=r[0].slice(1):vdt(r[0])?e.marktype=r[0]:e.source=r[0]):e.type=r[0],e.type.slice(-1)==="!"&&(e.consume=!0,e.type=e.type.slice(0,-1)),s!=null&&(e.filter=s),n[0]&&(e.throttle=n[0]),n[1]&&(e.debounce=n[1]),e}function wdt(t){const e=t.split(J5);if(!t.length||e.length>2)throw t;return e.map(r=>{const n=+r;if(n!==n)throw t;return n})}function kdt(t){return tt(t)?t:{type:t||"pad"}}const sl=t=>+t||0,_dt=t=>({top:t,bottom:t,left:t,right:t});function Odt(t){return tt(t)?t.signal?t:{top:sl(t.top),bottom:sl(t.bottom),left:sl(t.left),right:sl(t.right)}:_dt(sl(t))}const ke=t=>tt(t)&&!L(t)?bt({},t):{value:t};function XP(t,e,r,n){return r!=null?(tt(r)&&!L(r)||L(r)&&r.length&&tt(r[0])?t.update[e]=r:t[n||"enter"][e]={value:r},1):0}function Me(t,e,r){for(const n in e)XP(t,n,e[n]);for(const n in r)XP(t,n,r[n],"update")}function Ps(t,e,r){for(const n in e)r&&lt(r,n)||(t[n]=bt(t[n]||{},e[n]));return t}function gu(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}const x_="mark",w_="frame",k_="scope",Edt="axis",Sdt="axis-domain",$dt="axis-grid",Cdt="axis-label",Adt="axis-tick",Pdt="axis-title",Ndt="legend",Ddt="legend-band",jdt="legend-entry",Tdt="legend-gradient",r6="legend-label",Mdt="legend-symbol",Fdt="legend-title",zdt="title",Rdt="title-text",Ldt="title-subtitle";function Idt(t,e,r,n,o){const i={},a={};let c,u,s,l;u="lineBreak",e==="text"&&o[u]!=null&&!gu(u,t)&&Jv(i,u,o[u]),(r=="legend"||String(r).startsWith("axis"))&&(r=null),l=r===w_?o.group:r===x_?bt({},o.mark,o[e]):null;for(u in l)s=gu(u,t)||(u==="fill"||u==="stroke")&&(gu("fill",t)||gu("stroke",t)),s||Jv(i,u,l[u]);Z(n).forEach(d=>{const f=o.style&&o.style[d];for(const h in f)gu(h,t)||Jv(i,h,f[h])}),t=bt({},t);for(u in i)l=i[u],l.signal?(c=c||{})[u]=l:a[u]=l;return t.enter=bt(a,t.enter),c&&(t.update=bt(c,t.update)),t}function Jv(t,e,r){t[e]=r&&r.signal?{signal:r.signal}:{value:r}}const n6=t=>J(t)?V(t):t.signal?`(${t.signal})`:o6(t);function Wb(t){if(t.gradient!=null)return Udt(t);let e=t.signal?`(${t.signal})`:t.color?Bdt(t.color):t.field!=null?o6(t.field):t.value!==void 0?V(t.value):void 0;return t.scale!=null&&(e=qdt(t,e)),e===void 0&&(e=null),t.exponent!=null&&(e=`pow(${e},${Bh(t.exponent)})`),t.mult!=null&&(e+=`*${Bh(t.mult)}`),t.offset!=null&&(e+=`+${Bh(t.offset)}`),t.round&&(e=`round(${e})`),e}const lh=(t,e,r,n)=>`(${t}(${[e,r,n].map(Wb).join(",")})+'')`;function Bdt(t){return t.c?lh("hcl",t.h,t.c,t.l):t.h||t.s?lh("hsl",t.h,t.s,t.l):t.l||t.a?lh("lab",t.l,t.a,t.b):t.r||t.g||t.b?lh("rgb",t.r,t.g,t.b):null}function Udt(t){const e=[t.start,t.stop,t.count].map(r=>r==null?null:V(r));for(;e.length&&$t(e)==null;)e.pop();return e.unshift(n6(t.gradient)),`gradient(${e.join(",")})`}function Bh(t){return tt(t)?"("+Wb(t)+")":t}function o6(t){return i6(tt(t)?t:{datum:t})}function i6(t){let e,r,n;if(t.signal)e="datum",n=t.signal;else if(t.group||t.parent){for(r=Math.max(1,t.level||1),e="item";r-- >0;)e+=".mark.group";t.parent?(n=t.parent,e+=".datum"):n=t.group}else t.datum?(e="datum",n=t.datum):R("Invalid field reference: "+V(t));return t.signal||(n=J(n)?Oo(n).map(V).join("]["):i6(n)),e+"["+n+"]"}function qdt(t,e){const r=n6(t.scale);return t.range!=null?e=`lerp(_range(${r}), ${+t.range})`:(e!==void 0&&(e=`_scale(${r}, ${e})`),t.band&&(e=(e?e+"+":"")+`_bandwidth(${r})`+(+t.band==1?"":"*"+Bh(t.band)),t.extra&&(e=`(datum.extra ? _scale(${r}, datum.extra.value) : ${e})`)),e==null&&(e="0")),e}function Wdt(t){let e="";return t.forEach(r=>{const n=Wb(r);e+=r.test?`(${r.test})?${n}:`:n}),$t(e)===":"&&(e+="null"),e}function a6(t,e,r,n,o,i){const a={};i=i||{},i.encoders={$encode:a},t=Idt(t,e,r,n,o.config);for(const c in t)a[c]=Hdt(t[c],e,i,o);return i}function Hdt(t,e,r,n){const o={},i={};for(const a in t)t[a]!=null&&(o[a]=Ydt(Gdt(t[a]),n,r,i));return{$expr:{marktype:e,channels:o},$fields:Object.keys(i),$output:Object.keys(t)}}function Gdt(t){return L(t)?Wdt(t):Wb(t)}function Ydt(t,e,r,n){const o=xo(t,e);return o.$fields.forEach(i=>n[i]=1),bt(r,o.$params),o.$expr}const Vdt="outer",Xdt=["value","update","init","react","bind"];function KP(t,e){R(t+' for "outer" push: '+V(e))}function c6(t,e){const r=t.name;if(t.push===Vdt)e.signals[r]||KP("No prior signal definition",r),Xdt.forEach(n=>{t[n]!==void 0&&KP("Invalid property ",n)});else{const n=e.addSignal(r,t.value);t.react===!1&&(n.react=!1),t.bind&&e.addBinding(r,t.bind)}}function i1(t,e,r,n){this.id=-1,this.type=t,this.value=e,this.params=r,n&&(this.parent=n)}function Hb(t,e,r,n){return new i1(t,e,r,n)}function vg(t,e){return Hb("operator",t,e)}function ct(t){const e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function Ed(t,e){return e?{$field:t,$name:e}:{$field:t}}const a1=Ed("key");function QP(t,e){return{$compare:t,$order:e}}function Kdt(t,e){const r={$key:t};return e&&(r.$flat=!0),r}const Qdt="ascending",Jdt="descending";function Zdt(t){return tt(t)?(t.order===Jdt?"-":"+")+Gb(t.op,t.field):""}function Gb(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}const __="scope",c1="view";function pe(t){return t&&t.signal}function tft(t){return t&&t.expr}function Uh(t){if(pe(t))return!0;if(tt(t)){for(const e in t)if(Uh(t[e]))return!0}return!1}function xn(t,e){return t??e}function cc(t){return t&&t.signal||t}const JP="timer";function Sd(t,e){return(t.merge?rft:t.stream?nft:t.type?oft:R("Invalid stream specification: "+V(t)))(t,e)}function eft(t){return t===__?c1:t||c1}function rft(t,e){const r=t.merge.map(o=>Sd(o,e)),n=O_({merge:r},t,e);return e.addStream(n).id}function nft(t,e){const r=Sd(t.stream,e),n=O_({stream:r},t,e);return e.addStream(n).id}function oft(t,e){let r;t.type===JP?(r=e.event(JP,t.throttle),t={between:t.between,filter:t.filter}):r=e.event(eft(t.source),t.type);const n=O_({stream:r},t,e);return Object.keys(n).length===1?r:e.addStream(n).id}function O_(t,e,r){let n=e.between;return n&&(n.length!==2&&R('Stream "between" parameter must have 2 entries: '+V(e)),t.between=[Sd(n[0],r),Sd(n[1],r)]),n=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&n.push(ift(e.marktype,e.markname,e.markrole)),e.source===__&&n.push("inScope(event.item)"),n.length&&(t.filter=xo("("+n.join(")&&(")+")",r).$expr),(n=e.throttle)!=null&&(t.throttle=+n),(n=e.debounce)!=null&&(t.debounce=+n),e.consume&&(t.consume=!0),t}function ift(t,e,r){const n="event.item";return n+(t&&t!=="*"?"&&"+n+".mark.marktype==='"+t+"'":"")+(r?"&&"+n+".mark.role==='"+r+"'":"")+(e?"&&"+n+".mark.name==='"+e+"'":"")}const aft={code:"_.$value",ast:{type:"Identifier",value:"value"}};function cft(t,e,r){const n=t.encode,o={target:r};let i=t.events,a=t.update,c=[];i||R("Signal update missing events specification."),J(i)&&(i=va(i,e.isSubscope()?__:c1)),i=Z(i).filter(u=>u.signal||u.scale?(c.push(u),0):1),c.length>1&&(c=[sft(c)]),i.length&&c.push(i.length>1?{merge:i}:i[0]),n!=null&&(a&&R("Signal encode and update are mutually exclusive."),a="encode(item(),"+V(n)+")"),o.update=J(a)?xo(a,e):a.expr!=null?xo(a.expr,e):a.value!=null?a.value:a.signal!=null?{$expr:aft,$params:{$value:e.signalRef(a.signal)}}:R("Invalid signal update specification."),t.force&&(o.options={force:!0}),c.forEach(u=>e.addUpdate(bt(uft(u,e),o)))}function uft(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):Sd(t,e)}}function sft(t){return{signal:"["+t.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}function lft(t,e){const r=e.getSignal(t.name);let n=t.update;t.init&&(n?R("Signals can not include both init and update expressions."):(n=t.init,r.initonly=!0)),n&&(n=xo(n,e),r.update=n.$expr,r.params=n.$params),t.on&&t.on.forEach(o=>cft(o,e,r.id))}const Wt=t=>(e,r,n)=>Hb(t,r,e||void 0,n),u6=Wt("aggregate"),dft=Wt("axisticks"),s6=Wt("bound"),Un=Wt("collect"),ZP=Wt("compare"),fft=Wt("datajoin"),l6=Wt("encode"),hft=Wt("expression"),pft=Wt("facet"),gft=Wt("field"),bft=Wt("key"),mft=Wt("legendentries"),vft=Wt("load"),yft=Wt("mark"),xft=Wt("multiextent"),wft=Wt("multivalues"),kft=Wt("overlap"),_ft=Wt("params"),d6=Wt("prefacet"),Oft=Wt("projection"),Eft=Wt("proxy"),Sft=Wt("relay"),f6=Wt("render"),$ft=Wt("scale"),Bc=Wt("sieve"),Cft=Wt("sortitems"),h6=Wt("viewlayout"),Aft=Wt("values");let Pft=0;const p6={min:"min",max:"max",count:"sum"};function Nft(t,e){const r=t.type||"linear";u3(r)||R("Unrecognized scale type: "+V(r)),e.addScale(t.name,{type:r,domain:void 0})}function Dft(t,e){const r=e.getScale(t.name).params;let n;r.domain=g6(t.domain,t,e),t.range!=null&&(r.range=m6(t,e,r)),t.interpolate!=null&&Uft(t.interpolate,r),t.nice!=null&&(r.nice=Bft(t.nice)),t.bins!=null&&(r.bins=Ift(t.bins,e));for(n in t)lt(r,n)||n==="name"||(r[n]=en(t[n],e))}function en(t,e){return tt(t)?t.signal?e.signalRef(t.signal):R("Unsupported object: "+V(t)):t}function qh(t,e){return t.signal?e.signalRef(t.signal):t.map(r=>en(r,e))}function Yb(t){R("Can not find data set: "+V(t))}function g6(t,e,r){if(!t){(e.domainMin!=null||e.domainMax!=null)&&R("No scale domain defined for domainMin/domainMax to override.");return}return t.signal?r.signalRef(t.signal):(L(t)?jft:t.fields?Mft:Tft)(t,e,r)}function jft(t,e,r){return t.map(n=>en(n,r))}function Tft(t,e,r){const n=r.getData(t.data);return n||Yb(t.data),Hu(e.type)?n.valuesRef(r,t.field,b6(t.sort,!1)):d3(e.type)?n.domainRef(r,t.field):n.extentRef(r,t.field)}function Mft(t,e,r){const n=t.data,o=t.fields.reduce((i,a)=>(a=J(a)?{data:n,field:a}:L(a)||a.signal?Fft(a,r):a,i.push(a),i),[]);return(Hu(e.type)?zft:d3(e.type)?Rft:Lft)(t,r,o)}function Fft(t,e){const r="_:vega:_"+Pft++,n=Un({});if(L(t))n.value={$ingest:t};else if(t.signal){const o="setdata("+V(r)+","+t.signal+")";n.params.input=e.signalRef(o)}return e.addDataPipeline(r,[n,Bc({})]),{data:r,field:"data"}}function zft(t,e,r){const n=b6(t.sort,!0);let o,i;const a=r.map(s=>{const l=e.getData(s.data);return l||Yb(s.data),l.countsRef(e,s.field,n)}),c={groupby:a1,pulse:a};n&&(o=n.op||"count",i=n.field?Gb(o,n.field):"count",c.ops=[p6[o]],c.fields=[e.fieldRef(i)],c.as=[i]),o=e.add(u6(c));const u=e.add(Un({pulse:ct(o)}));return i=e.add(Aft({field:a1,sort:e.sortRef(n),pulse:ct(u)})),ct(i)}function b6(t,e){return t&&(!t.field&&!t.op?tt(t)?t.field="key":t={field:"key"}:!t.field&&t.op!=="count"?R("No field provided for sort aggregate op: "+t.op):e&&t.field&&t.op&&!p6[t.op]&&R("Multiple domain scales can not be sorted using "+t.op)),t}function Rft(t,e,r){const n=r.map(o=>{const i=e.getData(o.data);return i||Yb(o.data),i.domainRef(e,o.field)});return ct(e.add(wft({values:n})))}function Lft(t,e,r){const n=r.map(o=>{const i=e.getData(o.data);return i||Yb(o.data),i.extentRef(e,o.field)});return ct(e.add(xft({extents:n})))}function Ift(t,e){return t.signal||L(t)?qh(t,e):e.objectProperty(t)}function Bft(t){return tt(t)?{interval:en(t.interval),step:en(t.step)}:en(t)}function Uft(t,e){e.interpolate=en(t.type||t),t.gamma!=null&&(e.interpolateGamma=en(t.gamma))}function m6(t,e,r){const n=e.config.range;let o=t.range;if(o.signal)return e.signalRef(o.signal);if(J(o)){if(n&&lt(n,o))return t=bt({},t,{range:n[o]}),m6(t,e,r);o==="width"?o=[0,{signal:"width"}]:o==="height"?o=Hu(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:R("Unrecognized scale range value: "+V(o))}else if(o.scheme){r.scheme=L(o.scheme)?qh(o.scheme,e):en(o.scheme,e),o.extent&&(r.schemeExtent=qh(o.extent,e)),o.count&&(r.schemeCount=en(o.count,e));return}else if(o.step){r.rangeStep=en(o.step,e);return}else{if(Hu(t.type)&&!L(o))return g6(o,t,e);L(o)||R("Unsupported range type: "+V(o))}return o.map(i=>(L(i)?qh:en)(i,e))}function qft(t,e){const r=e.config.projection||{},n={};for(const o in t)o!=="name"&&(n[o]=u1(t[o],o,e));for(const o in r)n[o]==null&&(n[o]=u1(r[o],o,e));e.addProjection(t.name,n)}function u1(t,e,r){return L(t)?t.map(n=>u1(n,e,r)):tt(t)?t.signal?r.signalRef(t.signal):e==="fit"?t:R("Unsupported parameter object: "+V(t)):t}const qn="top",Ns="left",Ds="right",ia="bottom",v6="center",Wft="vertical",Hft="start",Gft="middle",Yft="end",s1="index",E_="label",Vft="offset",es="perc",Xft="perc2",nn="value",bf="guide-label",S_="guide-title",Kft="group-title",Qft="group-subtitle",tN="symbol",Wh="gradient",l1="discrete",d1="size",Jft="shape",Zft="fill",tht="stroke",eht="strokeWidth",rht="strokeDash",nht="opacity",$_=[d1,Jft,Zft,tht,eht,rht,nht],mf={name:1,style:1,interactive:1},At={value:0},on={value:1},Vb="group",y6="rect",C_="rule",oht="symbol",Uc="text";function $d(t){return t.type=Vb,t.interactive=t.interactive||!1,t}function Rr(t,e){const r=(n,o)=>xn(t[n],xn(e[n],o));return r.isVertical=n=>Wft===xn(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection)),r.gradientLength=()=>xn(t.gradientLength,e.gradientLength||e.gradientWidth),r.gradientThickness=()=>xn(t.gradientThickness,e.gradientThickness||e.gradientHeight),r.entryColumns=()=>xn(t.columns,xn(e.columns,+r.isVertical(!0))),r}function x6(t,e){const r=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return r&&r.signal?r:r?r.value:null}function iht(t,e,r){const n=e.config.style[r];return n&&n[t]}function Xb(t,e,r){return`item.anchor === '${Hft}' ? ${t} : item.anchor === '${Yft}' ? ${e} : ${r}`}const A_=Xb(V(Ns),V(Ds),V(v6));function aht(t){const e=t("tickBand");let r=t("tickOffset"),n,o;return e?e.signal?(n={signal:`(${e.signal}) === 'extent' ? 1 : 0.5`},o={signal:`(${e.signal}) === 'extent'`},tt(r)||(r={signal:`(${e.signal}) === 'extent' ? 0 : ${r}`})):e==="extent"?(n=1,o=!0,r=0):(n=.5,o=!1):(n=t("bandPosition"),o=t("tickExtra")),{extra:o,band:n,offset:r}}function w6(t,e){return e?t?tt(t)?Object.assign({},t,{offset:w6(t.offset,e)}):{value:t,offset:e}:e:t}function Xr(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=Ps(t.encode,e,mf)):t.interactive=!1,t}function cht(t,e,r,n){const o=Rr(t,r),i=o.isVertical(),a=o.gradientThickness(),c=o.gradientLength();let u,s,l,d,f;i?(s=[0,1],l=[0,0],d=a,f=c):(s=[0,0],l=[1,0],d=c,f=a);const h={enter:u={opacity:At,x:At,y:At,width:ke(d),height:ke(f)},update:bt({},u,{opacity:on,fill:{gradient:e,start:s,stop:l}}),exit:{opacity:At}};return Me(h,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Xr({type:y6,role:Tdt,encode:h},n)}function uht(t,e,r,n,o){const i=Rr(t,r),a=i.isVertical(),c=i.gradientThickness(),u=i.gradientLength();let s,l,d,f,h="";a?(s="y",d="y2",l="x",f="width",h="1-"):(s="x",d="x2",l="y",f="height");const p={opacity:At,fill:{scale:e,field:nn}};p[s]={signal:h+"datum."+es,mult:u},p[l]=At,p[d]={signal:h+"datum."+Xft,mult:u},p[f]=ke(c);const g={enter:p,update:bt({},p,{opacity:on}),exit:{opacity:At}};return Me(g,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Xr({type:y6,role:Ddt,key:nn,from:o,encode:g},n)}const sht=`datum.${es}<=0?"${Ns}":datum.${es}>=1?"${Ds}":"${v6}"`,lht=`datum.${es}<=0?"${ia}":datum.${es}>=1?"${qn}":"${Gft}"`;function eN(t,e,r,n){const o=Rr(t,e),i=o.isVertical(),a=ke(o.gradientThickness()),c=o.gradientLength();let u=o("labelOverlap"),s,l,d,f,h="";const p={enter:s={opacity:At},update:l={opacity:on,text:{field:E_}},exit:{opacity:At}};return Me(p,{fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:xn(t.labelLimit,e.gradientLabelLimit)}),i?(s.align={value:"left"},s.baseline=l.baseline={signal:lht},d="y",f="x",h="1-"):(s.align=l.align={signal:sht},s.baseline={value:"top"},d="x",f="y"),s[d]=l[d]={signal:h+"datum."+es,mult:c},s[f]=l[f]=a,a.offset=xn(t.labelOffset,e.gradientLabelOffset)||0,u=u?{separation:o("labelSeparation"),method:u,order:"datum."+s1}:void 0,Xr({type:Uc,role:r6,style:bf,key:nn,from:n,encode:p,overlap:u},r)}function dht(t,e,r,n,o){const i=Rr(t,e),a=r.entries,c=!!(a&&a.interactive),u=a?a.name:void 0,s=i("clipHeight"),l=i("symbolOffset"),d={data:"value"},f=`(${o}) ? datum.${Vft} : datum.${d1}`,h=s?ke(s):{field:d1},p=`datum.${s1}`,g=`max(1, ${o})`;let b,m,v,y,x;h.mult=.5,b={enter:m={opacity:At,x:{signal:f,mult:.5,offset:l},y:h},update:v={opacity:on,x:m.x,y:m.y},exit:{opacity:At}};let k=null,_=null;t.fill||(k=e.symbolBaseFillColor,_=e.symbolBaseStrokeColor),Me(b,{fill:i("symbolFillColor",k),shape:i("symbolType"),size:i("symbolSize"),stroke:i("symbolStrokeColor",_),strokeDash:i("symbolDash"),strokeDashOffset:i("symbolDashOffset"),strokeWidth:i("symbolStrokeWidth")},{opacity:i("symbolOpacity")}),$_.forEach(S=>{t[S]&&(v[S]=m[S]={scale:t[S],field:nn})});const w=Xr({type:oht,role:Mdt,key:nn,from:d,clip:s?!0:void 0,encode:b},r.symbols),O=ke(l);O.offset=i("labelOffset"),b={enter:m={opacity:At,x:{signal:f,offset:O},y:h},update:v={opacity:on,text:{field:E_},x:m.x,y:m.y},exit:{opacity:At}},Me(b,{align:i("labelAlign"),baseline:i("labelBaseline"),fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:i("labelLimit")});const C=Xr({type:Uc,role:r6,style:bf,key:nn,from:d,encode:b},r.labels);return b={enter:{noBound:{value:!s},width:At,height:s?ke(s):At,opacity:At},exit:{opacity:At},update:v={opacity:on,row:{signal:null},column:{signal:null}}},i.isVertical(!0)?(y=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${y}`,v.column.signal=`floor(${p} / ${y})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${o})?${v.column.signal}:${p}`,n={facet:{data:n,name:"value",groupby:s1}},$d({role:k_,from:n,encode:Ps(b,a,mf),marks:[w,C],name:u,interactive:c,sort:x})}function fht(t,e){const r=Rr(t,e);return{align:r("gridAlign"),columns:r.entryColumns(),center:{row:!0,column:!1},padding:{row:r("rowPadding"),column:r("columnPadding")}}}const P_='item.orient === "left"',N_='item.orient === "right"',Kb=`(${P_} || ${N_})`,hht=`datum.vgrad && ${Kb}`,pht=Xb('"top"','"bottom"','"middle"'),ght=Xb('"right"','"left"','"center"'),bht=`datum.vgrad && ${N_} ? (${ght}) : (${Kb} && !(datum.vgrad && ${P_})) ? "left" : ${A_}`,mht=`item._anchor || (${Kb} ? "middle" : "start")`,vht=`${hht} ? (${P_} ? -90 : 90) : 0`,yht=`${Kb} ? (datum.vgrad ? (${N_} ? "bottom" : "top") : ${pht}) : "top"`;function xht(t,e,r,n){const o=Rr(t,e),i={enter:{opacity:At},update:{opacity:on,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:At}};return Me(i,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:mht},angle:{signal:vht},align:{signal:bht},baseline:{signal:yht},text:t.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),Xr({type:Uc,role:Fdt,style:S_,from:n,encode:i},r)}function wht(t,e){let r;return tt(t)&&(t.signal?r=t.signal:t.path?r="pathShape("+rN(t.path)+")":t.sphere&&(r="geoShape("+rN(t.sphere)+', {type: "Sphere"})')),r?e.signalRef(r):!!t}function rN(t){return tt(t)&&t.signal?t.signal:V(t)}function k6(t){const e=t.role||"";return!e.indexOf("axis")||!e.indexOf("legend")||!e.indexOf("title")?e:t.type===Vb?k_:e||x_}function kht(t){return{marktype:t.type,name:t.name||void 0,role:t.role||k6(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function _ht(t,e){return t&&t.signal?e.signalRef(t.signal):t!==!1}function D_(t,e){const r=lM(t.type);r||R("Unrecognized transform type: "+V(t.type));const n=Hb(r.type.toLowerCase(),null,_6(r,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(n)),n.metadata=r.metadata||{},n}function _6(t,e,r){const n={},o=t.params.length;for(let i=0;i<o;++i){const a=t.params[i];n[a.name]=Oht(a,e,r)}return n}function Oht(t,e,r){const n=t.type,o=e[t.name];if(n==="index")return Eht(t,e,r);if(o===void 0){t.required&&R("Missing required "+V(e.type)+" parameter: "+V(t.name));return}else{if(n==="param")return Sht(t,e,r);if(n==="projection")return r.projectionRef(e[t.name])}return t.array&&!pe(o)?o.map(i=>nN(t,i,r)):nN(t,o,r)}function nN(t,e,r){const n=t.type;if(pe(e))return iN(n)?R("Expression references can not be signals."):Zv(n)?r.fieldRef(e):aN(n)?r.compareRef(e):r.signalRef(e.signal);{const o=t.expr||Zv(n);return o&&$ht(e)?r.exprRef(e.expr,e.as):o&&Cht(e)?Ed(e.field,e.as):iN(n)?xo(e,r):Aht(n)?ct(r.getData(e).values):Zv(n)?Ed(e):aN(n)?r.compareRef(e):e}}function Eht(t,e,r){return J(e.from)||R('Lookup "from" parameter must be a string literal.'),r.getData(e.from).lookupRef(r,e.key)}function Sht(t,e,r){const n=e[t.name];return t.array?(L(n)||R("Expected an array of sub-parameters. Instead: "+V(n)),n.map(o=>oN(t,o,r))):oN(t,n,r)}function oN(t,e,r){const n=t.params.length;let o;for(let a=0;a<n;++a){o=t.params[a];for(const c in o.key)if(o.key[c]!==e[c]){o=null;break}if(o)break}o||R("Unsupported parameter: "+V(e));const i=bt(_6(o,e,r),o.key);return ct(r.add(_ft(i)))}const $ht=t=>t&&t.expr,Cht=t=>t&&t.field,Aht=t=>t==="data",iN=t=>t==="expr",Zv=t=>t==="field",aN=t=>t==="compare";function Pht(t,e,r){let n,o,i,a,c;return t?(n=t.facet)&&(e||R("Only group marks can be faceted."),n.field!=null?a=c=Hh(n,r):(t.data?c=ct(r.getData(t.data).aggregate):(i=D_(bt({type:"aggregate",groupby:Z(n.groupby)},n.aggregate),r),i.params.key=r.keyRef(n.groupby),i.params.pulse=Hh(n,r),a=c=ct(r.add(i))),o=r.keyRef(n.groupby,!0))):a=ct(r.add(Un(null,[{}]))),a||(a=Hh(t,r)),{key:o,pulse:a,parent:c}}function Hh(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:ct(e.getData(t.data).output)}function kc(t,e,r,n,o){this.scope=t,this.input=e,this.output=r,this.values=n,this.aggregate=o,this.index={}}kc.fromEntries=function(t,e){const r=e.length,n=e[r-1],o=e[r-2];let i=e[0],a=null,c=1;for(i&&i.type==="load"&&(i=e[1]),t.add(e[0]);c<r;++c)e[c].params.pulse=ct(e[c-1]),t.add(e[c]),e[c].type==="aggregate"&&(a=e[c]);return new kc(t,i,o,n,a)};function O6(t){return J(t)?t:null}function cN(t,e,r){const n=Gb(r.op,r.field);let o;if(e.ops){for(let i=0,a=e.as.length;i<a;++i)if(e.as[i]===n)return}else e.ops=["count"],e.fields=[null],e.as=["count"];r.op&&(e.ops.push((o=r.op.signal)?t.signalRef(o):r.op),e.fields.push(t.fieldRef(r.field)),e.as.push(n))}function ll(t,e,r,n,o,i,a){const c=e[r]||(e[r]={}),u=Zdt(i);let s=O6(o),l,d;if(s!=null&&(t=e.scope,s=s+(u?"|"+u:""),l=c[s]),!l){const f=i?{field:a1,pulse:e.countsRef(t,o,i)}:{field:t.fieldRef(o),pulse:ct(e.output)};u&&(f.sort=t.sortRef(i)),d=t.add(Hb(n,void 0,f)),a&&(e.index[o]=d),l=ct(d),s!=null&&(c[s]=l)}return l}kc.prototype={countsRef(t,e,r){const n=this,o=n.counts||(n.counts={}),i=O6(e);let a,c,u;return i!=null&&(t=n.scope,a=o[i]),a?r&&r.field&&cN(t,a.agg.params,r):(u={groupby:t.fieldRef(e,"key"),pulse:ct(n.output)},r&&r.field&&cN(t,u,r),c=t.add(u6(u)),a=t.add(Un({pulse:ct(c)})),a={agg:c,ref:ct(a)},i!=null&&(o[i]=a)),a.ref},tuplesRef(){return ct(this.values)},extentRef(t,e){return ll(t,this,"extent","extent",e,!1)},domainRef(t,e){return ll(t,this,"domain","values",e,!1)},valuesRef(t,e,r){return ll(t,this,"vals","values",e,r||!0)},lookupRef(t,e){return ll(t,this,"lookup","tupleindex",e,!1)},indataRef(t,e){return ll(t,this,"indata","tupleindex",e,!0,!0)}};function Nht(t,e,r){const n=t.from.facet,o=n.name,i=Hh(n,e);let a;n.name||R("Facet must have a name: "+V(n)),n.data||R("Facet must reference a data set: "+V(n)),n.field?a=e.add(d6({field:e.fieldRef(n.field),pulse:i})):n.groupby?a=e.add(pft({key:e.keyRef(n.groupby),group:ct(e.proxy(r.parent)),pulse:i})):R("Facet must specify groupby or field: "+V(n));const c=e.fork(),u=c.add(Un()),s=c.add(Bc({pulse:ct(u)}));c.addData(o,new kc(c,u,u,s)),c.addSignal("parent",null),a.params.subflow={$subflow:c.parse(t).toRuntime()}}function Dht(t,e,r){const n=e.add(d6({pulse:r.pulse})),o=e.fork();o.add(Bc()),o.addSignal("parent",null),n.params.subflow={$subflow:o.parse(t).toRuntime()}}function E6(t,e,r){const n=t.remove,o=t.insert,i=t.toggle,a=t.modify,c=t.values,u=e.add(vg()),s="if("+t.trigger+',modify("'+r+'",'+[o,n,i,a,c].map(d=>d??"null").join(",")+"),0)",l=xo(s,e);u.update=l.$expr,u.params=l.$params}function Qb(t,e){const r=k6(t),n=t.type===Vb,o=t.from&&t.from.facet,i=t.overlap;let a=t.layout||r===k_||r===w_,c,u,s,l,d,f,h;const p=r===x_||a||o,g=Pht(t.from,n,e);u=e.add(fft({key:g.key||(t.key?Ed(t.key):void 0),pulse:g.pulse,clean:!n}));const b=ct(u);u=s=e.add(Un({pulse:b})),u=e.add(yft({markdef:kht(t),interactive:_ht(t.interactive,e),clip:wht(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:ct(u)}));const m=ct(u);u=l=e.add(l6(a6(t.encode,t.type,r,t.style,e,{mod:!1,pulse:m}))),u.params.parent=e.encode(),t.transform&&t.transform.forEach(_=>{const w=D_(_,e),O=w.metadata;(O.generates||O.changes)&&R("Mark transforms should not generate new data."),O.nomod||(l.params.mod=!0),w.params.pulse=ct(u),e.add(u=w)}),t.sort&&(u=e.add(Cft({sort:e.compareRef(t.sort),pulse:ct(u)})));const v=ct(u);(o||a)&&(a=e.add(h6({layout:e.objectProperty(t.layout),legends:e.legends,mark:m,pulse:v})),f=ct(a));const y=e.add(s6({mark:m,pulse:f||v}));h=ct(y),n&&(p&&(c=e.operators,c.pop(),a&&c.pop()),e.pushState(v,f||h,b),o?Nht(t,e,g):p?Dht(t,e,g):e.parse(t),e.popState(),p&&(a&&c.push(a),c.push(y))),i&&(h=jht(i,h,e));const x=e.add(f6({pulse:h})),k=e.add(Bc({pulse:ct(x)},void 0,e.parent()));t.name!=null&&(d=t.name,e.addData(d,new kc(e,s,x,k)),t.on&&t.on.forEach(_=>{(_.insert||_.remove||_.toggle)&&R("Marks only support modify triggers."),E6(_,e,d)}))}function jht(t,e,r){const n=t.method,o=t.bound,i=t.separation,a={separation:pe(i)?r.signalRef(i.signal):i,method:pe(n)?r.signalRef(n.signal):n,pulse:e};if(t.order&&(a.sort=r.compareRef({field:t.order})),o){const c=o.tolerance;a.boundTolerance=pe(c)?r.signalRef(c.signal):+c,a.boundScale=r.scaleRef(o.scale),a.boundOrient=o.orient}return ct(r.add(kft(a)))}function Tht(t,e){const r=e.config.legend,n=t.encode||{},o=Rr(t,r),i=n.legend||{},a=i.name||void 0,c=i.interactive,u=i.style,s={};let l=0,d,f,h;$_.forEach(y=>t[y]?(s[y]=t[y],l=l||t[y]):0),l||R("Missing valid scale for legend.");const p=Mht(t,e.scaleType(l)),g={title:t.title!=null,scales:s,type:p,vgrad:p!=="symbol"&&o.isVertical()},b=ct(e.add(Un(null,[g]))),m={enter:{x:{value:0},y:{value:0}}},v=ct(e.add(mft(f={type:p,scale:e.scaleRef(l),count:e.objectProperty(o("tickCount")),limit:e.property(o("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return p===Wh?(h=[cht(t,l,r,n.gradient),eN(t,r,n.labels,v)],f.count=f.count||e.signalRef(`max(2,2*floor((${cc(o.gradientLength())})/100))`)):p===l1?h=[uht(t,l,r,n.gradient,v),eN(t,r,n.labels,v)]:(d=fht(t,r),h=[dht(t,r,n,v,cc(d.columns))],f.size=Rht(t,e,h[0].marks)),h=[$d({role:jdt,from:b,encode:m,marks:h,layout:d,interactive:c})],g.title&&h.push(xht(t,r,n.title,b)),Qb($d({role:Ndt,from:b,encode:Ps(zht(o,t,r),i,mf),marks:h,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:a,interactive:c,style:u}),e)}function Mht(t,e){let r=t.type||tN;return!t.type&&Fht(t)===1&&(t.fill||t.stroke)&&(r=Cw(e)?Wh:ry(e)?l1:tN),r!==Wh?r:ry(e)?l1:Wh}function Fht(t){return $_.reduce((e,r)=>e+(t[r]?1:0),0)}function zht(t,e,r){const n={enter:{},update:{}};return Me(n,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:r.strokeWidth,strokeDash:r.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),n}function Rht(t,e,r){const n=cc(uN("size",t,r)),o=cc(uN("strokeWidth",t,r)),i=cc(Lht(r[1].encode,e,bf));return xo(`max(ceil(sqrt(${n})+${o}),${i})`,e)}function uN(t,e,r){return e[t]?`scale("${e[t]}",datum)`:x6(t,r[0].encode)}function Lht(t,e,r){return x6("fontSize",t)||iht("fontSize",e,r)}const Iht=`item.orient==="${Ns}"?-90:item.orient==="${Ds}"?90:0`;function Bht(t,e){t=J(t)?{text:t}:t;const r=Rr(t,e.config.title),n=t.encode||{},o=n.group||{},i=o.name||void 0,a=o.interactive,c=o.style,u=[],s={},l=ct(e.add(Un(null,[s])));return u.push(Wht(t,r,Uht(t),l)),t.subtitle&&u.push(Hht(t,r,n.subtitle,l)),Qb($d({role:zdt,from:l,encode:qht(r,o),marks:u,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:i,interactive:a,style:c}),e)}function Uht(t){const e=t.encode;return e&&e.title||bt({name:t.name,interactive:t.interactive,style:t.style},e)}function qht(t,e){const r={enter:{},update:{}};return Me(r,{orient:t("orient"),anchor:t("anchor"),align:{signal:A_},angle:{signal:Iht},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),Ps(r,e,mf)}function Wht(t,e,r,n){const o={value:0},i=t.text,a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return Me(a,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),Xr({type:Uc,role:Rdt,style:Kft,from:n,encode:a},r)}function Hht(t,e,r,n){const o={value:0},i=t.subtitle,a={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return Me(a,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),Xr({type:Uc,role:Ldt,style:Qft,from:n,encode:a},r)}function Ght(t,e){const r=[];t.transform&&t.transform.forEach(n=>{r.push(D_(n,e))}),t.on&&t.on.forEach(n=>{E6(n,e,t.name)}),e.addDataPipeline(t.name,Yht(t,e,r))}function Yht(t,e,r){const n=[];let o=null,i=!1,a=!1,c,u,s,l,d;for(t.values?pe(t.values)||Uh(t.format)?(n.push(sN(e,t)),n.push(o=Da())):n.push(o=Da({$ingest:t.values,$format:t.format})):t.url?Uh(t.url)||Uh(t.format)?(n.push(sN(e,t)),n.push(o=Da())):n.push(o=Da({$request:t.url,$format:t.format})):t.source&&(o=c=Z(t.source).map(f=>ct(e.getData(f).output)),n.push(null)),u=0,s=r.length;u<s;++u)l=r[u],d=l.metadata,!o&&!d.source&&n.push(o=Da()),n.push(l),d.generates&&(a=!0),d.modifies&&!a&&(i=!0),d.source?o=l:d.changes&&(o=null);return c&&(s=c.length-1,n[0]=Sft({derive:i,pulse:s?c:c[0]}),(i||s)&&n.splice(1,0,Da())),o||n.push(Da()),n.push(Bc({})),n}function Da(t){const e=Un({},t);return e.metadata={source:!0},e}function sN(t,e){return vft({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}const S6=t=>t===ia||t===qn,Jb=(t,e,r)=>pe(t)?Qht(t.signal,e,r):t===Ns||t===qn?e:r,_e=(t,e,r)=>pe(t)?Xht(t.signal,e,r):S6(t)?e:r,jn=(t,e,r)=>pe(t)?Kht(t.signal,e,r):S6(t)?r:e,$6=(t,e,r)=>pe(t)?Jht(t.signal,e,r):t===qn?{value:e}:{value:r},Vht=(t,e,r)=>pe(t)?Zht(t.signal,e,r):t===Ds?{value:e}:{value:r},Xht=(t,e,r)=>C6(`${t} === '${qn}' || ${t} === '${ia}'`,e,r),Kht=(t,e,r)=>C6(`${t} !== '${qn}' && ${t} !== '${ia}'`,e,r),Qht=(t,e,r)=>j_(`${t} === '${Ns}' || ${t} === '${qn}'`,e,r),Jht=(t,e,r)=>j_(`${t} === '${qn}'`,e,r),Zht=(t,e,r)=>j_(`${t} === '${Ds}'`,e,r),C6=(t,e,r)=>(e=e!=null?ke(e):e,r=r!=null?ke(r):r,lN(e)&&lN(r)?(e=e?e.signal||V(e.value):null,r=r?r.signal||V(r.value):null,{signal:`${t} ? (${e}) : (${r})`}):[bt({test:t},e)].concat(r||[])),lN=t=>t==null||Object.keys(t).length===1,j_=(t,e,r)=>({signal:`${t} ? (${ku(e)}) : (${ku(r)})`}),tpt=(t,e,r,n,o)=>({signal:(n!=null?`${t} === '${Ns}' ? (${ku(n)}) : `:"")+(r!=null?`${t} === '${ia}' ? (${ku(r)}) : `:"")+(o!=null?`${t} === '${Ds}' ? (${ku(o)}) : `:"")+(e!=null?`${t} === '${qn}' ? (${ku(e)}) : `:"")+"(null)"}),ku=t=>pe(t)?t.signal:t==null?null:V(t),ept=(t,e)=>e===0?0:pe(t)?{signal:`(${t.signal}) * ${e}`}:{value:t*e},Cu=(t,e)=>{const r=t.signal;return r&&r.endsWith("(null)")?{signal:r.slice(0,-6)+e.signal}:t};function uu(t,e,r,n){let o;if(e&&lt(e,t))return e[t];if(lt(r,t))return r[t];if(t.startsWith("title")){switch(t){case"titleColor":o="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":o=t[5].toLowerCase()+t.slice(6)}return n[S_][o]}else if(t.startsWith("label")){switch(t){case"labelColor":o="fill";break;case"labelFont":case"labelFontSize":o=t[5].toLowerCase()+t.slice(6)}return n[bf][o]}return null}function dN(t){const e={};for(const r of t)if(r)for(const n in r)e[n]=1;return Object.keys(e)}function rpt(t,e){var r=e.config,n=r.style,o=r.axis,i=e.scaleType(t.scale)==="band"&&r.axisBand,a=t.orient,c,u,s;if(pe(a)){const d=dN([r.axisX,r.axisY]),f=dN([r.axisTop,r.axisBottom,r.axisLeft,r.axisRight]);c={};for(s of d)c[s]=_e(a,uu(s,r.axisX,o,n),uu(s,r.axisY,o,n));u={};for(s of f)u[s]=tpt(a.signal,uu(s,r.axisTop,o,n),uu(s,r.axisBottom,o,n),uu(s,r.axisLeft,o,n),uu(s,r.axisRight,o,n))}else c=a===qn||a===ia?r.axisX:r.axisY,u=r["axis"+a[0].toUpperCase()+a.slice(1)];return c||u||i?bt({},o,c,u,i):o}function npt(t,e,r,n){const o=Rr(t,e),i=t.orient;let a,c;const u={enter:a={opacity:At},update:c={opacity:on},exit:{opacity:At}};Me(u,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});const s=fN(t,0),l=fN(t,1);return a.x=c.x=_e(i,s,At),a.x2=c.x2=_e(i,l),a.y=c.y=jn(i,s,At),a.y2=c.y2=jn(i,l),Xr({type:C_,role:Sdt,from:n,encode:u},r)}function fN(t,e){return{scale:t.scale,range:e}}function opt(t,e,r,n,o){const i=Rr(t,e),a=t.orient,c=t.gridScale,u=Jb(a,1,-1),s=ipt(t.offset,u);let l,d,f;const h={enter:l={opacity:At},update:f={opacity:on},exit:d={opacity:At}};Me(h,{stroke:i("gridColor"),strokeCap:i("gridCap"),strokeDash:i("gridDash"),strokeDashOffset:i("gridDashOffset"),strokeOpacity:i("gridOpacity"),strokeWidth:i("gridWidth")});const p={scale:t.scale,field:nn,band:o.band,extra:o.extra,offset:o.offset,round:i("tickRound")},g=_e(a,{signal:"height"},{signal:"width"}),b=c?{scale:c,range:0,mult:u,offset:s}:{value:0,offset:s},m=c?{scale:c,range:1,mult:u,offset:s}:bt(g,{mult:u,offset:s});return l.x=f.x=_e(a,p,b),l.y=f.y=jn(a,p,b),l.x2=f.x2=jn(a,m),l.y2=f.y2=_e(a,m),d.x=_e(a,p),d.y=jn(a,p),Xr({type:C_,role:$dt,key:nn,from:n,encode:h},r)}function ipt(t,e){if(e!==1)if(!tt(t))t=pe(e)?{signal:`(${e.signal}) * (${t||0})`}:e*(t||0);else{let r=t=bt({},t);for(;r.mult!=null;)if(tt(r.mult))r=r.mult=bt({},r.mult);else return r.mult=pe(e)?{signal:`(${r.mult}) * (${e.signal})`}:r.mult*e,t;r.mult=e}return t}function apt(t,e,r,n,o,i){const a=Rr(t,e),c=t.orient,u=Jb(c,-1,1);let s,l,d;const f={enter:s={opacity:At},update:d={opacity:on},exit:l={opacity:At}};Me(f,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const h=ke(o);h.mult=u;const p={scale:t.scale,field:nn,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")};return d.y=s.y=_e(c,At,p),d.y2=s.y2=_e(c,h),l.x=_e(c,p),d.x=s.x=jn(c,At,p),d.x2=s.x2=jn(c,h),l.y=jn(c,p),Xr({type:C_,role:Adt,key:nn,from:n,encode:f},r)}function t0(t,e,r,n,o){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+r+","+n+","+o+")"}}function cpt(t,e,r,n,o,i){const a=Rr(t,e),c=t.orient,u=t.scale,s=Jb(c,-1,1),l=cc(a("labelFlush")),d=cc(a("labelFlushOffset")),f=a("labelAlign"),h=a("labelBaseline");let p=l===0||!!l,g;const b=ke(o);b.mult=s,b.offset=ke(a("labelPadding")||0),b.offset.mult=s;const m={scale:u,field:nn,band:.5,offset:w6(i.offset,a("labelOffset"))},v=_e(c,p?t0(u,l,'"left"','"right"','"center"'):{value:"center"},Vht(c,"left","right")),y=_e(c,$6(c,"bottom","top"),p?t0(u,l,'"top"','"bottom"','"middle"'):{value:"middle"}),x=t0(u,l,`-(${d})`,d,0);p=p&&d;const k={opacity:At,x:_e(c,m,b),y:jn(c,m,b)},_={enter:k,update:g={opacity:on,text:{field:E_},x:k.x,y:k.y,align:v,baseline:y},exit:{opacity:At,x:k.x,y:k.y}};Me(_,{dx:!f&&p?_e(c,x):null,dy:!h&&p?jn(c,x):null}),Me(_,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:f,baseline:h});const w=a("labelBound");let O=a("labelOverlap");return O=O||w?{separation:a("labelSeparation"),method:O,order:"datum.index",bound:w?{scale:u,orient:c,tolerance:w}:null}:void 0,g.align!==v&&(g.align=Cu(g.align,v)),g.baseline!==y&&(g.baseline=Cu(g.baseline,y)),Xr({type:Uc,role:Cdt,style:bf,key:nn,from:n,encode:_,overlap:O},r)}function upt(t,e,r,n){const o=Rr(t,e),i=t.orient,a=Jb(i,-1,1);let c,u;const s={enter:c={opacity:At,anchor:ke(o("titleAnchor",null)),align:{signal:A_}},update:u=bt({},c,{opacity:on,text:ke(t.title)}),exit:{opacity:At}},l={signal:`lerp(range("${t.scale}"), ${Xb(0,1,.5)})`};return u.x=_e(i,l),u.y=jn(i,l),c.angle=_e(i,At,ept(a,90)),c.baseline=_e(i,$6(i,ia,qn),{value:ia}),u.angle=c.angle,u.baseline=c.baseline,Me(s,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),spt(o,i,s,r),s.update.align=Cu(s.update.align,c.align),s.update.angle=Cu(s.update.angle,c.angle),s.update.baseline=Cu(s.update.baseline,c.baseline),Xr({type:Uc,role:Pdt,style:S_,from:n,encode:s},r)}function spt(t,e,r,n){const o=(c,u)=>c!=null?(r.update[u]=Cu(ke(c),r.update[u]),!1):!gu(u,n),i=o(t("titleX"),"x"),a=o(t("titleY"),"y");r.enter.auto=a===i?ke(a):_e(e,ke(a),ke(i))}function lpt(t,e){const r=rpt(t,e),n=t.encode||{},o=n.axis||{},i=o.name||void 0,a=o.interactive,c=o.style,u=Rr(t,r),s=aht(u),l={scale:t.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:t.title!=null},d=ct(e.add(Un({},[l]))),f=ct(e.add(dft({scale:e.scaleRef(t.scale),extra:e.property(s.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),h=[];let p;return l.grid&&h.push(opt(t,r,n.grid,f,s)),l.ticks&&(p=u("tickSize"),h.push(apt(t,r,n.ticks,f,p,s))),l.labels&&(p=l.ticks?p:0,h.push(cpt(t,r,n.labels,f,p,s))),l.domain&&h.push(npt(t,r,n.domain,d)),l.title&&h.push(upt(t,r,n.title,d)),Qb($d({role:Edt,from:d,encode:Ps(dpt(u,t),o,mf),marks:h,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:i,interactive:a,style:c}),e)}function dpt(t,e){const r={enter:{},update:{}};return Me(r,{orient:t("orient"),offset:t("offset")||0,position:xn(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:`abs(span(range("${e.scale}")))`},translate:t("translate"),format:e.format,formatType:e.formatType}),r}function A6(t,e,r){const n=Z(t.signals),o=Z(t.scales);return r||n.forEach(i=>c6(i,e)),Z(t.projections).forEach(i=>qft(i,e)),o.forEach(i=>Nft(i,e)),Z(t.data).forEach(i=>Ght(i,e)),o.forEach(i=>Dft(i,e)),(r||n).forEach(i=>lft(i,e)),Z(t.axes).forEach(i=>lpt(i,e)),Z(t.marks).forEach(i=>Qb(i,e)),Z(t.legends).forEach(i=>Tht(i,e)),t.title&&Bht(t.title,e),e.parseLambdas(),e}const fpt=t=>Ps({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t);function hpt(t,e){const r=e.config,n=ct(e.root=e.add(vg())),o=ppt(t,r);o.forEach(s=>c6(s,e)),e.description=t.description||r.description,e.eventConfig=r.events,e.legends=e.objectProperty(r.legend&&r.legend.layout),e.locale=r.locale;const i=e.add(Un()),a=e.add(l6(a6(fpt(t.encode),Vb,w_,t.style,e,{pulse:ct(i)}))),c=e.add(h6({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:n,pulse:ct(a)}));e.operators.pop(),e.pushState(ct(a),ct(c),null),A6(t,e,o),e.operators.push(c);let u=e.add(s6({mark:n,pulse:ct(c)}));return u=e.add(f6({pulse:ct(u)})),u=e.add(Bc({pulse:ct(u)})),e.addData("root",new kc(e,i,i,u)),e}function dl(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function ppt(t,e){const r=a=>xn(t[a],e[a]),n=[dl("background",r("background")),dl("autosize",kdt(r("autosize"))),dl("padding",Odt(r("padding"))),dl("width",r("width")||0),dl("height",r("height")||0)],o=n.reduce((a,c)=>(a[c.name]=c,a),{}),i={};return Z(t.signals).forEach(a=>{lt(o,a.name)?a=bt(o[a.name],a):n.push(a),i[a.name]=a}),Z(e.signals).forEach(a=>{!lt(i,a.name)&&!lt(o,a.name)&&n.push(a)}),n}function P6(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function hN(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}P6.prototype=hN.prototype={parse(t){return A6(t,this)},fork(){return new hN(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(e=>{e.$ref=t.id}),t.refs=null),t},proxy(t){const e=t instanceof i1?ct(t):t;return this.add(Eft({value:e}))},addStream(t){return this.streams.push(t),t.id=this.id(),t},addUpdate(t){return this.updates.push(t),t},finish(){let t,e;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function r(n,o,i){let a,c;n&&(a=n.data||(n.data={}),c=a[o]||(a[o]=[]),c.push(i))}for(t in this.data){e=this.data[t],r(e.input,t,"input"),r(e.output,t,"output"),r(e.values,t,"values");for(const n in e.index)r(e.index[n],t,"index:"+n)}return this},pushState(t,e,r){this._encode.push(ct(this.add(Bc({pulse:t})))),this._parent.push(e),this._lookup.push(r?ct(this.proxy(r)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return $t(this._parent)},encode(){return $t(this._encode)},lookup(){return $t(this._lookup)},markpath(){const t=this._markpath;return++t[t.length-1]},fieldRef(t,e){if(J(t))return Ed(t,e);t.signal||R("Unsupported field reference: "+V(t));const r=t.signal;let n=this.field[r];if(!n){const o={name:this.signalRef(r)};e&&(o.as=e),this.field[r]=n=ct(this.add(gft(o)))}return n},compareRef(t){let e=!1;const r=i=>pe(i)?(e=!0,this.signalRef(i.signal)):tft(i)?(e=!0,this.exprRef(i.expr)):i,n=Z(t.field).map(r),o=Z(t.order).map(r);return e?ct(this.add(ZP({fields:n,orders:o}))):QP(n,o)},keyRef(t,e){let r=!1;const n=i=>pe(i)?(r=!0,ct(o[i.signal])):i,o=this.signals;return t=Z(t).map(n),r?ct(this.add(bft({fields:t,flat:e}))):Kdt(t,e)},sortRef(t){if(!t)return t;const e=Gb(t.op,t.field),r=t.order||Qdt;return r.signal?ct(this.add(ZP({fields:e,orders:this.signalRef(r.signal)}))):QP(e,r)},event(t,e){const r=t+":"+e;if(!this.events[r]){const n=this.id();this.streams.push({id:n,source:t,type:e}),this.events[r]=n}return this.events[r]},hasOwnSignal(t){return lt(this.signals,t)},addSignal(t,e){this.hasOwnSignal(t)&&R("Duplicate signal name: "+V(t));const r=e instanceof i1?e:this.add(vg(e));return this.signals[t]=r},getSignal(t){return this.signals[t]||R("Unrecognized signal name: "+V(t)),this.signals[t]},signalRef(t){return this.signals[t]?ct(this.signals[t]):(lt(this.lambdas,t)||(this.lambdas[t]=this.add(vg(null))),ct(this.lambdas[t]))},parseLambdas(){const t=Object.keys(this.lambdas);for(let e=0,r=t.length;e<r;++e){const n=t[e],o=xo(n,this),i=this.lambdas[n];i.params=o.$params,i.update=o.$expr}},property(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty(t){return!t||!tt(t)?t:this.signalRef(t.signal||T_(t))},exprRef(t,e){const r={expr:xo(t,this)};return e&&(r.expr.$name=e),ct(this.add(hft(r)))},addBinding(t,e){this.bindings||R("Nested signals do not support binding: "+V(t)),this.bindings.push(bt({signal:t},e))},addScaleProj(t,e){lt(this.scales,t)&&R("Duplicate scale or projection name: "+V(t)),this.scales[t]=this.add(e)},addScale(t,e){this.addScaleProj(t,$ft(e))},addProjection(t,e){this.addScaleProj(t,Oft(e))},getScale(t){return this.scales[t]||R("Unrecognized scale name: "+V(t)),this.scales[t]},scaleRef(t){return ct(this.getScale(t))},scaleType(t){return this.getScale(t).params.type},projectionRef(t){return this.scaleRef(t)},projectionType(t){return this.scaleType(t)},addData(t,e){return lt(this.data,t)&&R("Duplicate data set name: "+V(t)),this.data[t]=e},getData(t){return this.data[t]||R("Undefined data set name: "+V(t)),this.data[t]},addDataPipeline(t,e){return lt(this.data,t)&&R("Duplicate data set name: "+V(t)),this.addData(t,kc.fromEntries(this,e))}};function T_(t){return(L(t)?gpt:bpt)(t)}function gpt(t){const e=t.length;let r="[";for(let n=0;n<e;++n){const o=t[n];r+=(n>0?",":"")+(tt(o)?o.signal||T_(o):V(o))}return r+"]"}function bpt(t){let e="{",r=0,n,o;for(n in t)o=t[n],e+=(++r>1?",":"")+V(n)+":"+(tt(o)?o.signal||T_(o):V(o));return e+"}"}function mpt(){const t="sans-serif",n="#4c78a8",o="#000",i="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:n},area:{fill:n},image:null,line:{stroke:n,strokeWidth:2},path:{stroke:n},rect:{fill:n},rule:{stroke:o},shape:{stroke:n},symbol:{fill:n,size:64},text:{fill:o,font:t,fontSize:11},trail:{fill:n,size:2},style:{"guide-label":{fill:o,font:t,fontSize:10},"guide-title":{fill:o,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:o,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:o,font:t,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:i,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:i,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:i,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function vpt(t,e,r){return tt(t)||R("Input Vega specification must be an object."),e=vs(mpt(),e,t.config),hpt(t,new P6(e,r)).toRuntime()}var ypt="5.25.0";bt(Iu,yK,Bet,yrt,iot,Zot,Sat,iat,Cat,Qat,cct,pct);var xpt=Object.freeze({__proto__:null,Bounds:se,CanvasHandler:cf,CanvasRenderer:Np,DATE:Dr,DAY:We,DAYOFYEAR:vo,Dataflow:Ou,Debug:Dj,Error:U1,EventStream:Zg,Gradient:S3,GroupItem:kb,HOURS:Gr,Handler:na,Info:Nj,Item:wb,MILLISECONDS:zn,MINUTES:Yr,MONTH:Xe,Marks:Vr,MultiPulse:hx,None:Pj,Operator:Ht,Parameters:Jg,Pulse:Wi,QUARTER:Nr,RenderType:Fi,Renderer:$o,ResourceLoader:zw,SECONDS:cn,SVGHandler:ek,SVGRenderer:ck,SVGStringRenderer:uk,Scenegraph:Zw,TIME_UNITS:nx,Transform:M,View:V5,WEEK:fe,Warn:q1,YEAR:je,accessor:zr,accessorFields:Ve,accessorName:ae,array:Z,ascending:Bg,bandwidthNRD:mx,bin:hM,bootstrapCI:pM,boundClip:xz,boundContext:rf,boundItem:sy,boundMark:H3,boundStroke:di,changeset:zc,clampRange:qj,codegenExpression:k5,compare:V1,constant:tr,cumulativeLogNormal:_x,cumulativeNormal:eb,cumulativeUniform:$x,dayofyear:xT,debounce:X1,defaultLocale:ux,definition:lM,densityLogNormal:kx,densityNormal:vx,densityUniform:Sx,domChild:kr,domClear:On,domCreate:Ti,domFind:tk,dotbin:gM,error:R,expressionFunction:le,extend:bt,extent:go,extentIndex:Wj,falsy:_i,fastmap:xs,field:Pr,flush:Hj,font:$b,fontFamily:af,fontSize:So,format:_h,formatLocale:dp,formats:dx,hasOwnProperty:lt,id:Ld,identity:Ze,inferType:ZT,inferTypes:tM,ingest:Ft,inherits:X,inrange:mu,interpolate:Aw,interpolateColors:yb,interpolateRange:f3,intersect:bz,intersectBoxLine:vu,intersectPath:Rw,intersectPoint:Lw,intersectRule:T3,isArray:L,isBoolean:fa,isDate:Ui,isFunction:mt,isIterable:Gj,isNumber:Bt,isObject:tt,isRegExp:Yj,isString:J,isTuple:Kg,key:K1,lerp:Vj,lineHeight:ea,loader:Vg,locale:QT,logger:W1,lruCache:Xj,markup:ak,merge:Kj,mergeConfig:vs,multiLineOffset:Kw,one:ms,pad:Qj,panLinear:zj,panLog:Rj,panPow:Lj,panSymlog:Ij,parse:vpt,parseExpression:c_,parseSelector:va,path:ab,pathCurves:Tw,pathEqual:wz,pathParse:Gu,pathRectangle:A3,pathRender:hd,pathSymbols:C3,pathTrail:P3,peek:$t,point:Ab,projection:$k,quantileLogNormal:Ox,quantileNormal:rb,quantileUniform:Cx,quantiles:gx,quantizeInterpolator:h3,quarter:Bj,quartiles:bx,get random(){return un},randomInteger:_X,randomKDE:xx,randomLCG:kX,randomLogNormal:mM,randomMixture:vM,randomNormal:yx,randomUniform:yM,read:nM,regressionConstant:Ax,regressionExp:wM,regressionLinear:Px,regressionLoess:OM,regressionLog:xM,regressionPoly:_M,regressionPow:kM,regressionQuad:Nx,renderModule:Pb,repeat:yl,resetDefaultLocale:yV,resetSVGClipId:D3,resetSVGDefIds:net,responseType:rM,runtimeContext:M5,sampleCurve:ob,sampleLogNormal:wx,sampleNormal:tb,sampleUniform:Ex,scale:jt,sceneEqual:sk,sceneFromJSON:Y3,scenePickVisit:Ep,sceneToJSON:G3,sceneVisit:Rn,sceneZOrder:Iw,scheme:Pw,serializeXML:uz,setRandom:xX,span:Id,splitAccessPath:Oo,stringValue:V,textMetrics:Dn,timeBin:zT,timeFloor:$T,timeFormatLocale:cd,timeInterval:_s,timeOffset:PT,timeSequence:jT,timeUnitSpecifier:yT,timeUnits:ox,toBoolean:Q1,toDate:J1,toNumber:He,toSet:Fn,toString:Z1,transform:dM,transforms:Iu,truncate:Jj,truthy:an,tupleid:ut,typeParsers:W0,utcFloor:CT,utcInterval:Os,utcOffset:NT,utcSequence:TT,utcdayofyear:_T,utcquarter:Uj,utcweek:OT,version:ypt,visitArray:Si,week:wT,writeConfig:ys,zero:Ni,zoomLinear:H1,zoomLog:G1,zoomPow:op,zoomSymlog:Y1});function wpt(t,e,r){let n;e.x2&&(e.x?(r&&t.x>t.x2&&(n=t.x,t.x=t.x2,t.x2=n),t.width=t.x2-t.x):t.x=t.x2-(t.width||0)),e.xc&&(t.x=t.xc-(t.width||0)/2),e.y2&&(e.y?(r&&t.y>t.y2&&(n=t.y,t.y=t.y2,t.y2=n),t.height=t.y2-t.y):t.y=t.y2-(t.height||0)),e.yc&&(t.y=t.yc-(t.height||0)/2)}var kpt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},_pt={"*":(t,e)=>t*e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,">":(t,e)=>t>e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">=":(t,e)=>t>=e,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,"===":(t,e)=>t===e,"!==":(t,e)=>t!==e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e},Opt={"+":t=>+t,"-":t=>-t,"~":t=>~t,"!":t=>!t};const Ept=Array.prototype.slice,ja=(t,e,r)=>{const n=r?r(e[0]):e[0];return n[t].apply(n,Ept.call(e,1))},Spt=(t,e,r,n,o,i,a)=>new Date(t,e||0,r??1,n||0,o||0,i||0,a||0);var $pt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(t,e,r)=>Math.max(e,Math.min(r,t)),now:Date.now,utc:Date.UTC,datetime:Spt,date:t=>new Date(t).getDate(),day:t=>new Date(t).getDay(),year:t=>new Date(t).getFullYear(),month:t=>new Date(t).getMonth(),hours:t=>new Date(t).getHours(),minutes:t=>new Date(t).getMinutes(),seconds:t=>new Date(t).getSeconds(),milliseconds:t=>new Date(t).getMilliseconds(),time:t=>new Date(t).getTime(),timezoneoffset:t=>new Date(t).getTimezoneOffset(),utcdate:t=>new Date(t).getUTCDate(),utcday:t=>new Date(t).getUTCDay(),utcyear:t=>new Date(t).getUTCFullYear(),utcmonth:t=>new Date(t).getUTCMonth(),utchours:t=>new Date(t).getUTCHours(),utcminutes:t=>new Date(t).getUTCMinutes(),utcseconds:t=>new Date(t).getUTCSeconds(),utcmilliseconds:t=>new Date(t).getUTCMilliseconds(),length:t=>t.length,join:function(){return ja("join",arguments)},indexof:function(){return ja("indexOf",arguments)},lastindexof:function(){return ja("lastIndexOf",arguments)},slice:function(){return ja("slice",arguments)},reverse:t=>t.slice().reverse(),parseFloat,parseInt,upper:t=>String(t).toUpperCase(),lower:t=>String(t).toLowerCase(),substring:function(){return ja("substring",arguments,String)},split:function(){return ja("split",arguments,String)},replace:function(){return ja("replace",arguments,String)},trim:t=>String(t).trim(),regexp:RegExp,test:(t,e)=>RegExp(t).test(e)};const Cpt=["view","item","group","xy","x","y"],f1=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&f1.add(setImmediate);const Apt={Literal:(t,e)=>e.value,Identifier:(t,e)=>{const r=e.name;return t.memberDepth>0?r:r==="datum"?t.datum:r==="event"?t.event:r==="item"?t.item:kpt[r]||t.params["$"+r]},MemberExpression:(t,e)=>{const r=!e.computed,n=t(e.object);r&&(t.memberDepth+=1);const o=t(e.property);if(r&&(t.memberDepth-=1),f1.has(n[o])){console.error(`Prevented interpretation of member "${o}" which could lead to insecure code execution`);return}return n[o]},CallExpression:(t,e)=>{const r=e.arguments;let n=e.callee.name;return n.startsWith("_")&&(n=n.slice(1)),n==="if"?t(r[0])?t(r[1]):t(r[2]):(t.fn[n]||$pt[n]).apply(t.fn,r.map(t))},ArrayExpression:(t,e)=>e.elements.map(t),BinaryExpression:(t,e)=>_pt[e.operator](t(e.left),t(e.right)),UnaryExpression:(t,e)=>Opt[e.operator](t(e.argument)),ConditionalExpression:(t,e)=>t(e.test)?t(e.consequent):t(e.alternate),LogicalExpression:(t,e)=>e.operator==="&&"?t(e.left)&&t(e.right):t(e.left)||t(e.right),ObjectExpression:(t,e)=>e.properties.reduce((r,n)=>{t.memberDepth+=1;const o=t(n.key);return t.memberDepth-=1,f1.has(t(n.value))?console.error(`Prevented interpretation of property "${o}" which could lead to insecure code execution`):r[o]=t(n.value),r},{})};function fl(t,e,r,n,o,i){const a=c=>Apt[c.type](a,c);return a.memberDepth=0,a.fn=Object.create(e),a.params=r,a.datum=n,a.event=o,a.item=i,Cpt.forEach(c=>a.fn[c]=function(){return o.vega[c](...arguments)}),a(t)}var Ppt={operator(t,e){const r=e.ast,n=t.functions;return o=>fl(r,n,o)},parameter(t,e){const r=e.ast,n=t.functions;return(o,i)=>fl(r,n,i,o)},event(t,e){const r=e.ast,n=t.functions;return o=>fl(r,n,void 0,void 0,o)},handler(t,e){const r=e.ast,n=t.functions;return(o,i)=>{const a=i.item&&i.item.datum;return fl(r,n,o,a,i)}},encode(t,e){const{marktype:r,channels:n}=e,o=t.functions,i=r==="group"||r==="image"||r==="rect";return(a,c)=>{const u=a.datum;let s=0,l;for(const d in n)l=fl(n[d].ast,o,c,u,void 0,a),a[d]!==l&&(a[d]=l,s=1);return r!=="rule"&&wpt(a,n,i),s}}},Npt="vega-lite",Dpt='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',jpt="5.14.1",Tpt=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],Mpt="https://vega.github.io/vega-lite/",Fpt="Vega-Lite is a concise high-level language for interactive visualization.",zpt=["vega","chart","visualization"],Rpt="build/vega-lite.js",Lpt="build/vega-lite.min.js",Ipt="build/vega-lite.min.js",Bpt="build/src/index",Upt="build/src/index.d.ts",qpt={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},Wpt=["bin","build","src","vega-lite*","tsconfig.json"],Hpt={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},Gpt={type:"git",url:"https://github.com/vega/vega-lite.git"},Ypt="BSD-3-Clause",Vpt={url:"https://github.com/vega/vega-lite/issues"},Xpt={"@babel/core":"^7.21.8","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.21.5","@babel/preset-typescript":"^7.21.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-terser":"^0.4.1","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^27.4.1","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.59.5","@typescript-eslint/parser":"^5.59.5",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^3.0.0",d3:"^7.8.4","del-cli":"^5.0.0",eslint:"^8.40.0","eslint-config-prettier":"^8.8.0","eslint-plugin-jest":"^27.2.1","eslint-plugin-prettier":"^4.2.1","highlight.js":"^11.8.0",jest:"^27.5.1","jest-dev-server":"^6.1.1",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^2.8.8",puppeteer:"^15.0.0","release-it":"^16.1.2",rollup:"^3.21.6","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.0",terser:"^5.17.3","ts-jest":"^29.1.0","ts-json-schema-generator":"^1.2.0",typescript:"~4.9.5","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.1","vega-tooltip":"^0.32.0","yaml-front-matter":"^4.1.1"},Kpt={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.5.0","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},Qpt={vega:"^5.24.0"},Jpt={node:">=16"},Zpt={name:Npt,author:Dpt,version:jpt,collaborators:Tpt,homepage:Mpt,description:Fpt,keywords:zpt,main:Rpt,unpkg:Lpt,jsdelivr:Ipt,module:Bpt,types:Upt,bin:qpt,files:Wpt,scripts:Hpt,repository:Gpt,license:Ypt,bugs:Vpt,devDependencies:Xpt,dependencies:Kpt,peerDependencies:Qpt,engines:Jpt},N6={exports:{}};(function(t){var e=function(){function r(f,h){return h!=null&&f instanceof h}var n;try{n=Map}catch{n=function(){}}var o;try{o=Set}catch{o=function(){}}var i;try{i=Promise}catch{i=function(){}}function a(f,h,p,g,b){typeof h=="object"&&(p=h.depth,g=h.prototype,b=h.includeNonEnumerable,h=h.circular);var m=[],v=[],y=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof p>"u"&&(p=1/0);function x(k,_){if(k===null)return null;if(_===0)return k;var w,O;if(typeof k!="object")return k;if(r(k,n))w=new n;else if(r(k,o))w=new o;else if(r(k,i))w=new i(function(D,F){k.then(function(I){D(x(I,_-1))},function(I){F(x(I,_-1))})});else if(a.__isArray(k))w=[];else if(a.__isRegExp(k))w=new RegExp(k.source,d(k)),k.lastIndex&&(w.lastIndex=k.lastIndex);else if(a.__isDate(k))w=new Date(k.getTime());else{if(y&&Buffer.isBuffer(k))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(k.length):w=new Buffer(k.length),k.copy(w),w;r(k,Error)?w=Object.create(k):typeof g>"u"?(O=Object.getPrototypeOf(k),w=Object.create(O)):(w=Object.create(g),O=g)}if(h){var C=m.indexOf(k);if(C!=-1)return v[C];m.push(k),v.push(w)}r(k,n)&&k.forEach(function(D,F){var I=x(F,_-1),rt=x(D,_-1);w.set(I,rt)}),r(k,o)&&k.forEach(function(D){var F=x(D,_-1);w.add(F)});for(var S in k){var A;O&&(A=Object.getOwnPropertyDescriptor(O,S)),!(A&&A.set==null)&&(w[S]=x(k[S],_-1))}if(Object.getOwnPropertySymbols)for(var T=Object.getOwnPropertySymbols(k),S=0;S<T.length;S++){var $=T[S],P=Object.getOwnPropertyDescriptor(k,$);P&&!P.enumerable&&!b||(w[$]=x(k[$],_-1),P.enumerable||Object.defineProperty(w,$,{enumerable:!1}))}if(b)for(var E=Object.getOwnPropertyNames(k),S=0;S<E.length;S++){var N=E[S],P=Object.getOwnPropertyDescriptor(k,N);P&&P.enumerable||(w[N]=x(k[N],_-1),Object.defineProperty(w,N,{enumerable:!1}))}return w}return x(f,p)}a.clonePrototype=function(h){if(h===null)return null;var p=function(){};return p.prototype=h,new p};function c(f){return Object.prototype.toString.call(f)}a.__objToStr=c;function u(f){return typeof f=="object"&&c(f)==="[object Date]"}a.__isDate=u;function s(f){return typeof f=="object"&&c(f)==="[object Array]"}a.__isArray=s;function l(f){return typeof f=="object"&&c(f)==="[object RegExp]"}a.__isRegExp=l;function d(f){var h="";return f.global&&(h+="g"),f.ignoreCase&&(h+="i"),f.multiline&&(h+="m"),h}return a.__getRegExpFlags=d,a}();t.exports&&(t.exports=e)})(N6);var tgt=N6.exports,egt=Rd(tgt),rgt=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var a=i[o];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},D6=Rd(rgt),ngt=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(i){return function(a){return function(c,u){var s={key:c,value:a[c]},l={key:u,value:a[u]};return i(s,l)}}}(e.cmp),o=[];return function i(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var c,u;if(Array.isArray(a)){for(u="[",c=0;c<a.length;c++)c&&(u+=","),u+=i(a[c])||"null";return u+"]"}if(a===null)return"null";if(o.indexOf(a)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(a)-1,l=Object.keys(a).sort(n&&n(a));for(u="",c=0;c<l.length;c++){var d=l[c],f=i(a[d]);f&&(u&&(u+=","),u+=JSON.stringify(d)+":"+f)}return o.splice(s,1),"{"+u+"}"}}(t)},M_=Rd(ngt);function F_(t){return!!t.or}function z_(t){return!!t.and}function R_(t){return!!t.not}function Gh(t,e){if(R_(t))Gh(t.not,e);else if(z_(t))for(const r of t.and)Gh(r,e);else if(F_(t))for(const r of t.or)Gh(r,e);else e(t)}function Au(t,e){return R_(t)?{not:Au(t.not,e)}:z_(t)?{and:t.and.map(r=>Au(r,e))}:F_(t)?{or:t.or.map(r=>Au(r,e))}:e(t)}const ao=D6,ht=egt;function j6(t){throw new Error(t)}function rs(t,e){const r={};for(const n of e)lt(t,n)&&(r[n]=t[n]);return r}function Sr(t,e){const r={...t};for(const n of e)delete r[n];return r}Set.prototype.toJSON=function(){return`Set(${[...this].map(t=>M_(t)).join(",")})`};const Vt=M_;function Ot(t){if(Bt(t))return t;const e=J(t)?t:M_(t);if(e.length<250)return e;let r=0;for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);r=(r<<5)-r+o,r=r&r}return r}function h1(t){return t===!1||t===null}function Et(t,e){return t.includes(e)}function _c(t,e){let r=0;for(const[n,o]of t.entries())if(e(o,n,r++))return!0;return!1}function L_(t,e){let r=0;for(const[n,o]of t.entries())if(!e(o,n,r++))return!1;return!0}function T6(t,...e){for(const r of e)ogt(t,r??{});return t}function ogt(t,e){for(const r of B(e))ys(t,r,e[r],!0)}function co(t,e){const r=[],n={};let o;for(const i of t)o=e(i),!(o in n)&&(n[o]=1,r.push(i));return r}function igt(t,e){const r=B(t),n=B(e);if(r.length!==n.length)return!1;for(const o of r)if(t[o]!==e[o])return!1;return!0}function M6(t,e){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function I_(t,e){for(const r of t)if(e.has(r))return!0;return!1}function p1(t){const e=new Set;for(const r of t){const o=Oo(r).map((a,c)=>c===0?a:`[${a}]`),i=o.map((a,c)=>o.slice(0,c+1).join(""));for(const a of i)e.add(a)}return e}function B_(t,e){return t===void 0||e===void 0?!0:I_(p1(t),p1(e))}function qt(t){return B(t).length===0}const B=Object.keys,Te=Object.values,aa=Object.entries;function Cd(t){return t===!0||t===!1}function Zt(t){const e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function td(t,e){return R_(t)?`!(${td(t.not,e)})`:z_(t)?`(${t.and.map(r=>td(r,e)).join(") && (")})`:F_(t)?`(${t.or.map(r=>td(r,e)).join(") || (")})`:e(t)}function yg(t,e){if(e.length===0)return!0;const r=e.shift();return r in t&&yg(t[r],e)&&delete t[r],qt(t)}function vf(t){return t.charAt(0).toUpperCase()+t.substr(1)}function U_(t,e="datum"){const r=Oo(t),n=[];for(let o=1;o<=r.length;o++){const i=`[${r.slice(0,o).map(V).join("][")}]`;n.push(`${e}${i}`)}return n.join(" && ")}function F6(t,e="datum"){return`${e}[${V(Oo(t).join("."))}]`}function agt(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ln(t){return`${Oo(t).map(agt).join("\\.")}`}function Oc(t,e,r){return t.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),r)}function q_(t){return`${Oo(t).join(".")}`}function ns(t){return t?Oo(t).length:0}function ue(...t){for(const e of t)if(e!==void 0)return e}let z6=42;function R6(t){const e=++z6;return t?String(t)+e:e}function cgt(){z6=42}function L6(t){return I6(t)?t:`__${t}`}function I6(t){return t.startsWith("__")}function Ad(t){if(t!==void 0)return(t%360+360)%360}function Zb(t){return Bt(t)?!0:!isNaN(t)&&!isNaN(parseFloat(t))}const ri="row",ni="column",tm="facet",te="x",Ee="y",Wn="x2",Po="y2",ya="xOffset",js="yOffset",Hn="radius",pi="radius2",hn="theta",gi="theta2",Gn="latitude",Yn="longitude",Vn="latitude2",dn="longitude2",Tr="color",No="fill",Do="stroke",Mr="shape",bi="size",qc="angle",mi="opacity",xa="fillOpacity",wa="strokeOpacity",ka="strokeWidth",_a="strokeDash",yf="text",os="order",xf="detail",em="key",Ec="tooltip",rm="href",nm="url",om="description",ugt={x:1,y:1,x2:1,y2:1},B6={theta:1,theta2:1,radius:1,radius2:1};function U6(t){return t in B6}const W_={longitude:1,longitude2:1,latitude:1,latitude2:1};function q6(t){switch(t){case Gn:return"y";case Vn:return"y2";case Yn:return"x";case dn:return"x2"}}function W6(t){return t in W_}const sgt=B(W_),H_={...ugt,...B6,...W_,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Pu(t){return t===Tr||t===No||t===Do}const H6={row:1,column:1,facet:1},rn=B(H6),G_={...H_,...H6},lgt=B(G_),{order:S2t,detail:$2t,tooltip:C2t,...dgt}=G_,{row:A2t,column:P2t,facet:N2t,...fgt}=dgt;function hgt(t){return!!fgt[t]}function G6(t){return!!G_[t]}const pgt=[Wn,Po,Vn,dn,gi,pi];function Y6(t){return Wc(t)!==t}function Wc(t){switch(t){case Wn:return te;case Po:return Ee;case Vn:return Gn;case dn:return Yn;case gi:return hn;case pi:return Hn}return t}function ca(t){if(U6(t))switch(t){case hn:return"startAngle";case gi:return"endAngle";case Hn:return"outerRadius";case pi:return"innerRadius"}return t}function jo(t){switch(t){case te:return Wn;case Ee:return Po;case Gn:return Vn;case Yn:return dn;case hn:return gi;case Hn:return pi}}function Fr(t){switch(t){case te:case Wn:return"width";case Ee:case Po:return"height"}}function V6(t){switch(t){case te:return"xOffset";case Ee:return"yOffset";case Wn:return"x2Offset";case Po:return"y2Offset";case hn:return"thetaOffset";case Hn:return"radiusOffset";case gi:return"theta2Offset";case pi:return"radius2Offset"}}function Y_(t){switch(t){case te:return"xOffset";case Ee:return"yOffset"}}function X6(t){switch(t){case"xOffset":return"x";case"yOffset":return"y"}}const ggt=B(H_),{x:D2t,y:j2t,x2:T2t,y2:M2t,xOffset:F2t,yOffset:z2t,latitude:R2t,longitude:L2t,latitude2:I2t,longitude2:B2t,theta:U2t,theta2:q2t,radius:W2t,radius2:H2t,...V_}=H_,bgt=B(V_),X_={x:1,y:1},To=B(X_);function Se(t){return t in X_}const K_={theta:1,radius:1},mgt=B(K_);function im(t){return t==="width"?te:Ee}const K6={xOffset:1,yOffset:1};function Ts(t){return t in K6}const{text:G2t,tooltip:Y2t,href:V2t,url:X2t,description:K2t,detail:Q2t,key:J2t,order:Z2t,...Q6}=V_,vgt=B(Q6);function ygt(t){return!!V_[t]}function xgt(t){switch(t){case Tr:case No:case Do:case bi:case Mr:case mi:case ka:case _a:return!0;case xa:case wa:case qc:return!1}}const J6={...X_,...K_,...K6,...Q6},am=B(J6);function vi(t){return!!J6[t]}function wgt(t,e){return _gt(t)[e]}const Z6={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:tOt,...kgt}=Z6;function _gt(t){switch(t){case Tr:case No:case Do:case om:case xf:case em:case Ec:case rm:case os:case mi:case xa:case wa:case ka:case tm:case ri:case ni:return Z6;case te:case Ee:case ya:case js:case Gn:case Yn:return kgt;case Wn:case Po:case Vn:case dn:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case bi:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case _a:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Mr:return{point:"always",geoshape:"always"};case yf:return{text:"always"};case qc:return{point:"always",square:"always",text:"always"};case nm:return{image:"always"};case hn:return{text:"always",arc:"always"};case Hn:return{text:"always",arc:"always"};case gi:case pi:return{arc:"always"}}}function e0(t){switch(t){case te:case Ee:case hn:case Hn:case ya:case js:case bi:case qc:case ka:case mi:case xa:case wa:case Wn:case Po:case gi:case pi:return;case tm:case ri:case ni:case Mr:case _a:case yf:case Ec:case rm:case nm:case om:return"discrete";case Tr:case No:case Do:return"flexible";case Gn:case Yn:case Vn:case dn:case xf:case em:case os:return}}const Ogt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Egt={count:1,min:1,max:1};function si(t){return!!t&&!!t.argmin}function Oa(t){return!!t&&!!t.argmax}function Q_(t){return J(t)&&!!Ogt[t]}const Sgt=new Set(["count","valid","missing","distinct"]);function t4(t){return J(t)&&Sgt.has(t)}function $gt(t){return J(t)&&Et(["min","max"],t)}const Cgt=new Set(["count","sum","distinct","valid","missing"]),Agt=new Set(["mean","average","median","q1","q3","min","max"]);function e4(t){return fa(t)&&(t=vm(t,void 0)),"bin"+B(t).map(e=>cm(t[e])?Zt(`_${e}_${aa(t[e])}`):Zt(`_${e}_${t[e]}`)).join("")}function Xt(t){return t===!0||Hc(t)&&!t.binned}function Pe(t){return t==="binned"||Hc(t)&&t.binned===!0}function Hc(t){return tt(t)}function cm(t){return t==null?void 0:t.param}function pN(t){switch(t){case ri:case ni:case bi:case Tr:case No:case Do:case ka:case mi:case xa:case wa:case Mr:return 6;case _a:return 4;default:return 10}}function wf(t){return!!(t!=null&&t.expr)}function wr(t){const e=B(t||{}),r={};for(const n of e)r[n]=Ur(t[n]);return r}function r4(t){const{anchor:e,frame:r,offset:n,orient:o,angle:i,limit:a,color:c,subtitleColor:u,subtitleFont:s,subtitleFontSize:l,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...g}=t,b={...g,...c?{fill:c}:{}},m={...e?{anchor:e}:{},...r?{frame:r}:{},...n?{offset:n}:{},...o?{orient:o}:{},...i!==void 0?{angle:i}:{},...a!==void 0?{limit:a}:{}},v={...u?{subtitleColor:u}:{},...s?{subtitleFont:s}:{},...l?{subtitleFontSize:l}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},y=rs(t,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:b,subtitleMarkConfig:y,nonMarkTitleProperties:m,subtitle:v}}function Pi(t){return J(t)||L(t)&&J(t[0])}function at(t){return!!(t!=null&&t.signal)}function Ea(t){return!!t.step}function Pgt(t){return L(t)?!1:"fields"in t&&!("data"in t)}function Ngt(t){return L(t)?!1:"fields"in t&&"data"in t}function Jo(t){return L(t)?!1:"field"in t&&"data"in t}const Dgt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},jgt=B(Dgt),Tgt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},g1=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function n4(t){const e=L(t.condition)?t.condition.map(gN):gN(t.condition);return{...Ur(t),condition:e}}function Ur(t){if(wf(t)){const{expr:e,...r}=t;return{signal:e,...r}}return t}function gN(t){if(wf(t)){const{expr:e,...r}=t;return{signal:e,...r}}return t}function Qt(t){if(wf(t)){const{expr:e,...r}=t;return{signal:e,...r}}return at(t)?t:t!==void 0?{value:t}:void 0}function Mgt(t){return at(t)?t.signal:V(t)}function bN(t){return at(t)?t.signal:V(t.value)}function An(t){return at(t)?t.signal:t==null?null:V(t)}function Fgt(t,e,r){for(const n of r){const o=li(n,e.markDef,e.config);o!==void 0&&(t[n]=Qt(o))}return t}function o4(t){return[].concat(t.type,t.style??[])}function Lt(t,e,r,n={}){const{vgChannel:o,ignoreVgConfig:i}=n;return o&&e[o]!==void 0?e[o]:e[t]!==void 0?e[t]:i&&(!o||o===t)?void 0:li(t,e,r,n)}function li(t,e,r,{vgChannel:n}={}){return ue(n?xg(t,e,r.style):void 0,xg(t,e,r.style),n?r[e.type][n]:void 0,r[e.type][t],n?r.mark[n]:r.mark[t])}function xg(t,e,r){return i4(t,o4(e),r)}function i4(t,e,r){e=Z(e);let n;for(const o of e){const i=r[o];i&&i[t]!==void 0&&(n=i[t])}return n}function a4(t,e){return Z(t).reduce((r,n)=>(r.field.push(Q(n,e)),r.order.push(n.sort??"ascending"),r),{field:[],order:[]})}function c4(t,e){const r=[...t];return e.forEach(n=>{for(const o of r)if(ao(o,n))return;r.push(n)}),r}function u4(t,e){return ao(t,e)||!e?t:t?[...Z(t),...Z(e)].join(", "):e}function s4(t,e){const r=t.value,n=e.value;if(r==null||n===null)return{explicit:t.explicit,value:null};if((Pi(r)||at(r))&&(Pi(n)||at(n)))return{explicit:t.explicit,value:u4(r,n)};if(Pi(r)||at(r))return{explicit:t.explicit,value:r};if(Pi(n)||at(n))return{explicit:t.explicit,value:n};if(!Pi(r)&&!at(r)&&!Pi(n)&&!at(n))return{explicit:t.explicit,value:c4(r,n)};throw new Error("It should never reach here")}function J_(t){return`Invalid specification ${Vt(t)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const zgt='Autosize "fit" only works for single views and layered views.';function mN(t){return`${t=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function vN(t){const e=t=="width"?"Width":"Height",r=t=="width"?"x":"y";return`${e} "container" only works well with autosize "fit" or "fit-${r}".`}function yN(t){return t?`Dropping "fit-${t}" because spec has discrete ${Fr(t)}.`:'Dropping "fit" because spec has discrete size.'}function Z_(t){return`Unknown field for ${t}. Cannot calculate view size.`}function xN(t){return`Cannot project a selection on encoding channel "${t}", which has no field.`}function Rgt(t,e){return`Cannot project a selection on encoding channel "${t}" as it uses an aggregate function ("${e}").`}function Lgt(t){return`The "nearest" transform is not supported for ${t} marks.`}function l4(t){return`Selection not supported for ${t} yet.`}function Igt(t){return`Cannot find a selection named "${t}".`}const Bgt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Ugt="Legend bindings are only supported for selections over an individual field or encoding channel.";function qgt(t){return`Lookups can only be performed on selection parameters. "${t}" is a variable parameter.`}function Wgt(t){return`Cannot define and lookup the "${t}" selection in the same view. Try moving the lookup into a second, layered view?`}const Hgt="The same selection must be used to override scale domains in a layered view.",Ggt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Ygt(t){return`Unknown repeated value "${t}".`}function wN(t){return`The "columns" property cannot be used when "${t}" has nested row/column.`}const Vgt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Xgt(t){return`Unrecognized parse "${t}".`}function kN(t,e,r){return`An ancestor parsed field "${t}" as ${r} but a child wants to parse the field as ${e}.`}const Kgt="Attempt to add the same child twice.";function Qgt(t){return`Ignoring an invalid transform: ${Vt(t)}.`}const Jgt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function _N(t){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${t} are dropped.`}function Zgt(t){const{parentProjection:e,projection:r}=t;return`Layer's shared projection ${Vt(e)} is overridden by a child projection ${Vt(r)}.`}const tbt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function ebt(t){return`${t}Offset dropped because ${t} is continuous`}function rbt(t){return`There is no ${t} encoding. Replacing ${t}Offset encoding as ${t}.`}function nbt(t,e,r){return`Channel ${t} is a ${e}. Converted to {value: ${Vt(r)}}.`}function d4(t){return`Invalid field type "${t}".`}function obt(t,e){return`Invalid field type "${t}" for aggregate: "${e}", using "quantitative" instead.`}function ibt(t){return`Invalid aggregation operator "${t}".`}function f4(t,e){const{fill:r,stroke:n}=e;return`Dropping color ${t} as the plot also has ${r&&n?"fill and stroke":r?"fill":"stroke"}.`}function abt(t){return`Position range does not support relative band size for ${t}.`}function b1(t,e){return`Dropping ${Vt(t)} from channel "${e}" since it does not contain any data field, datum, value, or signal.`}const cbt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function um(t,e,r){return`${t} dropped as it is incompatible with "${e}"${r?` when ${r}`:""}.`}function ubt(t){return`${t} encoding has no scale, so specified scale is ignored.`}function sbt(t){return`${t}-encoding is dropped as ${t} is not a valid encoding channel.`}function lbt(t){return`${t} encoding should be discrete (ordinal / nominal / binned).`}function dbt(t){return`${t} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function fbt(t){return`Facet encoding dropped as ${t.join(" and ")} ${t.length>1?"are":"is"} also specified.`}function r0(t,e){return`Using discrete channel "${t}" to encode "${e}" field can be misleading as it does not encode ${e==="ordinal"?"order":"magnitude"}.`}function hbt(t){return`The ${t} for range marks cannot be an expression`}function pbt(t,e){return`Line mark is for continuous lines and thus cannot be used with ${t&&e?"x2 and y2":t?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function gbt(t,e){return`Specified orient "${t}" overridden with "${e}".`}function bbt(t){return`Cannot use the scale property "${t}" with non-color channel.`}function mbt(t){return`Cannot use the relative band size with ${t} scale.`}function vbt(t){return`Using unaggregated domain with raw field has no effect (${Vt(t)}).`}function ybt(t){return`Unaggregated domain not applicable for "${t}" since it produces values outside the origin domain of the source data.`}function xbt(t){return`Unaggregated domain is currently unsupported for log scale (${Vt(t)}).`}function wbt(t){return`Cannot apply size to non-oriented mark "${t}".`}function kbt(t,e,r){return`Channel "${t}" does not work with "${e}" scale. We are using "${r}" scale instead.`}function _bt(t,e){return`FieldDef does not work with "${t}" scale. We are using "${e}" scale instead.`}function h4(t,e,r){return`${r}-scale's "${e}" is dropped as it does not work with ${t} scale.`}function p4(t){return`The step for "${t}" is dropped because the ${t==="width"?"x":"y"} is continuous.`}function Obt(t,e,r,n){return`Conflicting ${e.toString()} property "${t.toString()}" (${Vt(r)} and ${Vt(n)}). Using ${Vt(r)}.`}function Ebt(t,e,r,n){return`Conflicting ${e.toString()} property "${t.toString()}" (${Vt(r)} and ${Vt(n)}). Using the union of the two domains.`}function Sbt(t){return`Setting the scale to be independent for "${t}" means we also have to set the guide (axis or legend) to be independent.`}function $bt(t){return`Dropping sort property ${Vt(t)} as unioned domains only support boolean or op "count", "min", and "max".`}const ON="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Cbt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Abt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Pbt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Nbt(t){return`Cannot stack "${t}" if there is already "${t}2".`}function Dbt(t){return`Cannot stack non-linear scale (${t}).`}function jbt(t){return`Stacking is applied even though the aggregate function is non-summative ("${t}").`}function wg(t,e){return`Invalid ${t}: ${Vt(e)}.`}function Tbt(t){return`Dropping day from datetime ${Vt(t)} as day cannot be combined with other units.`}function Mbt(t,e){return`${e?"extent ":""}${e&&t?"and ":""}${t?"center ":""}${e&&t?"are ":"is "}not needed when data are aggregated.`}function Fbt(t,e,r){return`${t} is not usually used with ${e} for ${r}.`}function zbt(t,e){return`Continuous axis should not have customized aggregation function ${t}; ${e} already agregates the axis.`}function EN(t){return`1D error band does not support ${t}.`}function g4(t){return`Channel ${t} is required for "binned" bin.`}function Rbt(t){return`Channel ${t} should not be used with "binned" bin.`}function Lbt(t){return`Domain for ${t} is required for threshold scale.`}const b4=W1(q1);let is=b4;function Ibt(t){return is=t,is}function Bbt(){return is=b4,is}function H(...t){is.warn(...t)}function Ubt(...t){is.debug(...t)}function Gc(t){if(t&&tt(t)){for(const e of e2)if(e in t)return!0}return!1}const m4=["january","february","march","april","may","june","july","august","september","october","november","december"],qbt=m4.map(t=>t.substr(0,3)),v4=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Wbt=v4.map(t=>t.substr(0,3));function Hbt(t){if(Zb(t)&&(t=+t),Bt(t))return t>4&&H(wg("quarter",t)),t-1;throw new Error(wg("quarter",t))}function Gbt(t){if(Zb(t)&&(t=+t),Bt(t))return t-1;{const e=t.toLowerCase(),r=m4.indexOf(e);if(r!==-1)return r;const n=e.substr(0,3),o=qbt.indexOf(n);if(o!==-1)return o;throw new Error(wg("month",t))}}function Ybt(t){if(Zb(t)&&(t=+t),Bt(t))return t%7;{const e=t.toLowerCase(),r=v4.indexOf(e);if(r!==-1)return r;const n=e.substr(0,3),o=Wbt.indexOf(n);if(o!==-1)return o;throw new Error(wg("day",t))}}function t2(t,e){const r=[];if(e&&t.day!==void 0&&B(t).length>1&&(H(Tbt(t)),t=ht(t),delete t.day),t.year!==void 0?r.push(t.year):r.push(2012),t.month!==void 0){const n=e?Gbt(t.month):t.month;r.push(n)}else if(t.quarter!==void 0){const n=e?Hbt(t.quarter):t.quarter;r.push(Bt(n)?n*3:`${n}*3`)}else r.push(0);if(t.date!==void 0)r.push(t.date);else if(t.day!==void 0){const n=e?Ybt(t.day):t.day;r.push(Bt(n)?n+1:`${n}+1`)}else r.push(1);for(const n of["hours","minutes","seconds","milliseconds"]){const o=t[n];r.push(typeof o>"u"?0:o)}return r}function Sc(t){const r=t2(t,!0).join(", ");return t.utc?`utc(${r})`:`datetime(${r})`}function Vbt(t){const r=t2(t,!1).join(", ");return t.utc?`utc(${r})`:`datetime(${r})`}function Xbt(t){const e=t2(t,!0);return t.utc?+new Date(Date.UTC(...e)):+new Date(...e)}const y4={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},e2=B(y4);function Kbt(t){return!!y4[t]}function Yc(t){return tt(t)?t.binned:x4(t)}function x4(t){return t&&t.startsWith("binned")}function r2(t){return t.startsWith("utc")}function Qbt(t){return t.substring(3)}const Jbt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function sm(t){return e2.filter(e=>k4(t,e))}function w4(t){const e=sm(t);return e[e.length-1]}function k4(t,e){const r=t.indexOf(e);return!(r<0||r>0&&e==="seconds"&&t.charAt(r-1)==="i"||t.length>r+3&&e==="day"&&t.charAt(r+3)==="o"||r>0&&e==="year"&&t.charAt(r-1)==="f")}function Zbt(t,e,{end:r}={end:!1}){const n=U_(e),o=r2(t)?"utc":"";function i(u){return u==="quarter"?`(${o}quarter(${n})-1)`:`${o}${u}(${n})`}let a;const c={};for(const u of e2)k4(t,u)&&(c[u]=i(u),a=u);return r&&(c[a]+="+1"),Vbt(c)}function _4(t){if(!t)return;const e=sm(t);return`timeUnitSpecifier(${Vt(e)}, ${Vt(Jbt)})`}function tmt(t,e,r){if(!t)return;const n=_4(t);return`${r||r2(t)?"utc":"time"}Format(${e}, ${n})`}function Oe(t){if(!t)return;let e;return J(t)?x4(t)?e={unit:t.substring(6),binned:!0}:e={unit:t}:tt(t)&&(e={...t,...t.unit?{unit:t.unit}:{}}),r2(e.unit)&&(e.utc=!0,e.unit=Qbt(e.unit)),e}function emt(t){const{utc:e,...r}=Oe(t);return r.unit?(e?"utc":"")+B(r).map(n=>Zt(`${n==="unit"?"":`_${n}_`}${r[n]}`)).join(""):(e?"utc":"")+"timeunit"+B(r).map(n=>Zt(`_${n}_${r[n]}`)).join("")}function O4(t,e=r=>r){const r=Oe(t),n=w4(r.unit);if(n&&n!=="day"){const o={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:i,part:a}=E4(n,r.step),c={...o,[a]:+o[a]+i};return`${e(Sc(c))} - ${e(Sc(o))}`}}const rmt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function nmt(t){return!!rmt[t]}function E4(t,e=1){if(nmt(t))return{part:t,step:e};switch(t){case"day":case"dayofyear":return{part:"date",step:e};case"quarter":return{part:"month",step:e*3};case"week":return{part:"date",step:e*7}}}function omt(t){return t==null?void 0:t.param}function n2(t){return!!(t!=null&&t.field)&&t.equal!==void 0}function o2(t){return!!(t!=null&&t.field)&&t.lt!==void 0}function i2(t){return!!(t!=null&&t.field)&&t.lte!==void 0}function a2(t){return!!(t!=null&&t.field)&&t.gt!==void 0}function c2(t){return!!(t!=null&&t.field)&&t.gte!==void 0}function u2(t){if(t!=null&&t.field){if(L(t.range)&&t.range.length===2)return!0;if(at(t.range))return!0}return!1}function s2(t){return!!(t!=null&&t.field)&&(L(t.oneOf)||L(t.in))}function imt(t){return!!(t!=null&&t.field)&&t.valid!==void 0}function S4(t){return s2(t)||n2(t)||u2(t)||o2(t)||a2(t)||i2(t)||c2(t)}function Qn(t,e){return ym(t,{timeUnit:e,wrapTime:!0})}function amt(t,e){return t.map(r=>Qn(r,e))}function $4(t,e=!0){const{field:r}=t,n=Oe(t.timeUnit),{unit:o,binned:i}=n||{},a=Q(t,{expr:"datum"}),c=o?`time(${i?a:Zbt(o,r)})`:a;if(n2(t))return`${c}===${Qn(t.equal,o)}`;if(o2(t)){const u=t.lt;return`${c}<${Qn(u,o)}`}else if(a2(t)){const u=t.gt;return`${c}>${Qn(u,o)}`}else if(i2(t)){const u=t.lte;return`${c}<=${Qn(u,o)}`}else if(c2(t)){const u=t.gte;return`${c}>=${Qn(u,o)}`}else{if(s2(t))return`indexof([${amt(t.oneOf,o).join(",")}], ${c}) !== -1`;if(imt(t))return l2(c,t.valid);if(u2(t)){const{range:u}=t,s=at(u)?{signal:`${u.signal}[0]`}:u[0],l=at(u)?{signal:`${u.signal}[1]`}:u[1];if(s!==null&&l!==null&&e)return"inrange("+c+", ["+Qn(s,o)+", "+Qn(l,o)+"])";const d=[];return s!==null&&d.push(`${c} >= ${Qn(s,o)}`),l!==null&&d.push(`${c} <= ${Qn(l,o)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Vt(t)}`)}function l2(t,e=!0){return e?`isValid(${t}) && isFinite(+${t})`:`!isValid(${t}) || !isFinite(+${t})`}function cmt(t){return S4(t)&&t.timeUnit?{...t,timeUnit:Oe(t.timeUnit)}:t}const kf={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function umt(t){return t==="quantitative"||t==="temporal"}function C4(t){return t==="ordinal"||t==="nominal"}const $c=kf.quantitative,d2=kf.ordinal,as=kf.temporal,f2=kf.nominal,Ms=kf.geojson;function smt(t){if(t)switch(t=t.toLowerCase(),t){case"q":case $c:return"quantitative";case"t":case as:return"temporal";case"o":case d2:return"ordinal";case"n":case f2:return"nominal";case Ms:return"geojson"}}const $r={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},m1={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function lmt(t,e){const r=m1[t],n=m1[e];return r===n||r==="ordinal-position"&&n==="time"||n==="ordinal-position"&&r==="time"}const dmt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function SN(t){return dmt[t]}const A4=new Set(["linear","log","pow","sqrt","symlog"]),P4=new Set([...A4,"time","utc"]);function N4(t){return A4.has(t)}const D4=new Set(["quantile","quantize","threshold"]),fmt=new Set([...P4,...D4,"sequential","identity"]),hmt=new Set(["ordinal","bin-ordinal","point","band"]);function $e(t){return hmt.has(t)}function Kr(t){return fmt.has(t)}function Pn(t){return P4.has(t)}function cs(t){return D4.has(t)}const pmt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function gmt(t){return!J(t)&&!!t.name}function j4(t){return t==null?void 0:t.param}function bmt(t){return t==null?void 0:t.unionWith}function mmt(t){return tt(t)&&"field"in t}const vmt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:eOt,domain:rOt,range:nOt,rangeMax:oOt,rangeMin:iOt,scheme:aOt,...ymt}=vmt,xmt=B(ymt);function v1(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(t);case"bins":return!["point","band","identity","ordinal"].includes(t);case"round":return Pn(t)||t==="band"||t==="point";case"padding":case"rangeMin":case"rangeMax":return Pn(t)||["point","band"].includes(t);case"paddingOuter":case"align":return["point","band"].includes(t);case"paddingInner":return t==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Pn(t);case"nice":return Pn(t)||t==="quantize"||t==="threshold";case"exponent":return t==="pow";case"base":return t==="log";case"constant":return t==="symlog";case"zero":return Kr(t)&&!Et(["log","time","utc","threshold","quantile"],t)}}function T4(t,e){switch(e){case"interpolate":case"scheme":case"domainMid":return Pu(t)?void 0:bbt(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function wmt(t,e){return Et([d2,f2],e)?t===void 0||$e(t):e===as?Et([$r.TIME,$r.UTC,void 0],t):e===$c?N4(t)||cs(t)||t===void 0:!0}function kmt(t,e,r=!1){if(!vi(t))return!1;switch(t){case te:case Ee:case ya:case js:case hn:case Hn:return Pn(e)||e==="band"?!0:e==="point"?!r:!1;case bi:case ka:case mi:case xa:case wa:case qc:return Pn(e)||cs(e)||Et(["band","point","ordinal"],e);case Tr:case No:case Do:return e!=="band";case _a:case Mr:return e==="ordinal"||cs(e)}}const mr={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},M4=mr.arc,lm=mr.area,dm=mr.bar,_mt=mr.image,fm=mr.line,hm=mr.point,Omt=mr.rect,kg=mr.rule,F4=mr.text,h2=mr.tick,Emt=mr.trail,p2=mr.circle,g2=mr.square,z4=mr.geoshape;function Sa(t){return["line","area","trail"].includes(t)}function b2(t){return["rect","bar","image","arc"].includes(t)}const Smt=new Set(B(mr));function wo(t){return t.type}const $mt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Cmt=["fill","fillOpacity"],Amt=[...$mt,...Cmt],Pmt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},$N=B(Pmt),Nmt={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},Dmt={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},jmt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},R4=B(jmt);function Cc(t){return t&&t.band!=null}const Tmt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},L4=5,Mmt={binSpacing:1,continuousBandSize:L4,minBandSize:.25,timeUnitBandPosition:.5},Fmt={binSpacing:0,continuousBandSize:L4,minBandSize:.25,timeUnitBandPosition:.5},zmt={thickness:1};function Rmt(t){return wo(t)?t.type:t}function m2(t){const{channel:e,channelDef:r,markDef:n,scale:o,config:i}=t,a=y2(t);return G(r)&&!t4(r.aggregate)&&o&&Pn(o.get("type"))?Lmt({fieldDef:r,channel:e,markDef:n,ref:a,config:i}):a}function Lmt({fieldDef:t,channel:e,markDef:r,ref:n,config:o}){return Sa(r.type)?n:Lt("invalid",r,o)===null?[Imt(t,e),n]:n}function Imt(t,e){const r=v2(t,!0),o=Wc(e)==="y"?{field:{group:"height"}}:{value:0};return{test:r,...o}}function v2(t,e=!0){return l2(J(t)?t:Q(t,{expr:"datum"}),!e)}function Bmt(t){const{datum:e}=t;return Gc(e)?Sc(e):`${Vt(e)}`}function uc(t,e,r,n){const o={};if(e&&(o.scale=e),Mo(t)){const{datum:i}=t;Gc(i)?o.signal=Sc(i):at(i)?o.signal=i.signal:wf(i)?o.signal=i.expr:o.value=i}else o.field=Q(t,r);if(n){const{offset:i,band:a}=n;i&&(o.offset=i),a&&(o.band=a)}return o}function _g({scaleName:t,fieldOrDatumDef:e,fieldOrDatumDef2:r,offset:n,startSuffix:o,bandPosition:i=.5}){const a=0<i&&i<1?"datum":void 0,c=Q(e,{expr:a,suffix:o}),u=r!==void 0?Q(r,{expr:a}):Q(e,{suffix:"end",expr:a}),s={};if(i===0||i===1){s.scale=t;const l=i===0?c:u;s.field=l}else{const l=at(i)?`${i.signal} * ${c} + (1-${i.signal}) * ${u}`:`${i} * ${c} + ${1-i} * ${u}`;s.signal=`scale("${t}", ${l})`}return n&&(s.offset=n),s}function Umt({scaleName:t,fieldDef:e}){const r=Q(e,{expr:"datum"}),n=Q(e,{expr:"datum",suffix:"end"});return`abs(scale("${t}", ${n}) - scale("${t}", ${r}))`}function y2({channel:t,channelDef:e,channel2Def:r,markDef:n,config:o,scaleName:i,scale:a,stack:c,offset:u,defaultRef:s,bandPosition:l}){if(e){if(pt(e)){const d=a==null?void 0:a.get("type");if(gr(e)){l??(l=Y4({fieldDef:e,fieldDef2:r,markDef:n,config:o}));const{bin:f,timeUnit:h,type:p}=e;if(Xt(f)||l&&h&&p===as)return c!=null&&c.impute?uc(e,i,{binSuffix:"mid"},{offset:u}):l&&!$e(d)?_g({scaleName:i,fieldOrDatumDef:e,bandPosition:l,offset:u}):uc(e,i,Sf(e,t)?{binSuffix:"range"}:{},{offset:u});if(Pe(f)){if(G(r))return _g({scaleName:i,fieldOrDatumDef:e,fieldOrDatumDef2:r,bandPosition:l,offset:u});H(g4(t===te?Wn:Po))}}return uc(e,i,$e(d)?{binSuffix:"range"}:{},{offset:u,band:d==="band"?l??e.bandPosition??.5:void 0})}else if(Ln(e)){const d=e.value,f=u?{offset:u}:{};return{...ed(t,d),...f}}}return mt(s)&&(s=s()),s&&{...s,...u?{offset:u}:{}}}function ed(t,e){return Et(["x","x2"],t)&&e==="width"?{field:{group:"width"}}:Et(["y","y2"],t)&&e==="height"?{field:{group:"height"}}:Qt(e)}function Ac(t){return t&&t!=="number"&&t!=="time"}function I4(t,e,r){return`${t}(${e}${r?`, ${Vt(r)}`:""})`}const qmt=" – ";function x2({fieldOrDatumDef:t,format:e,formatType:r,expr:n,normalizeStack:o,config:i}){var u,s;if(Ac(r))return Nn({fieldOrDatumDef:t,format:e,formatType:r,expr:n,config:i});const a=B4(t,n,o),c=us(t);if(e===void 0&&r===void 0&&i.customFormatTypes){if(c==="quantitative"){if(o&&i.normalizedNumberFormatType)return Nn({fieldOrDatumDef:t,format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,expr:n,config:i});if(i.numberFormatType)return Nn({fieldOrDatumDef:t,format:i.numberFormat,formatType:i.numberFormatType,expr:n,config:i})}if(c==="temporal"&&i.timeFormatType&&G(t)&&t.timeUnit===void 0)return Nn({fieldOrDatumDef:t,format:i.timeFormat,formatType:i.timeFormatType,expr:n,config:i})}if(ls(t)){const l=Hmt({field:a,timeUnit:G(t)?(u=Oe(t.timeUnit))==null?void 0:u.unit:void 0,format:e,formatType:i.timeFormatType,rawTimeFormat:i.timeFormat,isUTCScale:Vc(t)&&((s=t.scale)==null?void 0:s.type)===$r.UTC});return l?{signal:l}:void 0}if(e=y1({type:c,specifiedFormat:e,config:i,normalizeStack:o}),G(t)&&Xt(t.bin)){const l=Q(t,{expr:n,binSuffix:"end"});return{signal:_f(a,l,e,r,i)}}else return e||us(t)==="quantitative"?{signal:`${W4(a,e)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function B4(t,e,r){return G(t)?r?`${Q(t,{expr:e,suffix:"end"})}-${Q(t,{expr:e,suffix:"start"})}`:Q(t,{expr:e}):Bmt(t)}function Nn({fieldOrDatumDef:t,format:e,formatType:r,expr:n,normalizeStack:o,config:i,field:a}){if(a??(a=B4(t,n,o)),a!=="datum.value"&&G(t)&&Xt(t.bin)){const c=Q(t,{expr:n,binSuffix:"end"});return{signal:_f(a,c,e,r,i)}}return{signal:I4(r,a,e)}}function U4(t,e,r,n,o,i){var a;if(!(J(n)&&Ac(n))&&!(r===void 0&&n===void 0&&o.customFormatTypes&&us(t)==="quantitative"&&(o.normalizedNumberFormatType&&ss(t)&&t.stack==="normalize"||o.numberFormatType))){if(ss(t)&&t.stack==="normalize"&&o.normalizedNumberFormat)return y1({type:"quantitative",config:o,normalizeStack:!0});if(ls(t)){const c=G(t)?(a=Oe(t.timeUnit))==null?void 0:a.unit:void 0;return c===void 0&&o.customFormatTypes&&o.timeFormatType?void 0:Wmt({specifiedFormat:r,timeUnit:c,config:o,omitTimeFormatConfig:i})}return y1({type:e,specifiedFormat:r,config:o})}}function q4(t,e,r){var n;if(t&&(at(t)||t==="number"||t==="time"))return t;if(ls(e)&&r!=="time"&&r!=="utc")return G(e)&&((n=Oe(e==null?void 0:e.timeUnit))!=null&&n.utc)?"utc":"time"}function y1({type:t,specifiedFormat:e,config:r,normalizeStack:n}){if(J(e))return e;if(t===$c)return n?r.normalizedNumberFormat:r.numberFormat}function Wmt({specifiedFormat:t,timeUnit:e,config:r,omitTimeFormatConfig:n}){return t||(e?{signal:_4(e)}:n?void 0:r.timeFormat)}function W4(t,e){return`format(${t}, "${e||""}")`}function CN(t,e,r,n){return Ac(r)?I4(r,t,e):W4(t,(J(e)?e:void 0)??n.numberFormat)}function _f(t,e,r,n,o){if(r===void 0&&n===void 0&&o.customFormatTypes&&o.numberFormatType)return _f(t,e,o.numberFormat,o.numberFormatType,o);const i=CN(t,r,n,o),a=CN(e,r,n,o);return`${l2(t,!1)} ? "null" : ${i} + "${qmt}" + ${a}`}function Hmt({field:t,timeUnit:e,format:r,formatType:n,rawTimeFormat:o,isUTCScale:i}){return!e||r?!e&&n?`${n}(${t}, '${r}')`:(r=J(r)?r:o,`${i?"utc":"time"}Format(${t}, '${r}')`):tmt(e,t,i)}const pm="min",Gmt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function AN(t){return t in Gmt}function H4(t){return!!(t!=null&&t.encoding)}function fo(t){return t&&(t.op==="count"||!!t.field)}function G4(t){return t&&L(t)}function Of(t){return"row"in t||"column"in t}function w2(t){return!!t&&"header"in t}function gm(t){return"facet"in t}function Ymt(t){return t.param}function Vmt(t){return t&&!J(t)&&"repeat"in t}function PN(t){const{field:e,timeUnit:r,bin:n,aggregate:o}=t;return{...r?{timeUnit:r}:{},...n?{bin:n}:{},...o?{aggregate:o}:{},field:e}}function k2(t){return"sort"in t}function Y4({fieldDef:t,fieldDef2:e,markDef:r,config:n}){if(pt(t)&&t.bandPosition!==void 0)return t.bandPosition;if(G(t)){const{timeUnit:o,bin:i}=t;if(o&&!e)return b2(r.type)?0:li("timeUnitBandPosition",r,n);if(Xt(i))return .5}}function V4({channel:t,fieldDef:e,fieldDef2:r,markDef:n,config:o,scaleType:i,useVlSizeChannel:a}){var s,l,d;const c=Fr(t),u=Lt(a?"size":c,n,o,{vgChannel:c});if(u!==void 0)return u;if(G(e)){const{timeUnit:f,bin:h}=e;if(f&&!r)return{band:li("timeUnitBandSize",n,o)};if(Xt(h)&&!$e(i))return{band:1}}if(b2(n.type))return i?$e(i)?((s=o[n.type])==null?void 0:s.discreteBandSize)||{band:1}:(l=o[n.type])==null?void 0:l.continuousBandSize:(d=o[n.type])==null?void 0:d.discreteBandSize}function X4(t,e,r,n){return Xt(t.bin)||t.timeUnit&&gr(t)&&t.type==="temporal"?Y4({fieldDef:t,fieldDef2:e,markDef:r,config:n})!==void 0:!1}function K4(t){return t&&!!t.sort&&!t.field}function bm(t){return t&&"condition"in t}function mm(t){const e=t==null?void 0:t.condition;return!!e&&!L(e)&&G(e)}function Ef(t){const e=t==null?void 0:t.condition;return!!e&&!L(e)&&pt(e)}function Xmt(t){const e=t==null?void 0:t.condition;return!!e&&(L(e)||Ln(e))}function G(t){return t&&(!!t.field||t.aggregate==="count")}function us(t){return t==null?void 0:t.type}function Mo(t){return t&&"datum"in t}function Bi(t){return gr(t)&&!Eg(t)||Og(t)}function NN(t){return gr(t)&&t.type==="quantitative"&&!t.bin||Og(t)}function Og(t){return Mo(t)&&Bt(t.datum)}function pt(t){return G(t)||Mo(t)}function gr(t){return t&&("field"in t||t.aggregate==="count")&&"type"in t}function Ln(t){return t&&"value"in t&&"value"in t}function Vc(t){return t&&("scale"in t||"sort"in t)}function ss(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function Q4(t){return t&&"legend"in t}function J4(t){return t&&("format"in t||"formatType"in t)}function Kmt(t){return Sr(t,["legend","axis","header","scale"])}function Qmt(t){return"op"in t}function Q(t,e={}){let r=t.field;const n=e.prefix;let o=e.suffix,i="";if(Zmt(t))r=L6("count");else{let a;if(!e.nofn)if(Qmt(t))a=t.op;else{const{bin:c,aggregate:u,timeUnit:s}=t;Xt(c)?(a=e4(c),o=(e.binSuffix??"")+(e.suffix??"")):u?Oa(u)?(i=`["${r}"]`,r=`argmax_${u.argmax}`):si(u)?(i=`["${r}"]`,r=`argmin_${u.argmin}`):a=String(u):s&&!Yc(s)&&(a=emt(s),o=(!["range","mid"].includes(e.binSuffix)&&e.binSuffix||"")+(e.suffix??""))}a&&(r=r?`${a}_${r}`:a)}return o&&(r=`${r}_${o}`),n&&(r=`${n}_${r}`),e.forAs?q_(r):e.expr?F6(r,e.expr)+i:ln(r)+i}function Eg(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return G(t)&&!!t.bin;case"temporal":return!1}throw new Error(d4(t.type))}function Jmt(t){var e;return Vc(t)&&cs((e=t.scale)==null?void 0:e.type)}function Zmt(t){return t.aggregate==="count"}function tvt(t,e){var a;const{field:r,bin:n,timeUnit:o,aggregate:i}=t;if(i==="count")return e.countTitle;if(Xt(n))return`${r} (binned)`;if(o&&!Yc(o)){const c=(a=Oe(o))==null?void 0:a.unit;if(c)return`${r} (${sm(c).join("-")})`}else if(i)return Oa(i)?`${r} for max ${i.argmax}`:si(i)?`${r} for min ${i.argmin}`:`${vf(i)} of ${r}`;return r}function evt(t){const{aggregate:e,bin:r,timeUnit:n,field:o}=t;if(Oa(e))return`${o} for argmax(${e.argmax})`;if(si(e))return`${o} for argmin(${e.argmin})`;const i=n&&!Yc(n)?Oe(n):void 0,a=e||(i==null?void 0:i.unit)||(i==null?void 0:i.maxbins)&&"timeunit"||Xt(r)&&"bin";return a?`${a.toUpperCase()}(${o})`:o}const Z4=(t,e)=>{switch(e.fieldTitle){case"plain":return t.field;case"functional":return evt(t);default:return tvt(t,e)}};let tL=Z4;function eL(t){tL=t}function rvt(){eL(Z4)}function Nu(t,e,{allowDisabling:r,includeDefault:n=!0}){var c;const o=(c=_2(t))==null?void 0:c.title;if(!G(t))return o??t.title;const i=t,a=n?O2(i,e):void 0;return r?ue(o,i.title,a):o??i.title??a}function _2(t){if(ss(t)&&t.axis)return t.axis;if(Q4(t)&&t.legend)return t.legend;if(w2(t)&&t.header)return t.header}function O2(t,e){return tL(t,e)}function Sg(t){if(J4(t)){const{format:e,formatType:r}=t;return{format:e,formatType:r}}else{const e=_2(t)??{},{format:r,formatType:n}=e;return{format:r,formatType:n}}}function nvt(t,e){var i;switch(e){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(k2(t)&&L(t.sort))return"ordinal";const{aggregate:r,bin:n,timeUnit:o}=t;if(o)return"temporal";if(n||r&&!Oa(r)&&!si(r))return"quantitative";if(Vc(t)&&((i=t.scale)!=null&&i.type))switch(m1[t.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ko(t){if(G(t))return t;if(mm(t))return t.condition}function he(t){if(pt(t))return t;if(Ef(t))return t.condition}function rL(t,e,r,n={}){if(J(t)||Bt(t)||fa(t)){const o=J(t)?"string":Bt(t)?"number":"boolean";return H(nbt(e,o,t)),{value:t}}return pt(t)?$g(t,e,r,n):Ef(t)?{...t,condition:$g(t.condition,e,r,n)}:t}function $g(t,e,r,n){if(J4(t)){const{format:o,formatType:i,...a}=t;if(Ac(i)&&!r.customFormatTypes)return H(_N(e)),$g(a,e,r,n)}else{const o=ss(t)?"axis":Q4(t)?"legend":w2(t)?"header":null;if(o&&t[o]){const{format:i,formatType:a,...c}=t[o];if(Ac(a)&&!r.customFormatTypes)return H(_N(e)),$g({...t,[o]:c},e,r,n)}}return G(t)?E2(t,e,n):ovt(t)}function ovt(t){let e=t.type;if(e)return t;const{datum:r}=t;return e=Bt(r)?"quantitative":J(r)?"nominal":Gc(r)?"temporal":void 0,{...t,type:e}}function E2(t,e,{compositeMark:r=!1}={}){const{aggregate:n,timeUnit:o,bin:i,field:a}=t,c={...t};if(!r&&n&&!Q_(n)&&!Oa(n)&&!si(n)&&(H(ibt(n)),delete c.aggregate),o&&(c.timeUnit=Oe(o)),a&&(c.field=`${a}`),Xt(i)&&(c.bin=vm(i,e)),Pe(i)&&!Se(e)&&H(Rbt(e)),gr(c)){const{type:u}=c,s=smt(u);u!==s&&(c.type=s),u!=="quantitative"&&t4(n)&&(H(obt(u,n)),c.type="quantitative")}else if(!Y6(e)){const u=nvt(c,e);c.type=u}if(gr(c)){const{compatible:u,warning:s}=ivt(c,e)||{};u===!1&&H(s)}if(k2(c)&&J(c.sort)){const{sort:u}=c;if(AN(u))return{...c,sort:{encoding:u}};const s=u.substr(1);if(u.charAt(0)==="-"&&AN(s))return{...c,sort:{encoding:s,order:"descending"}}}if(w2(c)){const{header:u}=c;if(u){const{orient:s,...l}=u;if(s)return{...c,header:{...l,labelOrient:u.labelOrient||s,titleOrient:u.titleOrient||s}}}}return c}function vm(t,e){return fa(t)?{maxbins:pN(e)}:t==="binned"?{binned:!0}:!t.maxbins&&!t.step?{...t,maxbins:pN(e)}:t}const su={compatible:!0};function ivt(t,e){const r=t.type;if(r==="geojson"&&e!=="shape")return{compatible:!1,warning:`Channel ${e} should not be used with a geojson data.`};switch(e){case ri:case ni:case tm:return Eg(t)?su:{compatible:!1,warning:lbt(e)};case te:case Ee:case ya:case js:case Tr:case No:case Do:case yf:case xf:case em:case Ec:case rm:case nm:case qc:case hn:case Hn:case om:return su;case Yn:case dn:case Gn:case Vn:return r!==$c?{compatible:!1,warning:`Channel ${e} should be used with a quantitative field only, not ${t.type} field.`}:su;case mi:case xa:case wa:case ka:case bi:case gi:case pi:case Wn:case Po:return r==="nominal"&&!t.sort?{compatible:!1,warning:`Channel ${e} should not be used with an unsorted discrete field.`}:su;case Mr:case _a:return!Eg(t)&&!Jmt(t)?{compatible:!1,warning:dbt(e)}:su;case os:return t.type==="nominal"&&!("sort"in t)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:su}}function ls(t){const{formatType:e}=Sg(t);return e==="time"||!e&&avt(t)}function avt(t){return t&&(t.type==="temporal"||G(t)&&!!t.timeUnit)}function ym(t,{timeUnit:e,type:r,wrapTime:n,undefinedIfExprNotRequired:o}){var u;const i=e&&((u=Oe(e))==null?void 0:u.unit);let a=i||r==="temporal",c;return wf(t)?c=t.expr:at(t)?c=t.signal:Gc(t)?(a=!0,c=Sc(t)):(J(t)||Bt(t))&&a&&(c=`datetime(${Vt(t)})`,Kbt(i)&&(Bt(t)&&t<1e4||J(t)&&isNaN(Date.parse(t)))&&(c=Sc({[i]:t}))),c?n&&a?`time(${c})`:c:o?void 0:Vt(t)}function nL(t,e){const{type:r}=t;return e.map(n=>{const o=G(t)&&!Yc(t.timeUnit)?t.timeUnit:void 0,i=ym(n,{timeUnit:o,type:r,undefinedIfExprNotRequired:!0});return i!==void 0?{signal:i}:n})}function Sf(t,e){return Xt(t.bin)?vi(e)&&["ordinal","nominal"].includes(t.type):(console.warn("Only call this method for binned field defs."),!1)}const DN={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function $f(t){return t==null?void 0:t.condition}const oL=["domain","grid","labels","ticks","title"],cvt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},iL={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},uvt={...iL,style:1,labelExpr:1,encoding:1};function jN(t){return!!uvt[t]}const svt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},aL=B(svt);function yi(t){return"mark"in t}class xm{constructor(e,r){this.name=e,this.run=r}hasMatchingType(e){return yi(e)?Rmt(e.mark)===this.name:!1}}function sc(t,e){const r=t&&t[e];return r?L(r)?_c(r,n=>!!n.field):G(r)||mm(r):!1}function cL(t,e){const r=t&&t[e];return r?L(r)?_c(r,n=>!!n.field):G(r)||Mo(r)||Ef(r):!1}function x1(t,e){if(Se(e)){const r=t[e];if((G(r)||Mo(r))&&(C4(r.type)||G(r)&&r.timeUnit)){const n=Y_(e);return cL(t,n)}}return!1}function S2(t){return _c(lgt,e=>{if(sc(t,e)){const r=t[e];if(L(r))return _c(r,n=>!!n.aggregate);{const n=ko(r);return n&&!!n.aggregate}}return!1})}function uL(t,e){const r=[],n=[],o=[],i=[],a={};return $2(t,(c,u)=>{if(G(c)){const{field:s,aggregate:l,bin:d,timeUnit:f,...h}=c;if(l||f||d){const p=_2(c),g=p==null?void 0:p.title;let b=Q(c,{forAs:!0});const m={...g?[]:{title:Nu(c,e,{allowDisabling:!0})},...h,field:b};if(l){let v;if(Oa(l)?(v="argmax",b=Q({op:"argmax",field:l.argmax},{forAs:!0}),m.field=`${b}.${s}`):si(l)?(v="argmin",b=Q({op:"argmin",field:l.argmin},{forAs:!0}),m.field=`${b}.${s}`):l!=="boxplot"&&l!=="errorbar"&&l!=="errorband"&&(v=l),v){const y={op:v,as:b};s&&(y.field=s),i.push(y)}}else if(r.push(b),gr(c)&&Xt(d)){if(n.push({bin:d,field:s,as:b}),r.push(Q(c,{binSuffix:"end"})),Sf(c,u)&&r.push(Q(c,{binSuffix:"range"})),Se(u)){const v={field:`${b}_end`};a[`${u}2`]=v}m.bin="binned",Y6(u)||(m.type=$c)}else if(f&&!Yc(f)){o.push({timeUnit:f,field:s,as:b});const v=gr(c)&&c.type!==as&&"time";v&&(u===yf||u===Ec?m.formatType=v:ygt(u)?m.legend={formatType:v,...m.legend}:Se(u)&&(m.axis={formatType:v,...m.axis}))}a[u]=m}else r.push(s),a[u]=t[u]}else a[u]=t[u]}),{bins:n,timeUnits:o,aggregate:i,groupby:r,encoding:a}}function lvt(t,e,r){const n=wgt(e,r);if(n){if(n==="binned"){const o=t[e===Wn?te:Ee];return!!(G(o)&&G(t[e])&&Pe(o.bin))}}else return!1;return!0}function dvt(t,e,r,n){const o={};for(const i of B(t))G6(i)||H(sbt(i));for(let i of ggt){if(!t[i])continue;const a=t[i];if(Ts(i)){const c=X6(i),u=o[c];if(G(u)){if(umt(u.type)&&G(a)&&!u.timeUnit){H(ebt(c));continue}}else i=c,H(rbt(c))}if(i==="angle"&&e==="arc"&&!t.theta&&(H(tbt),i=hn),!lvt(t,i,e)){H(um(i,e));continue}if(i===bi&&e==="line"){const c=ko(t[i]);if(c!=null&&c.aggregate){H(cbt);continue}}if(i===Tr&&(r?"fill"in t:"stroke"in t)){H(f4("encoding",{fill:"fill"in t,stroke:"stroke"in t}));continue}if(i===xf||i===os&&!L(a)&&!Ln(a)||i===Ec&&L(a)){if(a){if(i===os){const c=t[i];if(K4(c)){o[i]=c;continue}}o[i]=Z(a).reduce((c,u)=>(G(u)?c.push(E2(u,i)):H(b1(u,i)),c),[])}}else{if(i===Ec&&a===null)o[i]=null;else if(!G(a)&&!Mo(a)&&!Ln(a)&&!bm(a)&&!at(a)){H(b1(a,i));continue}o[i]=rL(a,i,n)}}return o}function wm(t,e){const r={};for(const n of B(t)){const o=rL(t[n],n,e,{compositeMark:!0});r[n]=o}return r}function fvt(t){const e=[];for(const r of B(t))if(sc(t,r)){const n=t[r],o=Z(n);for(const i of o)G(i)?e.push(i):mm(i)&&e.push(i.condition)}return e}function $2(t,e,r){if(t)for(const n of B(t)){const o=t[n];if(L(o))for(const i of o)e.call(r,i,n);else e.call(r,o,n)}}function hvt(t,e,r,n){return t?B(t).reduce((o,i)=>{const a=t[i];return L(a)?a.reduce((c,u)=>e.call(n,c,u,i),o):e.call(n,o,a,i)},r):r}function sL(t,e){return B(e).reduce((r,n)=>{switch(n){case te:case Ee:case rm:case om:case nm:case Wn:case Po:case ya:case js:case hn:case gi:case Hn:case pi:case Gn:case Yn:case Vn:case dn:case yf:case Mr:case qc:case Ec:return r;case os:if(t==="line"||t==="trail")return r;case xf:case em:{const o=e[n];if(L(o)||G(o))for(const i of Z(o))i.aggregate||r.push(Q(i,{}));return r}case bi:if(t==="trail")return r;case Tr:case No:case Do:case mi:case xa:case wa:case _a:case ka:{const o=ko(e[n]);return o&&!o.aggregate&&r.push(Q(o,{})),r}}},[])}function pvt(t){const{tooltip:e,...r}=t;if(!e)return{filteredEncoding:r};let n,o;if(L(e)){for(const i of e)i.aggregate?(n||(n=[]),n.push(i)):(o||(o=[]),o.push(i));n&&(r.tooltip=n)}else e.aggregate?r.tooltip=e:o=e;return L(o)&&o.length===1&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:r}}function w1(t,e,r,n=!0){if("tooltip"in r)return{tooltip:r.tooltip};const o=t.map(({fieldPrefix:a,titlePrefix:c})=>{const u=n?` of ${C2(e)}`:"";return{field:a+e.field,type:e.type,title:at(c)?{signal:`${c}"${escape(u)}"`}:c+u}}),i=fvt(r).map(Kmt);return{tooltip:[...o,...co(i,Ot)]}}function C2(t){const{title:e,field:r}=t;return ue(e,r)}function A2(t,e,r,n,o){const{scale:i,axis:a}=r;return({partName:c,mark:u,positionPrefix:s,endPositionPrefix:l=void 0,extraEncoding:d={}})=>{const f=C2(r);return lL(t,c,o,{mark:u,encoding:{[e]:{field:`${s}_${r.field}`,type:r.type,...f!==void 0?{title:f}:{},...i!==void 0?{scale:i}:{},...a!==void 0?{axis:a}:{}},...J(l)?{[`${e}2`]:{field:`${l}_${r.field}`}}:{},...n,...d}})}}function lL(t,e,r,n){const{clip:o,color:i,opacity:a}=t,c=t.type;return t[e]||t[e]===void 0&&r[e]?[{...n,mark:{...r[e],...o?{clip:o}:{},...i?{color:i}:{},...a?{opacity:a}:{},...wo(n.mark)?n.mark:{type:n.mark},style:`${c}-${String(e)}`,...fa(t[e])?{}:t[e]}}]:[]}function dL(t,e,r){const{encoding:n}=t,o=e==="vertical"?"y":"x",i=n[o],a=n[`${o}2`],c=n[`${o}Error`],u=n[`${o}Error2`];return{continuousAxisChannelDef:dh(i,r),continuousAxisChannelDef2:dh(a,r),continuousAxisChannelDefError:dh(c,r),continuousAxisChannelDefError2:dh(u,r),continuousAxis:o}}function dh(t,e){if(t!=null&&t.aggregate){const{aggregate:r,...n}=t;return r!==e&&H(zbt(r,e)),n}else return t}function fL(t,e){const{mark:r,encoding:n}=t,{x:o,y:i}=n;if(wo(r)&&r.orient)return r.orient;if(Bi(o)){if(Bi(i)){const a=G(o)&&o.aggregate,c=G(i)&&i.aggregate;if(!a&&c===e)return"vertical";if(!c&&a===e)return"horizontal";if(a===e&&c===e)throw new Error("Both x and y cannot have aggregate");return ls(i)&&!ls(o)?"horizontal":"vertical"}return"horizontal"}else{if(Bi(i))return"vertical";throw new Error(`Need a valid continuous axis for ${e}s`)}}const Cg="boxplot",gvt=["box","median","outliers","rule","ticks"],bvt=new xm(Cg,pL);function hL(t){return Bt(t)?"tukey":t}function pL(t,{config:e}){t={...t,encoding:wm(t.encoding,e)};const{mark:r,encoding:n,params:o,projection:i,...a}=t,c=wo(r)?r:{type:r};o&&H(l4("boxplot"));const u=c.extent??e.boxplot.extent,s=Lt("size",c,e),l=c.invalid,d=hL(u),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:b,groupby:m,aggregate:v,encodingWithoutContinuousAxis:y,ticksOrient:x,boxOrient:k,customTooltipWithoutAggregatedField:_}=mvt(t,u,e),{color:w,size:O,...C}=y,S=er=>A2(c,b,g,er,e.boxplot),A=S(C),T=S(y),$=S({...C,...O?{size:O}:{}}),P=w1([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,y),E={type:"tick",color:"black",opacity:1,orient:x,invalid:l,aria:!1},N=d==="min-max"?P:w1([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,y),D=[...A({partName:"rule",mark:{type:"rule",invalid:l,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:N}),...A({partName:"rule",mark:{type:"rule",invalid:l,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:N}),...A({partName:"ticks",mark:E,positionPrefix:"lower_whisker",extraEncoding:N}),...A({partName:"ticks",mark:E,positionPrefix:"upper_whisker",extraEncoding:N})],F=[...d!=="tukey"?D:[],...T({partName:"box",mark:{type:"bar",...s?{size:s}:{},orient:k,invalid:l,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:P}),...$({partName:"median",mark:{type:"tick",invalid:l,...tt(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},...s?{size:s}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:P})];if(d==="min-max")return{...a,transform:(a.transform??[]).concat(p),layer:F};const I=`datum["lower_box_${g.field}"]`,rt=`datum["upper_box_${g.field}"]`,it=`(${rt} - ${I})`,gt=`${I} - ${u} * ${it}`,Pt=`${rt} + ${u} * ${it}`,_t=`datum["${g.field}"]`,Gt={joinaggregate:gL(g.field),groupby:m},Fo={transform:[{filter:`(${gt} <= ${_t}) && (${_t} <= ${Pt})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${g.field}`},{op:"max",field:g.field,as:`upper_whisker_${g.field}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${g.field}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${g.field}`},...v],groupby:m}],layer:D},{tooltip:Qc,...$a}=C,{scale:et,axis:vt}=g,xt=C2(g),Y=Sr(vt,["title"]),Ae=lL(c,"outliers",e.boxplot,{transform:[{filter:`(${_t} < ${gt}) || (${_t} > ${Pt})`}],mark:"point",encoding:{[b]:{field:g.field,type:g.type,...xt!==void 0?{title:xt}:{},...et!==void 0?{scale:et}:{},...qt(Y)?{}:{axis:Y}},...$a,...w?{color:w}:{},..._?{tooltip:_}:{}}})[0];let Mt;const ze=[...f,...h,Gt];return Ae?Mt={transform:ze,layer:[Ae,Fo]}:(Mt=Fo,Mt.transform.unshift(...ze)),{...a,layer:[Mt,{transform:p,layer:F}]}}function gL(t){return[{op:"q1",field:t,as:`lower_box_${t}`},{op:"q3",field:t,as:`upper_box_${t}`}]}function mvt(t,e,r){const n=fL(t,Cg),{continuousAxisChannelDef:o,continuousAxis:i}=dL(t,n,Cg),a=o.field,c=hL(e),u=[...gL(a),{op:"median",field:a,as:`mid_box_${a}`},{op:"min",field:a,as:(c==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:a,as:(c==="min-max"?"upper_whisker_":"max_")+a}],s=c==="min-max"||c==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${e}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${e}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[i]:l,...d}=t.encoding,{customTooltipWithoutAggregatedField:f,filteredEncoding:h}=pvt(d),{bins:p,timeUnits:g,aggregate:b,groupby:m,encoding:v}=uL(h,r),y=n==="vertical"?"horizontal":"vertical",x=n,k=[...p,...g,{aggregate:[...b,...u],groupby:m},...s];return{bins:p,timeUnits:g,transform:k,groupby:m,aggregate:b,continuousAxisChannelDef:o,continuousAxis:i,encodingWithoutContinuousAxis:v,ticksOrient:y,boxOrient:x,customTooltipWithoutAggregatedField:f}}const P2="errorbar",vvt=["ticks","rule"],yvt=new xm(P2,bL);function bL(t,{config:e}){t={...t,encoding:wm(t.encoding,e)};const{transform:r,continuousAxisChannelDef:n,continuousAxis:o,encodingWithoutContinuousAxis:i,ticksOrient:a,markDef:c,outerSpec:u,tooltipEncoding:s}=mL(t,P2,e);delete i.size;const l=A2(c,o,n,i,e.errorbar),d=c.thickness,f=c.size,h={type:"tick",orient:a,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...l({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:s}),...l({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:s}),...l({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s})];return{...u,transform:r,...p.length>1?{layer:p}:{...p[0]}}}function xvt(t,e){const{encoding:r}=t;if(wvt(r))return{orient:fL(t,e),inputType:"raw"};const n=kvt(r),o=_vt(r),i=r.x,a=r.y;if(n){if(o)throw new Error(`${e} cannot be both type aggregated-upper-lower and aggregated-error`);const c=r.x2,u=r.y2;if(pt(c)&&pt(u))throw new Error(`${e} cannot have both x2 and y2`);if(pt(c)){if(Bi(i))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${e}`)}else if(pt(u)){if(Bi(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${e}`)}throw new Error("No ranged axis")}else{const c=r.xError,u=r.xError2,s=r.yError,l=r.yError2;if(pt(u)&&!pt(c))throw new Error(`${e} cannot have xError2 without xError`);if(pt(l)&&!pt(s))throw new Error(`${e} cannot have yError2 without yError`);if(pt(c)&&pt(s))throw new Error(`${e} cannot have both xError and yError with both are quantiative`);if(pt(c)){if(Bi(i))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(pt(s)){if(Bi(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function wvt(t){return(pt(t.x)||pt(t.y))&&!pt(t.x2)&&!pt(t.y2)&&!pt(t.xError)&&!pt(t.xError2)&&!pt(t.yError)&&!pt(t.yError2)}function kvt(t){return pt(t.x2)||pt(t.y2)}function _vt(t){return pt(t.xError)||pt(t.xError2)||pt(t.yError)||pt(t.yError2)}function mL(t,e,r){const{mark:n,encoding:o,params:i,projection:a,...c}=t,u=wo(n)?n:{type:n};i&&H(l4(e));const{orient:s,inputType:l}=xvt(t,e),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=dL(t,s,e),{errorBarSpecificAggregate:b,postAggregateCalculates:m,tooltipSummary:v,tooltipTitleWithFieldName:y}=Ovt(u,d,f,h,p,l,e,r),{[g]:x,[g==="x"?"x2":"y2"]:k,[g==="x"?"xError":"yError"]:_,[g==="x"?"xError2":"yError2"]:w,...O}=o,{bins:C,timeUnits:S,aggregate:A,groupby:T,encoding:$}=uL(O,r),P=[...A,...b],E=l!=="raw"?[]:T,N=w1(v,d,$,y);return{transform:[...c.transform??[],...C,...S,...P.length===0?[]:[{aggregate:P,groupby:E}],...m],groupby:E,continuousAxisChannelDef:d,continuousAxis:g,encodingWithoutContinuousAxis:$,ticksOrient:s==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:c,tooltipEncoding:N}}function Ovt(t,e,r,n,o,i,a,c){let u=[],s=[];const l=e.field;let d,f=!1;if(i==="raw"){const h=t.center?t.center:t.extent?t.extent==="iqr"?"median":"mean":c.errorbar.center,p=t.extent?t.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&H(Fbt(h,p,a)),p==="stderr"||p==="stdev")u=[{op:p,field:l,as:`extent_${l}`},{op:h,field:l,as:`center_${l}`}],s=[{calculate:`datum["center_${l}"] + datum["extent_${l}"]`,as:`upper_${l}`},{calculate:`datum["center_${l}"] - datum["extent_${l}"]`,as:`lower_${l}`}],d=[{fieldPrefix:"center_",titlePrefix:vf(h)},{fieldPrefix:"upper_",titlePrefix:TN(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:TN(h,p,"-")}],f=!0;else{let g,b,m;p==="ci"?(g="mean",b="ci0",m="ci1"):(g="median",b="q1",m="q3"),u=[{op:b,field:l,as:`lower_${l}`},{op:m,field:l,as:`upper_${l}`},{op:g,field:l,as:`center_${l}`}],d=[{fieldPrefix:"upper_",titlePrefix:Nu({field:l,aggregate:m,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Nu({field:l,aggregate:b,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Nu({field:l,aggregate:g,type:"quantitative"},c,{allowDisabling:!1})}]}}else{(t.center||t.extent)&&H(Mbt(t.center,t.extent)),i==="aggregated-upper-lower"?(d=[],s=[{calculate:`datum["${r.field}"]`,as:`upper_${l}`},{calculate:`datum["${l}"]`,as:`lower_${l}`}]):i==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:l}],s=[{calculate:`datum["${l}"] + datum["${n.field}"]`,as:`upper_${l}`}],o?s.push({calculate:`datum["${l}"] + datum["${o.field}"]`,as:`lower_${l}`}):s.push({calculate:`datum["${l}"] - datum["${n.field}"]`,as:`lower_${l}`}));for(const h of s)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Oc(Oc(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:s,errorBarSpecificAggregate:u,tooltipSummary:d,tooltipTitleWithFieldName:f}}function TN(t,e,r){return`${vf(t)} ${r} ${e}`}const N2="errorband",Evt=["band","borders"],Svt=new xm(N2,vL);function vL(t,{config:e}){t={...t,encoding:wm(t.encoding,e)};const{transform:r,continuousAxisChannelDef:n,continuousAxis:o,encodingWithoutContinuousAxis:i,markDef:a,outerSpec:c,tooltipEncoding:u}=mL(t,N2,e),s=a,l=A2(s,o,n,i,e.errorband),d=t.encoding.x!==void 0&&t.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...s.interpolate?{interpolate:s.interpolate}:{},...s.tension&&s.interpolate?{tension:s.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):s.interpolate?H(EN("interpolate")):s.tension&&H(EN("tension")),{...c,transform:r,layer:[...l({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...l({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:u}),...l({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:u})]}}const yL={};function D2(t,e,r){const n=new xm(t,e);yL[t]={normalizer:n,parts:r}}function $vt(){return B(yL)}D2(Cg,pL,gvt);D2(P2,bL,vvt);D2(N2,vL,Evt);const Cvt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],xL={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},wL={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Avt=B(xL),Pvt=B(wL),Nvt={header:1,headerRow:1,headerColumn:1,headerFacet:1},kL=B(Nvt),_L=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Dvt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},jvt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},In="_vgsid_",Tvt={point:{on:"click",fields:[In],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function j2(t){return t==="legend"||!!(t!=null&&t.legend)}function n0(t){return j2(t)&&tt(t)}function T2(t){return!!(t!=null&&t.select)}function OL(t){const e=[];for(const r of t||[]){if(T2(r))continue;const{expr:n,bind:o,...i}=r;if(o&&n){const a={...i,bind:o,init:n};e.push(a)}else{const a={...i,...n?{update:n}:{},...o?{bind:o}:{}};e.push(a)}}return e}function Mvt(t){return km(t)||F2(t)||M2(t)}function M2(t){return"concat"in t}function km(t){return"vconcat"in t}function F2(t){return"hconcat"in t}function EL({step:t,offsetIsDiscrete:e}){return e?t.for??"offset":"position"}function _o(t){return tt(t)&&t.step!==void 0}function MN(t){return t.view||t.width||t.height}const FN=20,Fvt={align:1,bounds:1,center:1,columns:1,spacing:1},zvt=B(Fvt);function Rvt(t,e,r){const n=r[e],o={},{spacing:i,columns:a}=n;i!==void 0&&(o.spacing=i),a!==void 0&&(gm(t)&&!Of(t.facet)||M2(t))&&(o.columns=a),km(t)&&(o.columns=1);for(const c of zvt)if(t[c]!==void 0)if(c==="spacing"){const u=t[c];o[c]=Bt(u)?u:{row:u.row??i,column:u.column??i}}else o[c]=t[c];return o}function k1(t,e){return t[e]??t[e==="width"?"continuousWidth":"continuousHeight"]}function Ag(t,e){const r=Pg(t,e);return _o(r)?r.step:SL}function Pg(t,e){const r=t[e]??t[e==="width"?"discreteWidth":"discreteHeight"];return ue(r,{step:t.step})}const SL=20,Lvt={continuousWidth:200,continuousHeight:200,step:SL},Ivt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:Lvt,mark:Dmt,arc:{},area:{},bar:Mmt,circle:{},geoshape:{},image:{},line:{},point:{},rect:Fmt,rule:{color:"black"},square:{},text:{color:"black"},tick:zmt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:pmt,projection:{},legend:Dvt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Tvt,style:{},title:{},facet:{spacing:FN},concat:{spacing:FN},normalizedNumberFormat:".0%"},Io=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],zN={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},RN={blue:Io[0],orange:Io[1],red:Io[2],teal:Io[3],green:Io[4],yellow:Io[5],purple:Io[6],pink:Io[7],brown:Io[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Bvt(t={}){return{signals:[{name:"color",value:tt(t)?{...RN,...t}:RN}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Uvt(t){return{signals:[{name:"fontSize",value:tt(t)?{...zN,...t}:zN}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function qvt(t){return{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}}function $L(t){const e=B(t||{}),r={};for(const n of e){const o=t[n];r[n]=$f(o)?n4(o):Ur(o)}return r}function Wvt(t){const e=B(t),r={};for(const n of e)r[n]=$L(t[n]);return r}const Hvt=[...R4,...aL,...kL,"background","padding","legend","lineBreak","scale","style","title","view"];function CL(t={}){const{color:e,font:r,fontSize:n,selection:o,...i}=t,a=vs({},ht(Ivt),r?qvt(r):{},e?Bvt(e):{},n?Uvt(n):{},i||{});o&&ys(a,"selection",o,!0);const c=Sr(a,Hvt);for(const u of["background","lineBreak","padding"])a[u]&&(c[u]=Ur(a[u]));for(const u of R4)a[u]&&(c[u]=wr(a[u]));for(const u of aL)a[u]&&(c[u]=$L(a[u]));for(const u of kL)a[u]&&(c[u]=wr(a[u]));return a.legend&&(c.legend=wr(a.legend)),a.scale&&(c.scale=wr(a.scale)),a.style&&(c.style=Wvt(a.style)),a.title&&(c.title=wr(a.title)),a.view&&(c.view=wr(a.view)),c}const Gvt=new Set(["view",...Smt]),Yvt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Vvt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Nmt};function Xvt(t){t=ht(t);for(const e of Yvt)delete t[e];if(t.axis)for(const e in t.axis)$f(t.axis[e])&&delete t.axis[e];if(t.legend)for(const e of Cvt)delete t.legend[e];if(t.mark){for(const e of $N)delete t.mark[e];t.mark.tooltip&&tt(t.mark.tooltip)&&delete t.mark.tooltip}t.params&&(t.signals=(t.signals||[]).concat(OL(t.params)),delete t.params);for(const e of Gvt){for(const n of $N)delete t[e][n];const r=Vvt[e];if(r)for(const n of r)delete t[e][n];Qvt(t,e)}for(const e of $vt())delete t[e];Kvt(t);for(const e in t)tt(t[e])&&qt(t[e])&&delete t[e];return qt(t)?void 0:t}function Kvt(t){const{titleMarkConfig:e,subtitleMarkConfig:r,subtitle:n}=r4(t.title);qt(e)||(t.style["group-title"]={...t.style["group-title"],...e}),qt(r)||(t.style["group-subtitle"]={...t.style["group-subtitle"],...r}),qt(n)?delete t.title:t.title=n}function Qvt(t,e,r,n){const o=n?t[e][n]:t[e];e==="view"&&(r="cell");const i={...o,...t.style[r??e]};qt(i)||(t.style[r??e]=i),n||delete t[e]}function _m(t){return"layer"in t}function Jvt(t){return"repeat"in t}function Zvt(t){return!L(t.repeat)&&t.repeat.layer}class z2{map(e,r){return gm(e)?this.mapFacet(e,r):Jvt(e)?this.mapRepeat(e,r):F2(e)?this.mapHConcat(e,r):km(e)?this.mapVConcat(e,r):M2(e)?this.mapConcat(e,r):this.mapLayerOrUnit(e,r)}mapLayerOrUnit(e,r){if(_m(e))return this.mapLayer(e,r);if(yi(e))return this.mapUnit(e,r);throw new Error(J_(e))}mapLayer(e,r){return{...e,layer:e.layer.map(n=>this.mapLayerOrUnit(n,r))}}mapHConcat(e,r){return{...e,hconcat:e.hconcat.map(n=>this.map(n,r))}}mapVConcat(e,r){return{...e,vconcat:e.vconcat.map(n=>this.map(n,r))}}mapConcat(e,r){const{concat:n,...o}=e;return{...o,concat:n.map(i=>this.map(i,r))}}mapFacet(e,r){return{...e,spec:this.map(e.spec,r)}}mapRepeat(e,r){return{...e,spec:this.map(e.spec,r)}}}const t0t={zero:1,center:1,normalize:1};function e0t(t){return t in t0t}const r0t=new Set([M4,dm,lm,kg,hm,p2,g2,fm,F4,h2]),n0t=new Set([dm,lm,M4]);function lu(t){return G(t)&&us(t)==="quantitative"&&!t.bin}function LN(t,e,{orient:r,type:n}){const o=e==="x"?"y":"radius",i=e==="x",a=t[e],c=t[o];if(G(a)&&G(c))if(lu(a)&&lu(c)){if(a.stack)return e;if(c.stack)return o;const u=G(a)&&!!a.aggregate,s=G(c)&&!!c.aggregate;if(u!==s)return u?e:o;if(i&&["bar","area"].includes(n)){if(r==="vertical")return o;if(r==="horizontal")return e}}else{if(lu(a))return e;if(lu(c))return o}else{if(lu(a))return e;if(lu(c))return o}}function o0t(t){switch(t){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function AL(t,e){var f,h;const r=wo(t)?t:{type:t},n=r.type;if(!r0t.has(n))return null;const o=LN(e,"x",r)||LN(e,"theta",r);if(!o)return null;const i=e[o],a=G(i)?Q(i,{}):void 0,c=o0t(o),u=[],s=new Set;if(e[c]){const p=e[c],g=G(p)?Q(p,{}):void 0;g&&g!==a&&(u.push(c),s.add(g));const b=c==="x"?"xOffset":"yOffset",m=e[b],v=G(m)?Q(m,{}):void 0;v&&v!==a&&(u.push(b),s.add(v))}const l=bgt.reduce((p,g)=>{if(g!=="tooltip"&&sc(e,g)){const b=e[g];for(const m of Z(b)){const v=ko(m);if(v.aggregate)continue;const y=Q(v,{});(!y||!s.has(y))&&p.push({channel:g,fieldDef:v})}}return p},[]);let d;return i.stack!==void 0?fa(i.stack)?d=i.stack?"zero":null:d=i.stack:n0t.has(n)&&(d="zero"),!d||!e0t(d)||S2(e)&&l.length===0?null:(f=i==null?void 0:i.scale)!=null&&f.type&&((h=i==null?void 0:i.scale)==null?void 0:h.type)!==$r.LINEAR?(i!=null&&i.stack&&H(Dbt(i.scale.type)),null):pt(e[jo(o)])?(i.stack!==void 0&&H(Nbt(o)),null):(G(i)&&i.aggregate&&!Cgt.has(i.aggregate)&&H(jbt(i.aggregate)),{groupbyChannels:u,groupbyFields:s,fieldChannel:o,impute:i.impute===null?!1:Sa(n),stackBy:l,offset:d})}function PL(t,e,r){const n=wr(t),o=Lt("orient",n,r);if(n.orient=u0t(n.type,e,o),o!==void 0&&o!==n.orient&&H(gbt(n.orient,o)),n.type==="bar"&&n.orient){const c=Lt("cornerRadiusEnd",n,r);if(c!==void 0){const u=n.orient==="horizontal"&&e.x2||n.orient==="vertical"&&e.y2?["cornerRadius"]:Tmt[n.orient];for(const s of u)n[s]=c;n.cornerRadiusEnd!==void 0&&delete n.cornerRadiusEnd}}return Lt("opacity",n,r)===void 0&&(n.opacity=a0t(n.type,e)),Lt("cursor",n,r)===void 0&&(n.cursor=i0t(n,e,r)),n}function i0t(t,e,r){return e.href||t.href||Lt("href",t,r)?"pointer":t.cursor}function a0t(t,e){if(Et([hm,h2,p2,g2],t)&&!S2(e))return .7}function c0t(t,e,{graticule:r}){if(r)return!1;const n=li("filled",t,e),o=t.type;return ue(n,o!==hm&&o!==fm&&o!==kg)}function u0t(t,e,r){switch(t){case hm:case p2:case g2:case F4:case Omt:case _mt:return}const{x:n,y:o,x2:i,y2:a}=e;switch(t){case dm:if(G(n)&&(Pe(n.bin)||G(o)&&o.aggregate&&!n.aggregate))return"vertical";if(G(o)&&(Pe(o.bin)||G(n)&&n.aggregate&&!o.aggregate))return"horizontal";if(a||i){if(r)return r;if(!i)return(G(n)&&n.type===$c&&!Xt(n.bin)||Og(n))&&G(o)&&Pe(o.bin)?"horizontal":"vertical";if(!a)return(G(o)&&o.type===$c&&!Xt(o.bin)||Og(o))&&G(n)&&Pe(n.bin)?"vertical":"horizontal"}case kg:if(i&&!(G(n)&&Pe(n.bin))&&a&&!(G(o)&&Pe(o.bin)))return;case lm:if(a)return G(o)&&Pe(o.bin)?"horizontal":"vertical";if(i)return G(n)&&Pe(n.bin)?"vertical":"horizontal";if(t===kg){if(n&&!o)return"vertical";if(o&&!n)return"horizontal"}case fm:case h2:{const c=NN(n),u=NN(o);if(r)return r;if(c&&!u)return t!=="tick"?"horizontal":"vertical";if(!c&&u)return t!=="tick"?"vertical":"horizontal";if(c&&u)return"vertical";{const s=gr(n)&&n.type===as,l=gr(o)&&o.type===as;if(s&&!l)return"vertical";if(!s&&l)return"horizontal"}return}}return"vertical"}function s0t(t){const{point:e,line:r,...n}=t;return B(n).length>1?n:n.type}function l0t(t){for(const e of["line","area","rule","trail"])t[e]&&(t={...t,[e]:Sr(t[e],["point","line"])});return t}function o0(t,e={},r){return t.point==="transparent"?{opacity:0}:t.point?tt(t.point)?t.point:{}:t.point!==void 0?null:e.point||r.shape?tt(e.point)?e.point:{}:void 0}function IN(t,e={}){return t.line?t.line===!0?{}:t.line:t.line!==void 0?null:e.line?e.line===!0?{}:e.line:void 0}class d0t{constructor(){this.name="path-overlay"}hasMatchingType(e,r){if(yi(e)){const{mark:n,encoding:o}=e,i=wo(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!o0(i,r[i.type],o);case"area":return!!o0(i,r[i.type],o)||!!IN(i,r[i.type])}}return!1}run(e,r,n){const{config:o}=r,{params:i,projection:a,mark:c,name:u,encoding:s,...l}=e,d=wm(s,o),f=wo(c)?c:{type:c},h=o0(f,o[f.type],d),p=f.type==="area"&&IN(f,o[f.type]),g=[{name:u,...i?{params:i}:{},mark:s0t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Sr(d,["shape"])}],b=AL(PL(f,d,o),d);let m=d;if(b){const{fieldChannel:v,offset:y}=b;m={...d,[v]:{...d[v],...y?{stack:y}:{}}}}return m=Sr(m,["y2","x2"]),p&&g.push({...a?{projection:a}:{},mark:{type:"line",...rs(f,["clip","interpolate","tension","tooltip"]),...p},encoding:m}),h&&g.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...rs(f,["clip","tooltip"]),...h},encoding:m}),n({...l,layer:g},{...r,config:l0t(o)})}}function f0t(t,e){return e?Of(t)?DL(t,e):NL(t,e):t}function i0(t,e){return e?DL(t,e):t}function _1(t,e,r){const n=e[t];if(Vmt(n)){if(n.repeat in r)return{...e,[t]:r[n.repeat]};H(Ygt(n.repeat));return}return e}function NL(t,e){if(t=_1("field",t,e),t!==void 0){if(t===null)return null;if(k2(t)&&fo(t.sort)){const r=_1("field",t.sort,e);t={...t,...r?{sort:r}:{}}}return t}}function BN(t,e){if(G(t))return NL(t,e);{const r=_1("datum",t,e);return r!==t&&!r.type&&(r.type="nominal"),r}}function UN(t,e){if(pt(t)){const r=BN(t,e);if(r)return r;if(bm(t))return{condition:t.condition}}else{if(Ef(t)){const r=BN(t.condition,e);if(r)return{...t,condition:r};{const{condition:n,...o}=t;return o}}return t}}function DL(t,e){const r={};for(const n in t)if(lt(t,n)){const o=t[n];if(L(o))r[n]=o.map(i=>UN(i,e)).filter(i=>i);else{const i=UN(o,e);i!==void 0&&(r[n]=i)}}return r}class h0t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(yi(e)){const{encoding:r,mark:n}=e;if(n==="line"||wo(n)&&n.type==="line")for(const o of pgt){const i=Wc(o),a=r[i];if(r[o]&&(G(a)&&!Pe(a.bin)||Mo(a)))return!0}}return!1}run(e,r,n){const{encoding:o,mark:i}=e;return H(pbt(!!o.x2,!!o.y2)),n({...e,mark:tt(i)?{...i,type:"rule"}:"rule"},r)}}class p0t extends z2{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[bvt,yvt,Svt,new d0t,new h0t]}map(e,r){if(yi(e)){const n=sc(e.encoding,ri),o=sc(e.encoding,ni),i=sc(e.encoding,tm);if(n||o||i)return this.mapFacetedUnit(e,r)}return super.map(e,r)}mapUnit(e,r){const{parentEncoding:n,parentProjection:o}=r,i=i0(e.encoding,r.repeater),a={...e,...e.name?{name:[r.repeaterPrefix,e.name].filter(u=>u).join("_")}:{},...i?{encoding:i}:{}};if(n||o)return this.mapUnitWithParentEncodingOrProjection(a,r);const c=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,r.config))return u.run(a,r,c);return a}mapRepeat(e,r){return Zvt(e)?this.mapLayerRepeat(e,r):this.mapNonLayerRepeat(e,r)}mapLayerRepeat(e,r){const{repeat:n,spec:o,...i}=e,{row:a,column:c,layer:u}=n,{repeater:s={},repeaterPrefix:l=""}=r;return a||c?this.mapRepeat({...e,repeat:{...a?{row:a}:{},...c?{column:c}:{}},spec:{repeat:{layer:u},spec:o}},r):{...i,layer:u.map(d=>{const f={...s,layer:d},h=`${(o.name?`${o.name}_`:"")+l}child__layer_${Zt(d)}`,p=this.mapLayerOrUnit(o,{...r,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(e,r){const{repeat:n,spec:o,data:i,...a}=e;!L(n)&&e.columns&&(e=Sr(e,["columns"]),H(wN("repeat")));const c=[],{repeater:u={},repeaterPrefix:s=""}=r,l=!L(n)&&n.row||[u?u.row:null],d=!L(n)&&n.column||[u?u.column:null],f=L(n)&&n||[u?u.repeat:null];for(const p of f)for(const g of l)for(const b of d){const m={repeat:p,row:g,column:b,layer:u.layer},v=(o.name?`${o.name}_`:"")+s+"child__"+(L(n)?`${Zt(p)}`:(n.row?`row_${Zt(g)}`:"")+(n.column?`column_${Zt(b)}`:"")),y=this.map(o,{...r,repeater:m,repeaterPrefix:v});y.name=v,c.push(Sr(y,["data"]))}const h=L(n)?e.columns:n.column?n.column.length:1;return{data:o.data??i,align:"all",...a,columns:h,concat:c}}mapFacet(e,r){const{facet:n}=e;return Of(n)&&e.columns&&(e=Sr(e,["columns"]),H(wN("facet"))),super.mapFacet(e,r)}mapUnitWithParentEncodingOrProjection(e,r){const{encoding:n,projection:o}=e,{parentEncoding:i,parentProjection:a,config:c}=r,u=WN({parentProjection:a,projection:o}),s=qN({parentEncoding:i,encoding:i0(n,r.repeater)});return this.mapUnit({...e,...u?{projection:u}:{},...s?{encoding:s}:{}},{config:c})}mapFacetedUnit(e,r){const{row:n,column:o,facet:i,...a}=e.encoding,{mark:c,width:u,projection:s,height:l,view:d,params:f,encoding:h,...p}=e,{facetMapping:g,layout:b}=this.getFacetMappingAndLayout({row:n,column:o,facet:i},r),m=i0(a,r.repeater);return this.mapFacet({...p,...b,facet:g,spec:{...u?{width:u}:{},...l?{height:l}:{},...d?{view:d}:{},...s?{projection:s}:{},mark:c,encoding:m,...f?{params:f}:{}}},r)}getFacetMappingAndLayout(e,r){const{row:n,column:o,facet:i}=e;if(n||o){i&&H(fbt([...n?[ri]:[],...o?[ni]:[]]));const a={},c={};for(const u of[ri,ni]){const s=e[u];if(s){const{align:l,center:d,spacing:f,columns:h,...p}=s;a[u]=p;for(const g of["align","center","spacing"])s[g]!==void 0&&(c[g]??(c[g]={}),c[g][u]=s[g])}}return{facetMapping:a,layout:c}}else{const{align:a,center:c,spacing:u,columns:s,...l}=i;return{facetMapping:f0t(l,r.repeater),layout:{...a?{align:a}:{},...c?{center:c}:{},...u?{spacing:u}:{},...s?{columns:s}:{}}}}}mapLayer(e,{parentEncoding:r,parentProjection:n,...o}){const{encoding:i,projection:a,...c}=e,u={...o,parentEncoding:qN({parentEncoding:r,encoding:i,layer:!0}),parentProjection:WN({parentProjection:n,projection:a})};return super.mapLayer({...c,...e.name?{name:[u.repeaterPrefix,e.name].filter(s=>s).join("_")}:{}},u)}}function qN({parentEncoding:t,encoding:e={},layer:r}){let n={};if(t){const o=new Set([...B(t),...B(e)]);for(const i of o){const a=e[i],c=t[i];if(pt(a)){const u={...c,...a};n[i]=u}else Ef(a)?n[i]={...a,condition:{...c,...a.condition}}:a||a===null?n[i]=a:(r||Ln(c)||at(c)||pt(c)||L(c))&&(n[i]=c)}}else n=e;return!n||qt(n)?void 0:n}function WN(t){const{parentProjection:e,projection:r}=t;return e&&r&&H(Zgt({parentProjection:e,projection:r})),r??e}function R2(t){return"filter"in t}function g0t(t){return(t==null?void 0:t.stop)!==void 0}function jL(t){return"lookup"in t}function b0t(t){return"data"in t}function m0t(t){return"param"in t}function v0t(t){return"pivot"in t}function y0t(t){return"density"in t}function x0t(t){return"quantile"in t}function w0t(t){return"regression"in t}function k0t(t){return"loess"in t}function _0t(t){return"sample"in t}function O0t(t){return"window"in t}function E0t(t){return"joinaggregate"in t}function S0t(t){return"flatten"in t}function $0t(t){return"calculate"in t}function TL(t){return"bin"in t}function C0t(t){return"impute"in t}function A0t(t){return"timeUnit"in t}function P0t(t){return"aggregate"in t}function N0t(t){return"stack"in t}function D0t(t){return"fold"in t}function j0t(t){return"extent"in t&&!("density"in t)}function T0t(t){return t.map(e=>R2(e)?{filter:Au(e.filter,cmt)}:e)}class M0t extends z2{map(e,r){return r.emptySelections??(r.emptySelections={}),r.selectionPredicates??(r.selectionPredicates={}),e=HN(e,r),super.map(e,r)}mapLayerOrUnit(e,r){if(e=HN(e,r),e.encoding){const n={};for(const[o,i]of aa(e.encoding))n[o]=ML(i,r);e={...e,encoding:n}}return super.mapLayerOrUnit(e,r)}mapUnit(e,r){const{selection:n,...o}=e;return n?{...o,params:aa(n).map(([i,a])=>{const{init:c,bind:u,empty:s,...l}=a;l.type==="single"?(l.type="point",l.toggle=!1):l.type==="multi"&&(l.type="point"),r.emptySelections[i]=s!=="none";for(const d of Te(r.selectionPredicates[i]??{}))d.empty=s!=="none";return{name:i,value:c,select:l,bind:u}})}:e}}function HN(t,e){const{transform:r,...n}=t;if(r){const o=r.map(i=>{if(R2(i))return{filter:O1(i,e)};if(TL(i)&&Hc(i.bin))return{...i,bin:FL(i.bin)};if(jL(i)){const{selection:a,...c}=i.from;return a?{...i,from:{param:a,...c}}:i}return i});return{...n,transform:o}}return t}function ML(t,e){var n,o;const r=ht(t);if(G(r)&&Hc(r.bin)&&(r.bin=FL(r.bin)),Vc(r)&&((o=(n=r.scale)==null?void 0:n.domain)!=null&&o.selection)){const{selection:i,...a}=r.scale.domain;r.scale.domain={...a,...i?{param:i}:{}}}if(bm(r))if(L(r.condition))r.condition=r.condition.map(i=>{const{selection:a,param:c,test:u,...s}=i;return c?i:{...s,test:O1(i,e)}});else{const{selection:i,param:a,test:c,...u}=ML(r.condition,e);r.condition=a?r.condition:{...u,test:O1(r.condition,e)}}return r}function FL(t){const e=t.extent;if(e!=null&&e.selection){const{selection:r,...n}=e;return{...t,extent:{...n,param:r}}}return t}function O1(t,e){const r=n=>Au(n,o=>{var i;const a=e.emptySelections[o]??!0,c={param:o,empty:a};return(i=e.selectionPredicates)[o]??(i[o]=[]),e.selectionPredicates[o].push(c),c});return t.selection?r(t.selection):Au(t.test||t.filter,n=>n.selection?r(n.selection):n)}class E1 extends z2{map(e,r){const n=r.selections??[];if(e.params&&!yi(e)){const o=[];for(const i of e.params)T2(i)?n.push(i):o.push(i);e.params=o}return r.selections=n,super.map(e,r)}mapUnit(e,r){const n=r.selections;if(!n||!n.length)return e;const o=(r.path??[]).concat(e.name),i=[];for(const a of n)if(!a.views||!a.views.length)i.push(a);else for(const c of a.views)(J(c)&&(c===e.name||o.includes(c))||L(c)&&c.map(u=>o.indexOf(u)).every((u,s,l)=>u!==-1&&(s===0||u>l[s-1])))&&i.push(a);return i.length&&(e.params=i),e}}for(const t of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const e=E1.prototype[t];E1.prototype[t]=function(r,n){return e.call(this,r,F0t(r,n))}}function F0t(t,e){return t.name?{...e,path:(e.path??[]).concat(t.name)}:e}function zL(t,e){e===void 0&&(e=CL(t.config));const r=I0t(t,e),{width:n,height:o}=t,i=B0t(r,{width:n,height:o,autosize:t.autosize},e);return{...r,...i?{autosize:i}:{}}}const z0t=new p0t,R0t=new M0t,L0t=new E1;function I0t(t,e={}){const r={config:e};return L0t.map(z0t.map(R0t.map(t,r),r),r)}function GN(t){return J(t)?{type:t}:t??{}}function B0t(t,e,r){let{width:n,height:o}=e;const i=yi(t)||_m(t),a={};i?n=="container"&&o=="container"?(a.type="fit",a.contains="padding"):n=="container"?(a.type="fit-x",a.contains="padding"):o=="container"&&(a.type="fit-y",a.contains="padding"):(n=="container"&&(H(mN("width")),n=void 0),o=="container"&&(H(mN("height")),o=void 0));const c={type:"pad",...a,...r?GN(r.autosize):{},...GN(t.autosize)};if(c.type==="fit"&&!i&&(H(zgt),c.type="pad"),n=="container"&&!(c.type=="fit"||c.type=="fit-x")&&H(vN("width")),o=="container"&&!(c.type=="fit"||c.type=="fit-y")&&H(vN("height")),!ao(c,{type:"pad"}))return c}function U0t(t){return t==="fit"||t==="fit-x"||t==="fit-y"}function q0t(t){return t?`fit-${im(t)}`:"fit"}const W0t=["background","padding"];function YN(t,e){const r={};for(const n of W0t)t&&t[n]!==void 0&&(r[n]=Ur(t[n]));return e&&(r.params=t.params),r}class xi{constructor(e={},r={}){this.explicit=e,this.implicit=r}clone(){return new xi(ht(this.explicit),ht(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(e){return ue(this.explicit[e],this.implicit[e])}getWithExplicit(e){return this.explicit[e]!==void 0?{explicit:!0,value:this.explicit[e]}:this.implicit[e]!==void 0?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,{value:r,explicit:n}){r!==void 0&&this.set(e,r,n)}set(e,r,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=r,this}copyKeyFromSplit(e,{explicit:r,implicit:n}){r[e]!==void 0?this.set(e,r[e],!0):n[e]!==void 0&&this.set(e,n[e],!1)}copyKeyFromObject(e,r){r[e]!==void 0&&this.set(e,r[e],!0)}copyAll(e){for(const r of B(e.combine())){const n=e.getWithExplicit(r);this.setWithExplicit(r,n)}}}function to(t){return{explicit:!0,value:t}}function Lr(t){return{explicit:!1,value:t}}function RL(t){return(e,r,n,o)=>{const i=t(e.value,r.value);return i>0?e:i<0?r:Om(e,r,n,o)}}function Om(t,e,r,n){return t.explicit&&e.explicit&&H(Obt(r,n,t.value,e.value)),t}function ua(t,e,r,n,o=Om){return t===void 0||t.value===void 0?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:ao(t.value,e.value)?t:o(t,e,r,n)}class H0t extends xi{constructor(e={},r={},n=!1){super(e,r),this.explicit=e,this.implicit=r,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function ds(t){return"url"in t}function Pd(t){return"values"in t}function LL(t){return"name"in t&&!ds(t)&&!Pd(t)&&!Yi(t)}function Yi(t){return t&&(IL(t)||BL(t)||L2(t))}function IL(t){return"sequence"in t}function BL(t){return"sphere"in t}function L2(t){return"graticule"in t}var Yt;(function(t){t[t.Raw=0]="Raw",t[t.Main=1]="Main",t[t.Row=2]="Row",t[t.Column=3]="Column",t[t.Lookup=4]="Lookup"})(Yt||(Yt={}));function UL(t){const{signals:e,hasLegend:r,index:n,...o}=t;return o.field=ln(o.field),o}function Pc(t,e=!0,r=Ze){if(L(t)){const n=t.map(o=>Pc(o,e,r));return e?`[${n.join(", ")}]`:n}else if(Gc(t))return r(e?Sc(t):Xbt(t));return e?r(Vt(t)):t}function G0t(t,e){for(const r of Te(t.component.selection??{})){const n=r.name;let o=`${n}${la}, ${r.resolve==="global"?"true":`{unit: ${lc(t)}}`}`;for(const i of Sm)i.defined(r)&&(i.signals&&(e=i.signals(t,r,e)),i.modifyExpr&&(o=i.modifyExpr(t,r,o)));e.push({name:n+Oyt,on:[{events:{signal:r.name+la},update:`modify(${V(r.name+Nc)}, ${o})`}]})}return I2(e)}function Y0t(t,e){if(t.component.selection&&B(t.component.selection).length){const r=V(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:va("mousemove","scope"),update:`isTuple(facet) ? facet : group(${r}).datum`}]})}return I2(e)}function V0t(t,e){let r=!1;for(const n of Te(t.component.selection??{})){const o=n.name,i=V(o+Nc);if(e.filter(c=>c.name===o).length===0){const c=n.resolve==="global"?"union":n.resolve,u=n.type==="point"?", true, true)":")";e.push({name:n.name,update:`${iI}(${i}, ${V(c)}${u}`})}r=!0;for(const c of Sm)c.defined(n)&&c.topLevelSignals&&(e=c.topLevelSignals(t,n,e))}return r&&e.filter(o=>o.name==="unit").length===0&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),I2(e)}function X0t(t,e){const r=[...e],n=lc(t,{escape:!1});for(const o of Te(t.component.selection??{})){const i={name:o.name+Nc};if(o.project.hasSelectionId&&(i.transform=[{type:"collect",sort:{field:In}}]),o.init){const c=o.project.items.map(UL);i.values=o.project.hasSelectionId?o.init.map(u=>({unit:n,[In]:Pc(u,!1)[0]})):o.init.map(u=>({unit:n,fields:c,values:Pc(u,!1)}))}r.filter(c=>c.name===o.name+Nc).length||r.push(i)}return r}function qL(t,e){for(const r of Te(t.component.selection??{}))for(const n of Sm)n.defined(r)&&n.marks&&(e=n.marks(t,r,e));return e}function K0t(t,e){for(const r of t.children)oe(r)&&(e=qL(r,e));return e}function Q0t(t,e,r,n){const o=lI(t,e.param,e);return{signal:Kr(r.get("type"))&&L(n)&&n[0]>n[1]?`isValid(${o}) && reverse(${o})`:o}}function I2(t){return t.map(e=>(e.on&&!e.on.length&&delete e.on,e))}class Ut{constructor(e,r){this.debugName=r,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,r){if(this._children.includes(e)){H(Kgt);return}r!==void 0?this._children.splice(r,0,e):this._children.push(e)}removeChild(e){const r=this._children.indexOf(e);return this._children.splice(r,1),r}remove(){let e=this._parent.removeChild(this);for(const r of this._children)r._parent=this._parent,this._parent.addChild(r,e++)}insertAsParentOf(e){const r=e.parent;r.removeChild(this),this.parent=r,e.parent=this}swapWithParent(){const e=this._parent,r=e.parent;for(const o of this._children)o.parent=e;this._children=[],e.removeChild(this);const n=e.parent.removeChild(e);this._parent=r,r.addChild(this,n),e.parent=this}}class fr extends Ut{clone(){const e=new this.constructor;return e.debugName=`clone_${this.debugName}`,e._source=this._source,e._name=`clone_${this._name}`,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}constructor(e,r,n,o){super(e,r),this.type=n,this.refCounts=o,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${R6()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}function a0(t){return t.as!==void 0}function VN(t){return`${t}_end`}class ho extends Ut{clone(){return new ho(null,ht(this.formula))}constructor(e,r){super(e),this.formula=r}static makeFromEncoding(e,r){const n=r.reduceFieldDef((o,i)=>{const{field:a,timeUnit:c}=i;if(c){let u;if(Yc(c)){if(oe(r)){const{mark:s}=r;(b2(s)||i.bandPosition)&&(u={timeUnit:Oe(c),field:a})}}else u={as:Q(i,{forAs:!0}),field:a,timeUnit:c};u&&(o[Ot(u)]=u)}return o},{});return qt(n)?null:new ho(e,n)}static makeFromTransform(e,r){const{timeUnit:n,...o}={...r},i=Oe(n),a={...o,timeUnit:i};return new ho(e,{[Ot(a)]:a})}merge(e){this.formula={...this.formula};for(const r in e.formula)this.formula[r]||(this.formula[r]=e.formula[r]);for(const r of e.children)e.removeChild(r),r.parent=this;e.remove()}removeFormulas(e){const r={};for(const[n,o]of aa(this.formula)){const i=a0(o)?o.as:`${o.field}_end`;e.has(i)||(r[n]=o)}this.formula=r}producedFields(){return new Set(Te(this.formula).map(e=>a0(e)?e.as:VN(e.field)))}dependentFields(){return new Set(Te(this.formula).map(e=>e.field))}hash(){return`TimeUnit ${Ot(this.formula)}`}assemble(){const e=[];for(const r of Te(this.formula))if(a0(r)){const{field:n,as:o,timeUnit:i}=r,{unit:a,utc:c,...u}=Oe(i);e.push({field:ln(n),type:"timeunit",...a?{units:sm(a)}:{},...c?{timezone:"utc"}:{},...u,as:[o,`${o}_end`]})}else if(r){const{field:n,timeUnit:o}=r,i=w4(o==null?void 0:o.unit),{part:a,step:c}=E4(i,o.step);e.push({type:"formula",expr:`timeOffset('${a}', datum['${n}'], ${c})`,as:VN(n)})}return e}}const Cf="_tuple_fields";class J0t{constructor(...e){this.items=e,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Z0t={defined:()=>!0,parse:(t,e,r)=>{const n=e.name,o=e.project??(e.project=new J0t),i={},a={},c=new Set,u=(p,g)=>{const b=g==="visual"?p.channel:p.field;let m=Zt(`${n}_${b}`);for(let v=1;c.has(m);v++)m=Zt(`${n}_${b}_${v}`);return c.add(m),{[g]:m}},s=e.type,l=t.config.selection[s],d=r.value!==void 0?Z(r.value):null;let{fields:f,encodings:h}=tt(r.select)?r.select:{};if(!f&&!h&&d){for(const p of d)if(tt(p))for(const g of B(p))hgt(g)?(h||(h=[])).push(g):s==="interval"?(H(Ggt),h=l.encodings):(f??(f=[])).push(g)}!f&&!h&&(h=l.encodings,"fields"in l&&(f=l.fields));for(const p of h??[]){const g=t.fieldDef(p);if(g){let b=g.field;if(g.aggregate){H(Rgt(p,g.aggregate));continue}else if(!b){H(xN(p));continue}if(g.timeUnit&&!Yc(g.timeUnit)){b=t.vgField(p);const m={timeUnit:g.timeUnit,as:b,field:g.field};a[Ot(m)]=m}if(!i[b]){const m=s==="interval"&&vi(p)&&Kr(t.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:b,channel:p,type:m,index:o.items.length};v.signals={...u(v,"data"),...u(v,"visual")},o.items.push(i[b]=v),o.hasField[b]=i[b],o.hasSelectionId=o.hasSelectionId||b===In,W6(p)?(v.geoChannel=p,v.channel=q6(p),o.hasChannel[v.channel]=i[b]):o.hasChannel[p]=i[b]}}else H(xN(p))}for(const p of f??[]){if(o.hasField[p])continue;const g={type:"E",field:p,index:o.items.length};g.signals={...u(g,"data")},o.items.push(g),o.hasField[p]=g,o.hasSelectionId=o.hasSelectionId||p===In}d&&(e.init=d.map(p=>o.items.map(g=>tt(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),qt(a)||(o.timeUnit=new ho(null,a))},signals:(t,e,r)=>{const n=e.name+Cf;return r.filter(i=>i.name===n).length>0||e.project.hasSelectionId?r:r.concat({name:n,value:e.project.items.map(UL)})}},oi={defined:t=>t.type==="interval"&&t.resolve==="global"&&t.bind&&t.bind==="scales",parse:(t,e)=>{const r=e.scales=[];for(const n of e.project.items){const o=n.channel;if(!vi(o))continue;const i=t.getScaleComponent(o),a=i?i.get("type"):void 0;if(!i||!Kr(a)){H(Bgt);continue}i.set("selectionExtent",{param:e.name,field:n.field},!0),r.push(n)}},topLevelSignals:(t,e,r)=>{const n=e.scales.filter(a=>r.filter(c=>c.name===a.signals.data).length===0);if(!t.parent||XN(t)||n.length===0)return r;const o=r.filter(a=>a.name===e.name)[0];let i=o.update;if(i.indexOf(iI)>=0)o.update=`{${n.map(a=>`${V(ln(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of n){const c=`${V(ln(a.field))}: ${a.signals.data}`;i.includes(c)||(i=`${i.substring(0,i.length-1)}, ${c}}`)}o.update=i}return r.concat(n.map(a=>({name:a.signals.data})))},signals:(t,e,r)=>{if(t.parent&&!XN(t))for(const n of e.scales){const o=r.filter(i=>i.name===n.signals.data)[0];o.push="outer",delete o.value,delete o.update}return r}};function S1(t,e){return`domain(${V(t.scaleName(e))})`}function XN(t){return t.parent&&Is(t.parent)&&!t.parent.parent}const Du="_brush",WL="_scale_trigger",hl="geo_interval_init_tick",HL="_init",tyt="_center",eyt={defined:t=>t.type==="interval",parse:(t,e,r)=>{var n;if(t.hasProjection){const o={...tt(r.select)?r.select:{}};o.fields=[In],o.encodings||(o.encodings=r.value?B(r.value):[Yn,Gn]),r.select={type:"interval",...o}}if(e.translate&&!oi.defined(e)){const o=`!event.item || event.item.mark.name !== ${V(e.name+Du)}`;for(const i of e.events){if(!i.between){H(`${i} is not an ordered event stream for interval selections.`);continue}const a=Z((n=i.between[0]).filter??(n.filter=[]));a.indexOf(o)<0&&a.push(o)}}},signals:(t,e,r)=>{const n=e.name,o=n+la,i=Te(e.project.hasChannel).filter(c=>c.channel===te||c.channel===Ee),a=e.init?e.init[0]:null;if(r.push(...i.reduce((c,u)=>c.concat(ryt(t,e,u,a&&a[u.index])),[])),t.hasProjection){const c=V(t.projectionName()),u=t.projectionName()+tyt,{x:s,y:l}=e.project.hasChannel,d=s&&s.signals.visual,f=l&&l.signals.visual,h=s?a&&a[s.index]:`${u}[0]`,p=l?a&&a[l.index]:`${u}[1]`,g=k=>t.getSizeSignalRef(k).signal,b=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":g("width")}, ${f?f+"[1]":g("height")}]]`;a&&(r.unshift({name:n+HL,init:`[scale(${c}, [${s?h[0]:h}, ${l?p[0]:p}]), scale(${c}, [${s?h[1]:h}, ${l?p[1]:p}])]`}),(!s||!l)&&(r.find(_=>_.name===u)||r.unshift({name:u,update:`invert(${c}, [${g("width")}/2, ${g("height")}/2])`})));const m=`intersect(${b}, {markname: ${V(t.getName("marks"))}}, unit.mark)`,v=`{unit: ${lc(t)}}`,y=`vlSelectionTuples(${m}, ${v})`,x=i.map(k=>k.signals.visual);return r.concat({name:o,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...a?[{signal:hl}]:[]],update:y}]})}else{if(!oi.defined(e)){const s=n+WL,l=i.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,g=V(t.scaleName(f)),b=t.getScaleComponent(f).get("type"),m=Kr(b)?"+":"";return`(!isArray(${h}) || (${m}invert(${g}, ${p})[0] === ${m}${h}[0] && ${m}invert(${g}, ${p})[1] === ${m}${h}[1]))`});l.length&&r.push({name:s,value:{},on:[{events:i.map(d=>({scale:t.scaleName(d.channel)})),update:l.join(" && ")+` ? ${s} : {}`}]})}const c=i.map(s=>s.signals.data),u=`unit: ${lc(t)}, fields: ${n+Cf}, values`;return r.concat({name:o,...a?{init:`{${u}: ${Pc(a)}}`}:{},...c.length?{on:[{events:[{signal:c.join(" || ")}],update:`${c.join(" && ")} ? {${u}: [${c}]} : null`}]}:{}})}},topLevelSignals:(t,e,r)=>(oe(t)&&t.hasProjection&&e.init&&(r.filter(o=>o.name===hl).length||r.unshift({name:hl,value:null,on:[{events:"timer{1}",update:`${hl} === null ? {} : ${hl}`}]})),r),marks:(t,e,r)=>{const n=e.name,{x:o,y:i}=e.project.hasChannel,a=o==null?void 0:o.signals.visual,c=i==null?void 0:i.signals.visual,u=`data(${V(e.name+Nc)})`;if(oi.defined(e)||!o&&!i)return r;const s={x:o!==void 0?{signal:`${a}[0]`}:{value:0},y:i!==void 0?{signal:`${c}[0]`}:{value:0},x2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"width"}},y2:i!==void 0?{signal:`${c}[1]`}:{field:{group:"height"}}};if(e.resolve==="global")for(const g of B(s))s[g]=[{test:`${u}.length && ${u}[0].unit === ${lc(t)}`,...s[g]},{value:0}];const{fill:l,fillOpacity:d,cursor:f,...h}=e.mark,p=B(h).reduce((g,b)=>(g[b]=[{test:[o!==void 0&&`${a}[0] !== ${a}[1]`,i!==void 0&&`${c}[0] !== ${c}[1]`].filter(m=>m).join(" && "),value:h[b]},{value:null}],g),{});return[{name:`${n+Du}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:l},fillOpacity:{value:d}},update:s}},...r,{name:n+Du,type:"rect",clip:!0,encode:{enter:{...f?{cursor:{value:f}}:{},fill:{value:"transparent"}},update:{...s,...p}}}]}};function ryt(t,e,r,n){const o=!t.hasProjection,i=r.channel,a=r.signals.visual,c=V(o?t.scaleName(i):t.projectionName()),u=f=>`scale(${c}, ${f})`,s=t.getSizeSignalRef(i===te?"width":"height").signal,l=`${i}(unit)`,d=e.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${l}, ${l}]`},{events:h,update:`[${a}[0], clamp(${l}, 0, ${s})]`}],[]);if(o){const f=r.signals.data,h=oi.defined(e),p=t.getScaleComponent(i),g=p?p.get("type"):void 0,b=n?{init:Pc(n,!0,u)}:{value:[]};return d.push({events:{signal:e.name+WL},update:Kr(g)?`[${u(`${f}[0]`)}, ${u(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:a,...b,on:d},{name:f,...n?{init:Pc(n)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${c}, ${a})`}]}]}else{const f=i===te?0:1,h=e.name+HL,p=n?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:a,...p,on:d}]}}const nyt={defined:t=>t.type==="point",signals:(t,e,r)=>{const n=e.name,o=n+Cf,i=e.project,a="(item().isVoronoi ? datum.datum : datum)",c=Te(t.component.selection??{}).reduce((d,f)=>f.type==="interval"?d.concat(f.name+Du):d,[]).map(d=>`indexof(item().mark.name, '${d}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${c?` && ${c}`:""}`;let s=`unit: ${lc(t)}, `;if(e.project.hasSelectionId)s+=`${In}: ${a}[${V(In)}]`;else{const d=i.items.map(f=>{const h=t.fieldDef(f.channel);return h!=null&&h.bin?`[${a}[${V(t.vgField(f.channel,{}))}], ${a}[${V(t.vgField(f.channel,{binSuffix:"end"}))}]]`:`${a}[${V(f.field)}]`}).join(", ");s+=`fields: ${o}, values: [${d}]`}const l=e.events;return r.concat([{name:n+la,on:l?[{events:l,update:`${u} ? {${s}} : null`,force:!0}]:[]}])}};function Fs(t,e,r,n){const o=bm(e)&&e.condition,i=n(e);if(o){const c=Z(o).map(u=>{const s=n(u);if(Ymt(u)){const{param:l,empty:d}=u;return{test:sI(t,{param:l,empty:d}),...s}}else return{test:jg(t,u.test),...s}});return{[r]:[...c,...i!==void 0?[i]:[]]}}else return i!==void 0?{[r]:i}:{}}function B2(t,e="text"){const r=t.encoding[e];return Fs(t,r,e,n=>Em(n,t.config))}function Em(t,e,r="datum"){if(t){if(Ln(t))return Qt(t.value);if(pt(t)){const{format:n,formatType:o}=Sg(t);return x2({fieldOrDatumDef:t,format:n,formatType:o,expr:r,config:e})}}}function GL(t,e={}){const{encoding:r,markDef:n,config:o,stack:i}=t,a=r.tooltip;if(L(a))return{tooltip:KN({tooltip:a},i,o,e)};{const c=e.reactiveGeom?"datum.datum":"datum";return Fs(t,a,"tooltip",u=>{const s=Em(u,o,c);if(s)return s;if(u===null)return;let l=Lt("tooltip",n,o);if(l===!0&&(l={content:"encoding"}),J(l))return{value:l};if(tt(l))return at(l)?l:l.content==="encoding"?KN(r,i,o,e):{signal:c}})}}function YL(t,e,r,{reactiveGeom:n}={}){const o={...r,...r.tooltipFormat},i={},a=n?"datum.datum":"datum",c=[];function u(l,d){const f=Wc(d),h=gr(l)?l:{...l,type:t[f].type},p=h.title||O2(h,o),g=Z(p).join(", ").replaceAll(/"/g,'\\"');let b;if(Se(d)){const m=d==="x"?"x2":"y2",v=ko(t[m]);if(Pe(h.bin)&&v){const y=Q(h,{expr:a}),x=Q(v,{expr:a}),{format:k,formatType:_}=Sg(h);b=_f(y,x,k,_,o),i[m]=!0}}if((Se(d)||d===hn||d===Hn)&&e&&e.fieldChannel===d&&e.offset==="normalize"){const{format:m,formatType:v}=Sg(h);b=x2({fieldOrDatumDef:h,format:m,formatType:v,expr:a,config:o,normalizeStack:!0}).signal}b??(b=Em(h,o,a).signal),c.push({channel:d,key:g,value:b})}$2(t,(l,d)=>{G(l)?u(l,d):mm(l)&&u(l.condition,d)});const s={};for(const{channel:l,key:d,value:f}of c)!i[l]&&!s[d]&&(s[d]=f);return s}function KN(t,e,r,{reactiveGeom:n}={}){const o=YL(t,e,r,{reactiveGeom:n}),i=aa(o).map(([a,c])=>`"${a}": ${c}`);return i.length>0?{signal:`{${i.join(", ")}}`}:void 0}function oyt(t){const{markDef:e,config:r}=t,n=Lt("aria",e,r);return n===!1?{}:{...n?{aria:n}:{},...iyt(t),...ayt(t)}}function iyt(t){const{mark:e,markDef:r,config:n}=t;if(n.aria===!1)return{};const o=Lt("ariaRoleDescription",r,n);return o!=null?{ariaRoleDescription:{value:o}}:e in Tgt?{}:{ariaRoleDescription:{value:e}}}function ayt(t){const{encoding:e,markDef:r,config:n,stack:o}=t,i=e.description;if(i)return Fs(t,i,"description",u=>Em(u,t.config));const a=Lt("description",r,n);if(a!=null)return{description:Qt(a)};if(n.aria===!1)return{};const c=YL(e,o,n);if(!qt(c))return{description:{signal:aa(c).map(([u,s],l)=>`"${l>0?"; ":""}${u}: " + (${s})`).join(" + ")}}}function ve(t,e,r={}){const{markDef:n,encoding:o,config:i}=e,{vgChannel:a}=r;let{defaultRef:c,defaultValue:u}=r;c===void 0&&(u??(u=Lt(t,n,i,{vgChannel:a,ignoreVgConfig:!0})),u!==void 0&&(c=Qt(u)));const s=o[t];return Fs(e,s,a??t,l=>y2({channel:t,channelDef:l,markDef:n,config:i,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:c}))}function VL(t,e={filled:void 0}){const{markDef:r,encoding:n,config:o}=t,{type:i}=r,a=e.filled??Lt("filled",r,o),c=Et(["bar","point","circle","square","geoshape"],i)?"transparent":void 0,u=Lt(a===!0?"color":void 0,r,o,{vgChannel:"fill"})??o.mark[a===!0&&"color"]??c,s=Lt(a===!1?"color":void 0,r,o,{vgChannel:"stroke"})??o.mark[a===!1&&"color"],l=a?"fill":"stroke",d={...u?{fill:Qt(u)}:{},...s?{stroke:Qt(s)}:{}};return r.color&&(a?r.fill:r.stroke)&&H(f4("property",{fill:"fill"in r,stroke:"stroke"in r})),{...d,...ve("color",t,{vgChannel:l,defaultValue:a?u:s}),...ve("fill",t,{defaultValue:n.fill?u:void 0}),...ve("stroke",t,{defaultValue:n.stroke?s:void 0})}}function cyt(t){const{encoding:e,mark:r}=t,n=e.order;return!Sa(r)&&Ln(n)?Fs(t,n,"zindex",o=>Qt(o.value)):{}}function fs({channel:t,markDef:e,encoding:r={},model:n,bandPosition:o}){const i=`${t}Offset`,a=e[i],c=r[i];if((i==="xOffset"||i==="yOffset")&&c)return{offsetType:"encoding",offset:y2({channel:i,channelDef:c,markDef:e,config:n==null?void 0:n.config,scaleName:n.scaleName(i),scale:n.getScaleComponent(i),stack:null,defaultRef:Qt(a),bandPosition:o})};const u=e[i];return u?{offsetType:"visual",offset:u}:{}}function Ge(t,e,{defaultPos:r,vgChannel:n}){const{encoding:o,markDef:i,config:a,stack:c}=e,u=o[t],s=o[jo(t)],l=e.scaleName(t),d=e.getScaleComponent(t),{offset:f,offsetType:h}=fs({channel:t,markDef:i,encoding:o,model:e,bandPosition:.5}),p=U2({model:e,defaultPos:r,channel:t,scaleName:l,scale:d}),g=!u&&Se(t)&&(o.latitude||o.longitude)?{field:e.getName(t)}:uyt({channel:t,channelDef:u,channel2Def:s,markDef:i,config:a,scaleName:l,scale:d,stack:c,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[n||t]:g}:void 0}function uyt(t){const{channel:e,channelDef:r,scaleName:n,stack:o,offset:i,markDef:a}=t;if(pt(r)&&o&&e===o.fieldChannel){if(G(r)){let c=r.bandPosition;if(c===void 0&&a.type==="text"&&(e==="radius"||e==="theta")&&(c=.5),c!==void 0)return _g({scaleName:n,fieldOrDatumDef:r,startSuffix:"start",bandPosition:c,offset:i})}return uc(r,n,{suffix:"end"},{offset:i})}return m2(t)}function U2({model:t,defaultPos:e,channel:r,scaleName:n,scale:o}){const{markDef:i,config:a}=t;return()=>{const c=Wc(r),u=ca(r),s=Lt(r,i,a,{vgChannel:u});if(s!==void 0)return ed(r,s);switch(e){case"zeroOrMin":case"zeroOrMax":if(n){const l=o.get("type");if(!Et([$r.LOG,$r.TIME,$r.UTC],l)){if(o.domainDefinitelyIncludesZero())return{scale:n,value:0}}}if(e==="zeroOrMin")return c==="y"?{field:{group:"height"}}:{value:0};switch(c){case"radius":return{signal:`min(${t.width.signal},${t.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...t[Fr(r)],mult:.5}}}}const syt={left:"x",center:"xc",right:"x2"},lyt={top:"y",middle:"yc",bottom:"y2"};function XL(t,e,r,n="middle"){if(t==="radius"||t==="theta")return ca(t);const o=t==="x"?"align":"baseline",i=Lt(o,e,r);let a;return at(i)?(H(hbt(o)),a=void 0):a=i,t==="x"?syt[a||(n==="top"?"left":"center")]:lyt[a||n]}function Ng(t,e,{defaultPos:r,defaultPos2:n,range:o}){return o?KL(t,e,{defaultPos:r,defaultPos2:n}):Ge(t,e,{defaultPos:r})}function KL(t,e,{defaultPos:r,defaultPos2:n}){const{markDef:o,config:i}=e,a=jo(t),c=Fr(t),u=dyt(e,n,a),s=u[c]?XL(t,o,i):ca(t);return{...Ge(t,e,{defaultPos:r,vgChannel:s}),...u}}function dyt(t,e,r){const{encoding:n,mark:o,markDef:i,stack:a,config:c}=t,u=Wc(r),s=Fr(r),l=ca(r),d=n[u],f=t.scaleName(u),h=t.getScaleComponent(u),{offset:p}=r in n||r in i?fs({channel:r,markDef:i,encoding:n,model:t}):fs({channel:u,markDef:i,encoding:n,model:t});if(!d&&(r==="x2"||r==="y2")&&(n.latitude||n.longitude)){const b=Fr(r),m=t.markDef[b];return m!=null?{[b]:{value:m}}:{[l]:{field:t.getName(r)}}}const g=fyt({channel:r,channelDef:d,channel2Def:n[r],markDef:i,config:c,scaleName:f,scale:h,stack:a,offset:p,defaultRef:void 0});return g!==void 0?{[l]:g}:fh(r,i)||fh(r,{[r]:xg(r,i,c.style),[s]:xg(s,i,c.style)})||fh(r,c[o])||fh(r,c.mark)||{[l]:U2({model:t,defaultPos:e,channel:r,scaleName:f,scale:h})()}}function fyt({channel:t,channelDef:e,channel2Def:r,markDef:n,config:o,scaleName:i,scale:a,stack:c,offset:u,defaultRef:s}){return pt(e)&&c&&t.charAt(0)===c.fieldChannel.charAt(0)?uc(e,i,{suffix:"start"},{offset:u}):m2({channel:t,channelDef:r,scaleName:i,scale:a,stack:c,markDef:n,config:o,offset:u,defaultRef:s})}function fh(t,e){const r=Fr(t),n=ca(t);if(e[n]!==void 0)return{[n]:ed(t,e[n])};if(e[t]!==void 0)return{[n]:ed(t,e[t])};if(e[r]){const o=e[r];if(Cc(o))H(abt(r));else return{[r]:ed(t,o)}}}function sa(t,e){const{config:r,encoding:n,markDef:o}=t,i=o.type,a=jo(e),c=Fr(e),u=n[e],s=n[a],l=t.getScaleComponent(e),d=l?l.get("type"):void 0,f=o.orient,h=n[c]??n.size??Lt("size",o,r,{vgChannel:c}),p=V6(e),g=i==="bar"&&(e==="x"?f==="vertical":f==="horizontal");return G(u)&&(Xt(u.bin)||Pe(u.bin)||u.timeUnit&&!s)&&!(h&&!Cc(h))&&!n[p]&&!$e(d)?gyt({fieldDef:u,fieldDef2:s,channel:e,model:t}):(pt(u)&&$e(d)||g)&&!s?pyt(u,e,t):KL(e,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function hyt(t,e,r,n,o,i,a){if(Cc(o))if(r){const u=r.get("type");if(u==="band"){let s=`bandwidth('${e}')`;o.band!==1&&(s=`${o.band} * ${s}`);const l=li("minBandSize",{type:a},n);return{signal:l?`max(${An(l)}, ${s})`:s}}else o.band!==1&&(H(mbt(u)),o=void 0)}else return{mult:o.band,field:{group:t}};else{if(at(o))return o;if(o)return{value:o}}if(r){const u=r.get("range");if(Ea(u)&&Bt(u.step))return{value:u.step-2}}if(!i){const{bandPaddingInner:u,barBandPaddingInner:s,rectBandPaddingInner:l}=n.scale,d=ue(u,a==="bar"?s:l);if(at(d))return{signal:`(1 - (${d.signal})) * ${t}`};if(Bt(d))return{signal:`${1-d} * ${t}`}}return{value:Ag(n.view,t)-2}}function pyt(t,e,r){const{markDef:n,encoding:o,config:i,stack:a}=r,c=n.orient,u=r.scaleName(e),s=r.getScaleComponent(e),l=Fr(e),d=jo(e),f=V6(e),h=r.scaleName(f),p=r.getScaleComponent(Y_(e)),g=c==="horizontal"&&e==="y"||c==="vertical"&&e==="x";let b;(o.size||n.size)&&(g?b=ve("size",r,{vgChannel:l,defaultRef:Qt(n.size)}):H(wbt(n.type)));const m=!!b,v=V4({channel:e,fieldDef:t,markDef:n,config:i,scaleType:s==null?void 0:s.get("type"),useVlSizeChannel:g});b=b||{[l]:hyt(l,h||u,p||s,i,v,!!t,n.type)};const y=(s==null?void 0:s.get("type"))==="band"&&Cc(v)&&!m?"top":"middle",x=XL(e,n,i,y),k=x==="xc"||x==="yc",{offset:_,offsetType:w}=fs({channel:e,markDef:n,encoding:o,model:r,bandPosition:k?.5:0}),O=m2({channel:e,channelDef:t,markDef:n,config:i,scaleName:u,scale:s,stack:a,offset:_,defaultRef:U2({model:r,defaultPos:"mid",channel:e,scaleName:u,scale:s}),bandPosition:k?w==="encoding"?0:.5:at(v)?{signal:`(1-${v})/2`}:Cc(v)?(1-v.band)/2:0});if(l)return{[x]:O,...b};{const C=ca(d),S=b[l],A=_?{...S,offset:_}:S;return{[x]:O,[C]:L(O)?[O[0],{...O[1],offset:A}]:{...O,offset:A}}}}function QN(t,e,r,n,o,i,a){if(U6(t))return 0;const c=t==="x"||t==="y2",u=c?-e/2:e/2;if(at(r)||at(o)||at(n)||i){const s=An(r),l=An(o),d=An(n),f=An(i),p=i?`(${a} < ${f} ? ${c?"":"-"}0.5 * (${f} - (${a})) : ${u})`:u,g=d?`${d} + `:"",b=s?`(${s} ? -1 : 1) * `:"",m=l?`(${l} + ${p})`:p;return{signal:g+b+m}}else return o=o||0,n+(r?-o-u:+o+u)}function gyt({fieldDef:t,fieldDef2:e,channel:r,model:n}){var C;const{config:o,markDef:i,encoding:a}=n,c=n.getScaleComponent(r),u=n.scaleName(r),s=c?c.get("type"):void 0,l=c.get("reverse"),d=V4({channel:r,fieldDef:t,markDef:i,config:o,scaleType:s}),f=(C=n.component.axes[r])==null?void 0:C[0],h=(f==null?void 0:f.get("translate"))??.5,p=Se(r)?Lt("binSpacing",i,o)??0:0,g=jo(r),b=ca(r),m=ca(g),v=li("minBandSize",i,o),{offset:y}=fs({channel:r,markDef:i,encoding:a,model:n,bandPosition:0}),{offset:x}=fs({channel:g,markDef:i,encoding:a,model:n,bandPosition:0}),k=Umt({fieldDef:t,scaleName:u}),_=QN(r,p,l,h,y,v,k),w=QN(g,p,l,h,x??y,v,k),O=at(d)?{signal:`(1-${d.signal})/2`}:Cc(d)?(1-d.band)/2:.5;if(Xt(t.bin)||t.timeUnit)return{[m]:JN({fieldDef:t,scaleName:u,bandPosition:O,offset:w}),[b]:JN({fieldDef:t,scaleName:u,bandPosition:at(O)?{signal:`1-${O.signal}`}:1-O,offset:_})};if(Pe(t.bin)){const S=uc(t,u,{},{offset:w});if(G(e))return{[m]:S,[b]:uc(e,u,{},{offset:_})};if(Hc(t.bin)&&t.bin.step)return{[m]:S,[b]:{signal:`scale("${u}", ${Q(t,{expr:"datum"})} + ${t.bin.step})`,offset:_}}}H(g4(g))}function JN({fieldDef:t,scaleName:e,bandPosition:r,offset:n}){return _g({scaleName:e,fieldOrDatumDef:t,bandPosition:r,offset:n})}const byt=new Set(["aria","width","height"]);function pn(t,e){const{fill:r=void 0,stroke:n=void 0}=e.color==="include"?VL(t):{};return{...myt(t.markDef,e),...ZN(t,"fill",r),...ZN(t,"stroke",n),...ve("opacity",t),...ve("fillOpacity",t),...ve("strokeOpacity",t),...ve("strokeWidth",t),...ve("strokeDash",t),...cyt(t),...GL(t),...B2(t,"href"),...oyt(t)}}function ZN(t,e,r){const{config:n,mark:o,markDef:i}=t;if(Lt("invalid",i,n)==="hide"&&r&&!Sa(o)){const c=vyt(t,{invalid:!0,channels:am});if(c)return{[e]:[{test:c,value:null},...Z(r)]}}return r?{[e]:r}:{}}function myt(t,e){return jgt.reduce((r,n)=>(!byt.has(n)&&t[n]!==void 0&&e[n]!=="ignore"&&(r[n]=Qt(t[n])),r),{})}function vyt(t,{invalid:e=!1,channels:r}){const n=r.reduce((i,a)=>{const c=t.getScaleComponent(a);if(c){const u=c.get("type"),s=t.vgField(a,{expr:"datum"});s&&Kr(u)&&(i[s]=!0)}return i},{}),o=B(n);if(o.length>0){const i=e?"||":"&&";return o.map(a=>v2(a,e)).join(` ${i} `)}}function q2(t){const{config:e,markDef:r}=t;if(Lt("invalid",r,e)){const o=yyt(t,{channels:To});if(o)return{defined:{signal:o}}}return{}}function yyt(t,{invalid:e=!1,channels:r}){const n=r.reduce((i,a)=>{var u;const c=t.getScaleComponent(a);if(c){const s=c.get("type"),l=t.vgField(a,{expr:"datum",binSuffix:(u=t.stack)!=null&&u.impute?"mid":void 0});l&&Kr(s)&&(i[l]=!0)}return i},{}),o=B(n);if(o.length>0){const i=e?"||":"&&";return o.map(a=>v2(a,e)).join(` ${i} `)}}function tD(t,e){if(e!==void 0)return{[t]:Qt(e)}}const c0="voronoi",QL={defined:t=>t.type==="point"&&t.nearest,parse:(t,e)=>{if(e.events)for(const r of e.events)r.markname=t.getName(c0)},marks:(t,e,r)=>{const{x:n,y:o}=e.project.hasChannel,i=t.mark;if(Sa(i))return H(Lgt(i)),r;const a={name:t.getName(c0),type:"path",interactive:!0,from:{data:t.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...GL(t,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:n||!o?"datum.datum.x || 0":"0"},y:{expr:o||!n?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]};let c=0,u=!1;return r.forEach((s,l)=>{const d=s.name??"";d===t.component.mark[0].name?c=l:d.indexOf(c0)>=0&&(u=!0)}),u||r.splice(c+1,0,a),r}},JL={defined:t=>t.type==="point"&&t.resolve==="global"&&t.bind&&t.bind!=="scales"&&!j2(t.bind),parse:(t,e,r)=>aI(e,r),topLevelSignals:(t,e,r)=>{const n=e.name,o=e.project,i=e.bind,a=e.init&&e.init[0],c=QL.defined(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach((u,s)=>{const l=Zt(`${n}_${u.field}`);r.filter(f=>f.name===l).length||r.unshift({name:l,...a?{init:Pc(a[s])}:{value:null},on:e.events?[{events:e.events,update:`datum && item().mark.marktype !== 'group' ? ${c}[${V(u.field)}] : null`}]:[],bind:i[u.field]??i[u.channel]??i})}),r},signals:(t,e,r)=>{const n=e.name,o=e.project,i=r.filter(s=>s.name===n+la)[0],a=n+Cf,c=o.items.map(s=>Zt(`${n}_${s.field}`)),u=c.map(s=>`${s} !== null`).join(" && ");return c.length&&(i.update=`${u} ? {fields: ${a}, values: [${c.join(", ")}]} : null`),delete i.value,delete i.on,r}},Dg="_toggle",ZL={defined:t=>t.type==="point"&&!!t.toggle,signals:(t,e,r)=>r.concat({name:e.name+Dg,value:!1,on:[{events:e.events,update:e.toggle}]}),modifyExpr:(t,e)=>{const r=e.name+la,n=e.name+Dg;return`${n} ? null : ${r}, `+(e.resolve==="global"?`${n} ? null : true, `:`${n} ? null : {unit: ${lc(t)}}, `)+`${n} ? ${r} : null`}},xyt={defined:t=>t.clear!==void 0&&t.clear!==!1,parse:(t,e)=>{e.clear&&(e.clear=J(e.clear)?va(e.clear,"view"):e.clear)},topLevelSignals:(t,e,r)=>{if(JL.defined(e))for(const n of e.project.items){const o=r.findIndex(i=>i.name===Zt(`${e.name}_${n.field}`));o!==-1&&r[o].on.push({events:e.clear,update:"null"})}return r},signals:(t,e,r)=>{function n(o,i){o!==-1&&r[o].on&&r[o].on.push({events:e.clear,update:i})}if(e.type==="interval")for(const o of e.project.items){const i=r.findIndex(a=>a.name===o.signals.visual);if(n(i,"[0, 0]"),i===-1){const a=r.findIndex(c=>c.name===o.signals.data);n(a,"null")}}else{let o=r.findIndex(i=>i.name===e.name+la);n(o,"null"),ZL.defined(e)&&(o=r.findIndex(i=>i.name===e.name+Dg),n(o,"false"))}return r}},tI={defined:t=>{const e=t.resolve==="global"&&t.bind&&j2(t.bind),r=t.project.items.length===1&&t.project.items[0].field!==In;return e&&!r&&H(Ugt),e&&r},parse:(t,e,r)=>{const n=ht(r);if(n.select=J(n.select)?{type:n.select,toggle:e.toggle}:{...n.select,toggle:e.toggle},aI(e,n),tt(r.select)&&(r.select.on||r.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const c of e.events)c.filter=Z(c.filter??[]),c.filter.includes(a)||c.filter.push(a)}const o=n0(e.bind)?e.bind.legend:"click",i=J(o)?va(o,"view"):Z(o);e.bind={legend:{merge:i}}},topLevelSignals:(t,e,r)=>{const n=e.name,o=n0(e.bind)&&e.bind.legend,i=a=>c=>{const u=ht(c);return u.markname=a,u};for(const a of e.project.items){if(!a.hasLegend)continue;const c=`${Zt(a.field)}_legend`,u=`${n}_${c}`;if(r.filter(l=>l.name===u).length===0){const l=o.merge.map(i(`${c}_symbols`)).concat(o.merge.map(i(`${c}_labels`))).concat(o.merge.map(i(`${c}_entries`)));r.unshift({name:u,...e.init?{}:{value:null},on:[{events:l,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return r},signals:(t,e,r)=>{const n=e.name,o=e.project,i=r.find(f=>f.name===n+la),a=n+Cf,c=o.items.filter(f=>f.hasLegend).map(f=>Zt(`${n}_${Zt(f.field)}_legend`)),s=`${c.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${a}, values: [${c.join(", ")}]} : null`;e.events&&c.length>0?i.on.push({events:c.map(f=>({signal:f})),update:s}):c.length>0&&(i.update=s,delete i.value,delete i.on);const l=r.find(f=>f.name===n+Dg),d=n0(e.bind)&&e.bind.legend;return l&&(e.events?l.on.push({...l.on[0],events:d}):l.on[0].events=d),r}};function wyt(t,e,r){var o;const n=(o=t.fieldDef(e))==null?void 0:o.field;for(const i of Te(t.component.selection??{})){const a=i.project.hasField[n]??i.project.hasChannel[e];if(a&&tI.defined(i)){const c=r.get("selections")??[];c.push(i.name),r.set("selections",c,!1),a.hasLegend=!0}}}const eI="_translate_anchor",rI="_translate_delta",kyt={defined:t=>t.type==="interval"&&t.translate,signals:(t,e,r)=>{const n=e.name,o=oi.defined(e),i=n+eI,{x:a,y:c}=e.project.hasChannel;let u=va(e.translate,"scope");return o||(u=u.map(s=>(s.between[0].markname=n+Du,s))),r.push({name:i,value:{},on:[{events:u.map(s=>s.between[0]),update:"{x: x(unit), y: y(unit)"+(a!==void 0?`, extent_x: ${o?S1(t,te):`slice(${a.signals.visual})`}`:"")+(c!==void 0?`, extent_y: ${o?S1(t,Ee):`slice(${c.signals.visual})`}`:"")+"}"}]},{name:n+rI,value:{},on:[{events:u,update:`{x: ${i}.x - x(unit), y: ${i}.y - y(unit)}`}]}),a!==void 0&&eD(t,e,a,"width",r),c!==void 0&&eD(t,e,c,"height",r),r}};function eD(t,e,r,n,o){const i=e.name,a=i+eI,c=i+rI,u=r.channel,s=oi.defined(e),l=o.filter(k=>k.name===r.signals[s?"data":"visual"])[0],d=t.getSizeSignalRef(n).signal,f=t.getScaleComponent(u),h=f&&f.get("type"),p=f&&f.get("reverse"),g=s?u===te?p?"":"-":p?"-":"":"",b=`${a}.extent_${u}`,m=`${g}${c}.${u} / ${s?`${d}`:`span(${b})`}`,v=!s||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",y=s?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",x=`${v}(${b}, ${m}${y})`;l.on.push({events:{signal:c},update:s?x:`clampRange(${x}, 0, ${d})`})}const nI="_zoom_anchor",oI="_zoom_delta",_yt={defined:t=>t.type==="interval"&&t.zoom,signals:(t,e,r)=>{const n=e.name,o=oi.defined(e),i=n+oI,{x:a,y:c}=e.project.hasChannel,u=V(t.scaleName(te)),s=V(t.scaleName(Ee));let l=va(e.zoom,"scope");return o||(l=l.map(d=>(d.markname=n+Du,d))),r.push({name:n+nI,on:[{events:l,update:o?"{"+[u?`x: invert(${u}, x(unit))`:"",s?`y: invert(${s}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:i,on:[{events:l,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),a!==void 0&&rD(t,e,a,"width",r),c!==void 0&&rD(t,e,c,"height",r),r}};function rD(t,e,r,n,o){const i=e.name,a=r.channel,c=oi.defined(e),u=o.filter(v=>v.name===r.signals[c?"data":"visual"])[0],s=t.getSizeSignalRef(n).signal,l=t.getScaleComponent(a),d=l&&l.get("type"),f=c?S1(t,a):u.name,h=i+oI,p=`${i}${nI}.${a}`,g=!c||!l?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",b=c?d==="pow"?`, ${l.get("exponent")??1}`:d==="symlog"?`, ${l.get("constant")??1}`:"":"",m=`${g}(${f}, ${p}, ${h}${b})`;u.on.push({events:{signal:h},update:c?m:`clampRange(${m}, 0, ${s})`})}const Nc="_store",la="_tuple",Oyt="_modify",iI="vlSelectionResolve",Sm=[nyt,eyt,Z0t,ZL,JL,oi,tI,xyt,kyt,_yt,QL];function Eyt(t){let e=t.parent;for(;e&&!Mn(e);)e=e.parent;return e}function lc(t,{escape:e}={escape:!0}){let r=e?V(t.name):t.name;const n=Eyt(t);if(n){const{facet:o}=n;for(const i of rn)o[i]&&(r+=` + '__facet_${i}_' + (facet[${V(n.vgField(i))}])`)}return r}function W2(t){return Te(t.component.selection??{}).reduce((e,r)=>e||r.project.hasSelectionId,!1)}function aI(t,e){(J(e.select)||!e.select.on)&&delete t.events,(J(e.select)||!e.select.clear)&&delete t.clear,(J(e.select)||!e.select.toggle)&&delete t.toggle}function $1(t){const e=[];return t.type==="Identifier"?[t.name]:t.type==="Literal"?[t.value]:(t.type==="MemberExpression"&&(e.push(...$1(t.object)),e.push(...$1(t.property))),e)}function cI(t){return t.object.type==="MemberExpression"?cI(t.object):t.object.name==="datum"}function uI(t){const e=c_(t),r=new Set;return e.visit(n=>{n.type==="MemberExpression"&&cI(n)&&r.add($1(n).slice(1).join("."))}),r}class zs extends Ut{clone(){return new zs(null,this.model,ht(this.filter))}constructor(e,r,n){super(e),this.model=r,this.filter=n,this.expr=jg(this.model,this.filter,this),this._dependentFields=uI(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function Syt(t,e){const r={},n=t.config.selection;if(!e||!e.length)return r;for(const o of e){const i=Zt(o.name),a=o.select,c=J(a)?a:a.type,u=tt(a)?ht(a):{type:c},s=n[c];for(const f in s)f==="fields"||f==="encodings"||(f==="mark"&&(u[f]={...s[f],...u[f]}),(u[f]===void 0||u[f]===!0)&&(u[f]=ht(s[f]??u[f])));const l=r[i]={...u,name:i,type:c,init:o.value,bind:o.bind,events:J(u.on)?va(u.on,"scope"):Z(ht(u.on))},d=ht(o);for(const f of Sm)f.defined(l)&&f.parse&&f.parse(t,l,d)}return r}function sI(t,e,r,n="datum"){const o=J(e)?e:e.param,i=Zt(o),a=V(i+Nc);let c;try{c=t.getSelectionComponent(i,o)}catch{return`!!${i}`}if(c.project.timeUnit){const f=r??t.component.data.raw,h=c.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const u=c.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",s=c.resolve==="global"?")":`, ${V(c.resolve)})`,l=`${u}${a}, ${n}${s}`,d=`length(data(${a}))`;return e.empty===!1?`${d} && ${l}`:`!${d} || ${l}`}function lI(t,e,r){const n=Zt(e),o=r.encoding;let i=r.field,a;try{a=t.getSelectionComponent(n,e)}catch{return n}if(!o&&!i)i=a.project.items[0].field,a.project.items.length>1&&H(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${V(i)}.`);else if(o&&!i){const c=a.project.items.filter(u=>u.channel===o);!c.length||c.length>1?(i=a.project.items[0].field,H((c.length?"Multiple ":"No ")+`matching ${V(o)} encoding found for selection ${V(r.param)}. Using "field": ${V(i)}.`)):i=c[0].field}return`${a.name}[${V(ln(i))}]`}function $yt(t,e){for(const[r,n]of aa(t.component.selection??{})){const o=t.getName(`lookup_${r}`);t.component.data.outputNodes[o]=n.materialized=new fr(new zs(e,t,{param:r}),o,Yt.Lookup,t.component.data.outputNodeRefCounts)}}function jg(t,e,r){return td(e,n=>J(n)?n:omt(n)?sI(t,n,r):$4(n))}function Cyt(t,e){if(t)return L(t)&&!Pi(t)?t.map(r=>O2(r,e)).join(", "):t}function u0(t,e,r,n){var o,i;t.encode??(t.encode={}),(o=t.encode)[e]??(o[e]={}),(i=t.encode[e]).update??(i.update={}),t.encode[e].update[r]=n}function Ll(t,e,r,n={header:!1}){var d,f;const{disable:o,orient:i,scale:a,labelExpr:c,title:u,zindex:s,...l}=t.combine();if(!o){for(const h in l){const p=cvt[h],g=l[h];if(p&&p!==e&&p!=="both")delete l[h];else if($f(g)){const{condition:b,...m}=g,v=Z(b),y=DN[h];if(y){const{vgProp:x,part:k}=y,_=[...v.map(w=>{const{test:O,...C}=w;return{test:jg(null,O),...C}}),m];u0(l,k,x,_),delete l[h]}else if(y===null){const x={signal:v.map(k=>{const{test:_,...w}=k;return`${jg(null,_)} ? ${bN(w)} : `}).join("")+bN(m)};l[h]=x}}else if(at(g)){const b=DN[h];if(b){const{vgProp:m,part:v}=b;u0(l,v,m,g),delete l[h]}}Et(["labelAlign","labelBaseline"],h)&&l[h]===null&&delete l[h]}if(e==="grid"){if(!l.grid)return;if(l.encode){const{grid:h}=l.encode;l.encode={...h?{grid:h}:{}},qt(l.encode)&&delete l.encode}return{scale:a,orient:i,...l,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ue(s,0)}}else{if(!n.header&&t.mainExtracted)return;if(c!==void 0){let p=c;(f=(d=l.encode)==null?void 0:d.labels)!=null&&f.update&&at(l.encode.labels.update.text)&&(p=Oc(c,"datum.label",l.encode.labels.update.text.signal)),u0(l,"labels","text",{signal:p})}if(l.labelAlign===null&&delete l.labelAlign,l.encode){for(const p of oL)t.hasAxisPart(p)||delete l.encode[p];qt(l.encode)&&delete l.encode}const h=Cyt(u,r);return{scale:a,orient:i,grid:!1,...h?{title:h}:{},...l,...r.aria===!1?{aria:!1}:{},zindex:ue(s,0)}}}}function dI(t){const{axes:e}=t.component,r=[];for(const n of To)if(e[n]){for(const o of e[n])if(!o.get("disable")&&!o.get("gridScale")){const i=n==="x"?"height":"width",a=t.getSizeSignalRef(i).signal;i!==a&&r.push({name:i,update:a})}}return r}function Ayt(t,e){const{x:r=[],y:n=[]}=t;return[...r.map(o=>Ll(o,"grid",e)),...n.map(o=>Ll(o,"grid",e)),...r.map(o=>Ll(o,"main",e)),...n.map(o=>Ll(o,"main",e))].filter(o=>o)}function nD(t,e,r,n){return Object.assign.apply(null,[{},...t.map(o=>{if(o==="axisOrient"){const i=r==="x"?"bottom":"left",a=e[r==="x"?"axisBottom":"axisLeft"]||{},c=e[r==="x"?"axisTop":"axisRight"]||{},u=new Set([...B(a),...B(c)]),s={};for(const l of u.values())s[l]={signal:`${n.signal} === "${i}" ? ${An(a[l])} : ${An(c[l])}`};return s}return e[o]})])}function Pyt(t,e,r,n){const o=e==="band"?["axisDiscrete","axisBand"]:e==="point"?["axisDiscrete","axisPoint"]:N4(e)?["axisQuantitative"]:e==="time"||e==="utc"?["axisTemporal"]:[],i=t==="x"?"axisX":"axisY",a=at(r)?"axisOrient":`axis${vf(r)}`,c=[...o,...o.map(s=>i+s.substr(4))],u=["axis",a,i];return{vlOnlyAxisConfig:nD(c,n,t,r),vgAxisConfig:nD(u,n,t,r),axisConfigStyle:Nyt([...u,...c],n)}}function Nyt(t,e){var n;const r=[{}];for(const o of t){let i=(n=e[o])==null?void 0:n.style;if(i){i=Z(i);for(const a of i)r.push(e.style[a])}}return Object.assign.apply(null,r)}function C1(t,e,r,n={}){var i;const o=i4(t,r,e);if(o!==void 0)return{configFrom:"style",configValue:o};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((i=n[a])==null?void 0:i[t])!==void 0)return{configFrom:a,configValue:n[a][t]};return{}}const oD={scale:({model:t,channel:e})=>t.scaleName(e),format:({format:t})=>t,formatType:({formatType:t})=>t,grid:({fieldOrDatumDef:t,axis:e,scaleType:r})=>e.grid??Dyt(r,t),gridScale:({model:t,channel:e})=>jyt(t,e),labelAlign:({axis:t,labelAngle:e,orient:r,channel:n})=>t.labelAlign||hI(e,r,n),labelAngle:({labelAngle:t})=>t,labelBaseline:({axis:t,labelAngle:e,orient:r,channel:n})=>t.labelBaseline||fI(e,r,n),labelFlush:({axis:t,fieldOrDatumDef:e,channel:r})=>t.labelFlush??Myt(e.type,r),labelOverlap:({axis:t,fieldOrDatumDef:e,scaleType:r})=>t.labelOverlap??Fyt(e.type,r,G(e)&&!!e.timeUnit,G(e)?e.sort:void 0),orient:({orient:t})=>t,tickCount:({channel:t,model:e,axis:r,fieldOrDatumDef:n,scaleType:o})=>{const i=t==="x"?"width":t==="y"?"height":void 0,a=i?e.getSizeSignalRef(i):void 0;return r.tickCount??Ryt({fieldOrDatumDef:n,scaleType:o,size:a,values:r.values})},tickMinStep:Lyt,title:({axis:t,model:e,channel:r})=>{if(t.title!==void 0)return t.title;const n=pI(e,r);if(n!==void 0)return n;const o=e.typedFieldDef(r),i=r==="x"?"x2":"y2",a=e.fieldDef(i);return c4(o?[PN(o)]:[],G(a)?[PN(a)]:[])},values:({axis:t,fieldOrDatumDef:e})=>Iyt(t,e),zindex:({axis:t,fieldOrDatumDef:e,mark:r})=>t.zindex??Byt(r,e)};function Dyt(t,e){return!$e(t)&&G(e)&&!Xt(e==null?void 0:e.bin)&&!Pe(e==null?void 0:e.bin)}function jyt(t,e){const r=e==="x"?"y":"x";if(t.getScaleComponent(r))return t.scaleName(r)}function Tyt(t,e,r,n,o){const i=e==null?void 0:e.labelAngle;if(i!==void 0)return at(i)?i:Ad(i);{const{configValue:a}=C1("labelAngle",n,e==null?void 0:e.style,o);return a!==void 0?Ad(a):r===te&&Et([f2,d2],t.type)&&!(G(t)&&t.timeUnit)?270:void 0}}function A1(t){return`(((${t.signal} % 360) + 360) % 360)`}function fI(t,e,r,n){if(t!==void 0)if(r==="x"){if(at(t)){const o=A1(t),i=at(e)?`(${e.signal} === "top")`:e==="top";return{signal:`(45 < ${o} && ${o} < 135) || (225 < ${o} && ${o} < 315) ? "middle" :(${o} <= 45 || 315 <= ${o}) === ${i} ? "bottom" : "top"`}}if(45<t&&t<135||225<t&&t<315)return"middle";if(at(e)){const o=t<=45||315<=t?"===":"!==";return{signal:`${e.signal} ${o} "top" ? "bottom" : "top"`}}return(t<=45||315<=t)==(e==="top")?"bottom":"top"}else{if(at(t)){const o=A1(t),i=at(e)?`(${e.signal} === "left")`:e==="left";return{signal:`${o} <= 45 || 315 <= ${o} || (135 <= ${o} && ${o} <= 225) ? ${n?'"middle"':"null"} : (45 <= ${o} && ${o} <= 135) === ${i} ? "top" : "bottom"`}}if(t<=45||315<=t||135<=t&&t<=225)return n?"middle":null;if(at(e)){const o=45<=t&&t<=135?"===":"!==";return{signal:`${e.signal} ${o} "left" ? "top" : "bottom"`}}return(45<=t&&t<=135)==(e==="left")?"top":"bottom"}}function hI(t,e,r){if(t===void 0)return;const n=r==="x",o=n?0:90,i=n?"bottom":"left";if(at(t)){const a=A1(t),c=at(e)?`(${e.signal} === "${i}")`:e===i;return{signal:`(${o?`(${a} + 90)`:a} % 180 === 0) ? ${n?null:'"center"'} :(${o} < ${a} && ${a} < ${180+o}) === ${c} ? "left" : "right"`}}if((t+o)%180===0)return n?null:"center";if(at(e)){const a=o<t&&t<180+o?"===":"!==";return{signal:`${`${e.signal} ${a} "${i}"`} ? "left" : "right"`}}return(o<t&&t<180+o)==(e===i)?"left":"right"}function Myt(t,e){if(e==="x"&&Et(["quantitative","temporal"],t))return!0}function Fyt(t,e,r,n){if(r&&!tt(n)||t!=="nominal"&&t!=="ordinal")return e==="log"||e==="symlog"?"greedy":!0}function zyt(t){return t==="x"?"bottom":"left"}function Ryt({fieldOrDatumDef:t,scaleType:e,size:r,values:n}){var o;if(!n&&!$e(e)&&e!=="log"){if(G(t)){if(Xt(t.bin))return{signal:`ceil(${r.signal}/10)`};if(t.timeUnit&&Et(["month","hours","day","quarter"],(o=Oe(t.timeUnit))==null?void 0:o.unit))return}return{signal:`ceil(${r.signal}/40)`}}}function Lyt({format:t,fieldOrDatumDef:e}){if(t==="d")return 1;if(G(e)){const{timeUnit:r}=e;if(r){const n=O4(r);if(n)return{signal:n}}}}function pI(t,e){const r=e==="x"?"x2":"y2",n=t.fieldDef(e),o=t.fieldDef(r),i=n?n.title:void 0,a=o?o.title:void 0;if(i&&a)return u4(i,a);if(i)return i;if(a)return a;if(i!==void 0)return i;if(a!==void 0)return a}function Iyt(t,e){const r=t.values;if(L(r))return nL(e,r);if(at(r))return r}function Byt(t,e){return t==="rect"&&Eg(e)?1:0}class hs extends Ut{clone(){return new hs(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this._dependentFields=uI(this.transform.calculate)}static parseAllForSortIndex(e,r){return r.forEachFieldDef((n,o)=>{if(Vc(n)&&G4(n.sort)){const{field:i,timeUnit:a}=n,c=n.sort,u=c.map((s,l)=>`${$4({field:i,timeUnit:a,equal:s})} ? ${l} : `).join("")+c.length;e=new hs(e,{calculate:u,as:ps(n,o,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ot(this.transform)}`}}function ps(t,e,r){return Q(t,{prefix:e,suffix:"sort_index",...r??{}})}function $m(t,e){return Et(["top","bottom"],e)?"column":Et(["left","right"],e)||t==="row"?"row":"column"}function gs(t,e,r,n){const o=n==="row"?r.headerRow:n==="column"?r.headerColumn:r.headerFacet;return ue((e||{})[t],o[t],r.header[t])}function Cm(t,e,r,n){const o={};for(const i of t){const a=gs(i,e||{},r,n);a!==void 0&&(o[i]=a)}return o}const H2=["row","column"],G2=["header","footer"];function Uyt(t,e){const r=t.component.layoutHeaders[e].title,n=t.config?t.config:void 0,o=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,{titleAnchor:i,titleAngle:a,titleOrient:c}=Cm(["titleAnchor","titleAngle","titleOrient"],o.header,n,e),u=$m(e,c),s=Ad(a);return{name:`${e}-title`,type:"group",role:`${u}-title`,title:{text:r,...e==="row"?{orient:"left"}:{},style:"guide-title",...bI(s,u),...gI(u,s,i),...mI(n,o,e,Avt,xL)}}}function gI(t,e,r="middle"){switch(r){case"start":return{align:"left"};case"end":return{align:"right"}}const n=hI(e,t==="row"?"left":"top",t==="row"?"y":"x");return n?{align:n}:{}}function bI(t,e){const r=fI(t,e==="row"?"left":"top",e==="row"?"y":"x",!0);return r?{baseline:r}:{}}function qyt(t,e){const r=t.component.layoutHeaders[e],n=[];for(const o of G2)if(r[o])for(const i of r[o]){const a=Hyt(t,e,o,r,i);a!=null&&n.push(a)}return n}function Wyt(t,e){const{sort:r}=t;return fo(r)?{field:Q(r,{expr:"datum"}),order:r.order??"ascending"}:L(r)?{field:ps(t,e,{expr:"datum"}),order:"ascending"}:{field:Q(t,{expr:"datum"}),order:r??"ascending"}}function P1(t,e,r){const{format:n,formatType:o,labelAngle:i,labelAnchor:a,labelOrient:c,labelExpr:u}=Cm(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],t.header,r,e),s=x2({fieldOrDatumDef:t,format:n,formatType:o,expr:"parent",config:r}).signal,l=$m(e,c);return{text:{signal:u?Oc(Oc(u,"datum.label",s),"datum.value",Q(t,{expr:"parent"})):s},...e==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...bI(i,l),...gI(l,i,a),...mI(r,t,e,Pvt,wL)}}function Hyt(t,e,r,n,o){if(o){let i=null;const{facetFieldDef:a}=n,c=t.config?t.config:void 0;if(a&&o.labels){const{labelOrient:d}=Cm(["labelOrient"],a.header,c,e);(e==="row"&&!Et(["top","bottom"],d)||e==="column"&&!Et(["left","right"],d))&&(i=P1(a,e,c))}const u=Mn(t)&&!Of(t.facet),s=o.axes,l=(s==null?void 0:s.length)>0;if(i||l){const d=e==="row"?"height":"width";return{name:t.getName(`${e}_${r}`),type:"group",role:`${e}-${r}`,...n.facetFieldDef?{from:{data:t.getName(`${e}_domain`)},sort:Wyt(a,e)}:{},...l&&u?{from:{data:t.getName(`facet_domain_${e}`)}}:{},...i?{title:i}:{},...o.sizeSignal?{encode:{update:{[d]:o.sizeSignal}}}:{},...l?{axes:s}:{}}}}return null}const Gyt={column:{start:0,end:1},row:{start:1,end:0}};function Yyt(t,e){return Gyt[e][t]}function Vyt(t,e){const r={};for(const n of rn){const o=t[n];if(o!=null&&o.facetFieldDef){const{titleAnchor:i,titleOrient:a}=Cm(["titleAnchor","titleOrient"],o.facetFieldDef.header,e,n),c=$m(n,a),u=Yyt(i,c);u!==void 0&&(r[c]=u)}}return qt(r)?void 0:r}function mI(t,e,r,n,o){const i={};for(const a of n){if(!o[a])continue;const c=gs(a,e==null?void 0:e.header,t,r);c!==void 0&&(i[o[a]]=c)}return i}function Y2(t){return[...hh(t,"width"),...hh(t,"height"),...hh(t,"childWidth"),...hh(t,"childHeight")]}function hh(t,e){const r=e==="width"?"x":"y",n=t.component.layoutSize.get(e);if(!n||n==="merged")return[];const o=t.getSizeSignalRef(e).signal;if(n==="step"){const i=t.getScaleComponent(r);if(i){const a=i.get("type"),c=i.get("range");if($e(a)&&Ea(c)){const u=t.scaleName(r);return Mn(t.parent)&&t.parent.component.resolve.scale[r]==="independent"?[iD(u,c)]:[iD(u,c),{name:o,update:vI(u,i,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(n=="container"){const i=o.endsWith("width"),a=i?"containerSize()[0]":"containerSize()[1]",c=k1(t.config.view,i?"width":"height"),u=`isFinite(${a}) ? ${a} : ${c}`;return[{name:o,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:o,value:n}]}function iD(t,e){const r=`${t}_step`;return at(e.step)?{name:r,update:e.step.signal}:{name:r,value:e.step}}function vI(t,e,r){const n=e.get("type"),o=e.get("padding"),i=ue(e.get("paddingOuter"),o);let a=e.get("paddingInner");return a=n==="band"?a!==void 0?a:o:1,`bandspace(${r}, ${An(a)}, ${An(i)}) * ${t}_step`}function yI(t){return t==="childWidth"?"width":t==="childHeight"?"height":t}function xI(t,e){return B(t).reduce((r,n)=>{const o=t[n];return{...r,...Fs(e,o,n,i=>Qt(i.value))}},{})}function wI(t,e){if(Mn(e))return t==="theta"?"independent":"shared";if(Is(e))return"shared";if(tO(e))return Se(t)||t==="theta"||t==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function V2(t,e){const r=t.scale[e],n=Se(e)?"axis":"legend";return r==="independent"?(t[n][e]==="shared"&&H(Sbt(e)),"independent"):t[n][e]||"shared"}const Xyt={...jvt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},kI=B(Xyt);class Kyt extends xi{}const aD={symbols:Qyt,gradient:Jyt,labels:Zyt,entries:t1t};function Qyt(t,{fieldOrDatumDef:e,model:r,channel:n,legendCmpt:o,legendType:i}){if(i!=="symbol")return;const{markDef:a,encoding:c,config:u,mark:s}=r,l=a.filled&&s!=="trail";let d={...Fgt({},r,Amt),...VL(r,{filled:l})};const f=o.get("symbolOpacity")??u.legend.symbolOpacity,h=o.get("symbolFillColor")??u.legend.symbolFillColor,p=o.get("symbolStrokeColor")??u.legend.symbolStrokeColor,g=f===void 0?_I(c.opacity)??a.opacity:void 0;if(d.fill){if(n==="fill"||l&&n===Tr)delete d.fill;else if(d.fill.field)h?delete d.fill:(d.fill=Qt(u.legend.symbolBaseFillColor??"black"),d.fillOpacity=Qt(g??1));else if(L(d.fill)){const b=N1(c.fill??c.color)??a.fill??(l&&a.color);b&&(d.fill=Qt(b))}}if(d.stroke){if(n==="stroke"||!l&&n===Tr)delete d.stroke;else if(d.stroke.field||p)delete d.stroke;else if(L(d.stroke)){const b=ue(N1(c.stroke||c.color),a.stroke,l?a.color:void 0);b&&(d.stroke={value:b})}}if(n!==mi){const b=G(e)&&EI(r,o,e);b?d.opacity=[{test:b,...Qt(g??1)},Qt(u.legend.unselectedOpacity)]:g&&(d.opacity=Qt(g))}return d={...d,...t},qt(d)?void 0:d}function Jyt(t,{model:e,legendType:r,legendCmpt:n}){if(r!=="gradient")return;const{config:o,markDef:i,encoding:a}=e;let c={};const s=(n.get("gradientOpacity")??o.legend.gradientOpacity)===void 0?_I(a.opacity)||i.opacity:void 0;return s&&(c.opacity=Qt(s)),c={...c,...t},qt(c)?void 0:c}function Zyt(t,{fieldOrDatumDef:e,model:r,channel:n,legendCmpt:o}){const i=r.legend(n)||{},a=r.config,c=G(e)?EI(r,o,e):void 0,u=c?[{test:c,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:s,formatType:l}=i;let d;Ac(l)?d=Nn({fieldOrDatumDef:e,field:"datum.value",format:s,formatType:l,config:a}):s===void 0&&l===void 0&&a.customFormatTypes&&(e.type==="quantitative"&&a.numberFormatType?d=Nn({fieldOrDatumDef:e,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):e.type==="temporal"&&a.timeFormatType&&G(e)&&e.timeUnit===void 0&&(d=Nn({fieldOrDatumDef:e,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const f={...u?{opacity:u}:{},...d?{text:d}:{},...t};return qt(f)?void 0:f}function t1t(t,{legendCmpt:e}){const r=e.get("selections");return r!=null&&r.length?{...t,fill:{value:"transparent"}}:t}function _I(t){return OI(t,(e,r)=>Math.max(e,r.value))}function N1(t){return OI(t,(e,r)=>ue(e,r.value))}function OI(t,e){if(Xmt(t))return Z(t.condition).reduce(e,t.value);if(Ln(t))return t.value}function EI(t,e,r){const n=e.get("selections");if(!(n!=null&&n.length))return;const o=V(r.field);return n.map(i=>`(!length(data(${V(Zt(i)+Nc)})) || (${i}[${o}] && indexof(${i}[${o}], datum.value) >= 0))`).join(" || ")}const cD={direction:({direction:t})=>t,format:({fieldOrDatumDef:t,legend:e,config:r})=>{const{format:n,formatType:o}=e;return U4(t,t.type,n,o,r,!1)},formatType:({legend:t,fieldOrDatumDef:e,scaleType:r})=>{const{formatType:n}=t;return q4(n,e,r)},gradientLength:t=>{const{legend:e,legendConfig:r}=t;return e.gradientLength??r.gradientLength??c1t(t)},labelOverlap:({legend:t,legendConfig:e,scaleType:r})=>t.labelOverlap??e.labelOverlap??u1t(r),symbolType:({legend:t,markDef:e,channel:r,encoding:n})=>t.symbolType??r1t(e.type,r,n.shape,e.shape),title:({fieldOrDatumDef:t,config:e})=>Nu(t,e,{allowDisabling:!0}),type:({legendType:t,scaleType:e,channel:r})=>{if(Pu(r)&&Pn(e)){if(t==="gradient")return}else if(t==="symbol")return;return t},values:({fieldOrDatumDef:t,legend:e})=>e1t(e,t)};function e1t(t,e){const r=t.values;if(L(r))return nL(e,r);if(at(r))return r}function r1t(t,e,r,n){if(e!=="shape"){const o=N1(r)??n;if(o)return o}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function n1t(t){const{legend:e}=t;return ue(e.type,o1t(t))}function o1t({channel:t,timeUnit:e,scaleType:r}){if(Pu(t)){if(Et(["quarter","month","day"],e))return"symbol";if(Pn(r))return"gradient"}return"symbol"}function i1t({legendConfig:t,legendType:e,orient:r,legend:n}){return n.direction??t[e?"gradientDirection":"symbolDirection"]??a1t(r,e)}function a1t(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return e==="gradient"?"horizontal":void 0}}function c1t({legendConfig:t,model:e,direction:r,orient:n,scaleType:o}){const{gradientHorizontalMaxLength:i,gradientHorizontalMinLength:a,gradientVerticalMaxLength:c,gradientVerticalMinLength:u}=t;if(Pn(o))return r==="horizontal"?n==="top"||n==="bottom"?uD(e,"width",a,i):a:uD(e,"height",u,c)}function uD(t,e,r,n){return{signal:`clamp(${t.getSizeSignalRef(e).signal}, ${r}, ${n})`}}function u1t(t){if(Et(["quantile","threshold","log","symlog"],t))return"greedy"}function SI(t){const e=oe(t)?s1t(t):h1t(t);return t.component.legends=e,e}function s1t(t){const{encoding:e}=t,r={};for(const n of[Tr,..._L]){const o=he(e[n]);!o||!t.getScaleComponent(n)||n===Mr&&G(o)&&o.type===Ms||(r[n]=f1t(t,n))}return r}function l1t(t,e){const r=t.scaleName(e);if(t.mark==="trail"){if(e==="color")return{stroke:r};if(e==="size")return{strokeWidth:r}}return e==="color"?t.markDef.filled?{fill:r}:{stroke:r}:{[e]:r}}function d1t(t,e,r,n){switch(e){case"disable":return r!==void 0;case"values":return!!(r!=null&&r.values);case"title":if(e==="title"&&t===(n==null?void 0:n.title))return!0}return t===(r||{})[e]}function f1t(t,e){var x;let r=t.legend(e);const{markDef:n,encoding:o,config:i}=t,a=i.legend,c=new Kyt({},l1t(t,e));wyt(t,e,c);const u=r!==void 0?!r:a.disable;if(c.set("disable",u,r!==void 0),u)return c;r=r||{};const s=t.getScaleComponent(e).get("type"),l=he(o[e]),d=G(l)?(x=Oe(l.timeUnit))==null?void 0:x.unit:void 0,f=r.orient||i.legend.orient||"right",h=n1t({legend:r,channel:e,timeUnit:d,scaleType:s}),p=i1t({legend:r,legendType:h,orient:f,legendConfig:a}),g={legend:r,channel:e,model:t,markDef:n,encoding:o,fieldOrDatumDef:l,legendConfig:a,config:i,scaleType:s,orient:f,legendType:h,direction:p};for(const k of kI){if(h==="gradient"&&k.startsWith("symbol")||h==="symbol"&&k.startsWith("gradient"))continue;const _=k in cD?cD[k](g):r[k];if(_!==void 0){const w=d1t(_,k,r,t.fieldDef(e));(w||i.legend[k]===void 0)&&c.set(k,_,w)}}const b=(r==null?void 0:r.encoding)??{},m=c.get("selections"),v={},y={fieldOrDatumDef:l,model:t,channel:e,legendCmpt:c,legendType:h};for(const k of["labels","legend","title","symbols","gradient","entries"]){const _=xI(b[k]??{},t),w=k in aD?aD[k](_,y):_;w!==void 0&&!qt(w)&&(v[k]={...m!=null&&m.length&&G(l)?{name:`${Zt(l.field)}_legend_${k}`}:{},...m!=null&&m.length?{interactive:!!m}:{},update:w})}return qt(v)||c.set("encode",v,!!(r!=null&&r.encoding)),c}function h1t(t){const{legends:e,resolve:r}=t.component;for(const n of t.children){SI(n);for(const o of B(n.component.legends))r.legend[o]=V2(t.component.resolve,o),r.legend[o]==="shared"&&(e[o]=$I(e[o],n.component.legends[o]),e[o]||(r.legend[o]="independent",delete e[o]))}for(const n of B(e))for(const o of t.children)o.component.legends[n]&&r.legend[n]==="shared"&&delete o.component.legends[n];return e}function $I(t,e){var i,a,c,u;if(!t)return e.clone();const r=t.getWithExplicit("orient"),n=e.getWithExplicit("orient");if(r.explicit&&n.explicit&&r.value!==n.value)return;let o=!1;for(const s of kI){const l=ua(t.getWithExplicit(s),e.getWithExplicit(s),s,"legend",(d,f)=>{switch(s){case"symbolType":return p1t(d,f);case"title":return s4(d,f);case"type":return o=!0,Lr("symbol")}return Om(d,f,s,"legend")});t.setWithExplicit(s,l)}return o&&((a=(i=t.implicit)==null?void 0:i.encode)!=null&&a.gradient&&yg(t.implicit,["encode","gradient"]),(u=(c=t.explicit)==null?void 0:c.encode)!=null&&u.gradient&&yg(t.explicit,["encode","gradient"])),t}function p1t(t,e){return e.value==="circle"?e:t}function g1t(t,e,r,n){var o,i;t.encode??(t.encode={}),(o=t.encode)[e]??(o[e]={}),(i=t.encode[e]).update??(i.update={}),t.encode[e].update[r]=n}function CI(t){const e=t.component.legends,r={};for(const o of B(e)){const i=t.getScaleComponent(o),a=Vt(i.get("domains"));if(r[a])for(const c of r[a])$I(c,e[o])||r[a].push(e[o]);else r[a]=[e[o].clone()]}return Te(r).flat().map(o=>b1t(o,t.config)).filter(o=>o!==void 0)}function b1t(t,e){var a,c,u;const{disable:r,labelExpr:n,selections:o,...i}=t.combine();if(!r){if(e.aria===!1&&i.aria==null&&(i.aria=!1),(a=i.encode)!=null&&a.symbols){const s=i.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!i.stroke&&(s.stroke={value:"transparent"});for(const l of _L)i[l]&&delete s[l]}if(i.title||delete i.title,n!==void 0){let s=n;(u=(c=i.encode)==null?void 0:c.labels)!=null&&u.update&&at(i.encode.labels.update.text)&&(s=Oc(n,"datum.label",i.encode.labels.update.text.signal)),g1t(i,"labels","text",{signal:s})}return i}}function m1t(t){return Is(t)||tO(t)?v1t(t):AI(t)}function v1t(t){return t.children.reduce((e,r)=>e.concat(r.assembleProjections()),AI(t))}function AI(t){const e=t.component.projection;if(!e||e.merged)return[];const r=e.combine(),{name:n}=r;if(e.data){const o={signal:`[${e.size.map(a=>a.signal).join(", ")}]`},i=e.data.reduce((a,c)=>{const u=at(c)?c.signal:`data('${t.lookupDataSource(c)}')`;return Et(a,u)||a.push(u),a},[]);if(i.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:n,size:o,fit:{signal:i.length>1?`[${i.join(", ")}]`:i[0]},...r}]}else return[{name:n,translate:{signal:"[width / 2, height / 2]"},...r}]}const y1t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class PI extends xi{constructor(e,r,n,o){super({...r},{name:e}),this.specifiedProjection=r,this.size=n,this.data=o,this.merged=!1}get isFit(){return!!this.data}}function NI(t){t.component.projection=oe(t)?x1t(t):_1t(t)}function x1t(t){if(t.hasProjection){const e=wr(t.specifiedProjection),r=!(e&&(e.scale!=null||e.translate!=null)),n=r?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,o=r?w1t(t):void 0,i=new PI(t.projectionName(!0),{...wr(t.config.projection)??{},...e??{}},n,o);return i.get("type")||i.set("type","equalEarth",!1),i}}function w1t(t){const e=[],{encoding:r}=t;for(const n of[[Yn,Gn],[dn,Vn]])(he(r[n[0]])||he(r[n[1]]))&&e.push({signal:t.getName(`geojson_${e.length}`)});return t.channelHasField(Mr)&&t.typedFieldDef(Mr).type===Ms&&e.push({signal:t.getName(`geojson_${e.length}`)}),e.length===0&&e.push(t.requestDataName(Yt.Main)),e}function k1t(t,e){const r=L_(y1t,o=>!!(!lt(t.explicit,o)&&!lt(e.explicit,o)||lt(t.explicit,o)&&lt(e.explicit,o)&&ao(t.get(o),e.get(o))));if(ao(t.size,e.size)){if(r)return t;if(ao(t.explicit,{}))return e;if(ao(e.explicit,{}))return t}return null}function _1t(t){if(t.children.length===0)return;let e;for(const n of t.children)NI(n);const r=L_(t.children,n=>{const o=n.component.projection;if(o)if(e){const i=k1t(e,o);return i&&(e=i),!!i}else return e=o,!0;else return!0});if(e&&r){const n=t.projectionName(!0),o=new PI(n,e.specifiedProjection,e.size,ht(e.data));for(const i of t.children){const a=i.component.projection;a&&(a.isFit&&o.data.push(...i.component.projection.data),i.renameProjection(a.get("name"),n),a.merged=!0)}return o}}function O1t(t,e,r,n){if(Sf(e,r)){const o=oe(t)?t.axis(r)??t.legend(r)??{}:{},i=Q(e,{expr:"datum"}),a=Q(e,{expr:"datum",binSuffix:"end"});return{formulaAs:Q(e,{binSuffix:"range",forAs:!0}),formula:_f(i,a,o.format,o.formatType,n)}}return{}}function DI(t,e){return`${e4(t)}_${e}`}function E1t(t,e){return{signal:t.getName(`${e}_bins`),extentSignal:t.getName(`${e}_extent`)}}function X2(t,e,r){const n=vm(r,void 0)??{},o=DI(n,e);return t.getName(`${o}_bins`)}function S1t(t){return"as"in t}function sD(t,e,r){let n,o;S1t(t)?n=J(t.as)?[t.as,`${t.as}_end`]:[t.as[0],t.as[1]]:n=[Q(t,{forAs:!0}),Q(t,{binSuffix:"end",forAs:!0})];const i={...vm(e,void 0)},a=DI(i,t.field),{signal:c,extentSignal:u}=E1t(r,a);if(cm(i.extent)){const l=i.extent;o=lI(r,l.param,l),delete i.extent}const s={bin:i,field:t.field,as:[n],...c?{signal:c}:{},...u?{extentSignal:u}:{},...o?{span:o}:{}};return{key:a,binComponent:s}}class po extends Ut{clone(){return new po(null,ht(this.bins))}constructor(e,r){super(e),this.bins=r}static makeFromEncoding(e,r){const n=r.reduceFieldDef((o,i,a)=>{if(gr(i)&&Xt(i.bin)){const{key:c,binComponent:u}=sD(i,i.bin,r);o[c]={...u,...o[c],...O1t(r,i,a,r.config)}}return o},{});return qt(n)?null:new po(e,n)}static makeFromTransform(e,r,n){const{key:o,binComponent:i}=sD(r,r.bin,n);return new po(e,{[o]:i})}merge(e,r){for(const n of B(e.bins))n in this.bins?(r(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=co([...this.bins[n].as,...e.bins[n].as],Ot)):this.bins[n]=e.bins[n];for(const n of e.children)e.removeChild(n),n.parent=this;e.remove()}producedFields(){return new Set(Te(this.bins).map(e=>e.as).flat(2))}dependentFields(){return new Set(Te(this.bins).map(e=>e.field))}hash(){return`Bin ${Ot(this.bins)}`}assemble(){return Te(this.bins).flatMap(e=>{const r=[],[n,...o]=e.as,{extent:i,...a}=e.bin,c={type:"bin",field:ln(e.field),as:n,signal:e.signal,...cm(i)?{extent:null}:{extent:i},...e.span?{span:{signal:`span(${e.span})`}}:{},...a};!i&&e.extentSignal&&(r.push({type:"extent",field:ln(e.field),signal:e.extentSignal}),c.extent={signal:e.extentSignal}),r.push(c);for(const u of o)for(let s=0;s<2;s++)r.push({type:"formula",expr:Q({field:n[s]},{expr:"datum"}),as:u[s]});return e.formula&&r.push({type:"formula",expr:e.formula,as:e.formulaAs}),r})}}function $1t(t,e,r,n){var i;const o=oe(n)?n.encoding[jo(e)]:void 0;if(gr(r)&&oe(n)&&X4(r,o,n.markDef,n.config))t.add(Q(r,{})),t.add(Q(r,{suffix:"end"})),r.bin&&Sf(r,e)&&t.add(Q(r,{binSuffix:"range"}));else if(W6(e)){const a=q6(e);t.add(n.getName(a))}else t.add(Q(r));return Vc(r)&&mmt((i=r.scale)==null?void 0:i.range)&&t.add(r.scale.range.field),t}function C1t(t,e){for(const r of B(e)){const n=e[r];for(const o of B(n))r in t?t[r][o]=new Set([...t[r][o]??[],...n[o]]):t[r]={[o]:n[o]}}}class Tn extends Ut{clone(){return new Tn(null,new Set(this.dimensions),ht(this.measures))}constructor(e,r,n){super(e),this.dimensions=r,this.measures=n}get groupBy(){return this.dimensions}static makeFromEncoding(e,r){let n=!1;r.forEachFieldDef(a=>{a.aggregate&&(n=!0)});const o={},i=new Set;return!n||(r.forEachFieldDef((a,c)=>{const{aggregate:u,field:s}=a;if(u)if(u==="count")o["*"]??(o["*"]={}),o["*"].count=new Set([Q(a,{forAs:!0})]);else{if(si(u)||Oa(u)){const l=si(u)?"argmin":"argmax",d=u[l];o[d]??(o[d]={}),o[d][l]=new Set([Q({op:l,field:d},{forAs:!0})])}else o[s]??(o[s]={}),o[s][u]=new Set([Q(a,{forAs:!0})]);vi(c)&&r.scaleDomain(c)==="unaggregated"&&(o[s]??(o[s]={}),o[s].min=new Set([Q({field:s,aggregate:"min"},{forAs:!0})]),o[s].max=new Set([Q({field:s,aggregate:"max"},{forAs:!0})]))}else $1t(i,c,a,r)}),i.size+B(o).length===0)?null:new Tn(e,i,o)}static makeFromTransform(e,r){const n=new Set,o={};for(const i of r.aggregate){const{op:a,field:c,as:u}=i;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||Q(i,{forAs:!0})])):(o[c]??(o[c]={}),o[c][a]=new Set([u||Q(i,{forAs:!0})])))}for(const i of r.groupby??[])n.add(i);return n.size+B(o).length===0?null:new Tn(e,n,o)}merge(e){return M6(this.dimensions,e.dimensions)?(C1t(this.measures,e.measures),!0):(Ubt("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...B(this.measures)])}producedFields(){const e=new Set;for(const r of B(this.measures))for(const n of B(this.measures[r])){const o=this.measures[r][n];o.size===0?e.add(`${n}_${r}`):o.forEach(e.add,e)}return e}hash(){return`Aggregate ${Ot({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],r=[],n=[];for(const i of B(this.measures))for(const a of B(this.measures[i]))for(const c of this.measures[i][a])n.push(c),e.push(a),r.push(i==="*"?null:ln(i));return{type:"aggregate",groupby:[...this.dimensions].map(ln),ops:e,fields:r,as:n}}}class Rs extends Ut{constructor(e,r,n,o){super(e),this.model=r,this.name=n,this.data=o;for(const i of rn){const a=r.facet[i];if(a){const{bin:c,sort:u}=a;this[i]={name:r.getName(`${i}_domain`),fields:[Q(a),...Xt(c)?[Q(a,{binSuffix:"end"})]:[]],...fo(u)?{sortField:u}:L(u)?{sortIndexField:ps(a,i)}:{}}}}this.childModel=r.child}hash(){let e="Facet";for(const r of rn)this[r]&&(e+=` ${r.charAt(0)}:${Ot(this[r])}`);return e}get fields(){var r;const e=[];for(const n of rn)(r=this[n])!=null&&r.fields&&e.push(...this[n].fields);return e}dependentFields(){const e=new Set(this.fields);for(const r of rn)this[r]&&(this[r].sortField&&e.add(this[r].sortField.field),this[r].sortIndexField&&e.add(this[r].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const r of To){const n=this.childModel.component.scales[r];if(n&&!n.merged){const o=n.get("type"),i=n.get("range");if($e(o)&&Ea(i)){const a=Am(this.childModel,r),c=Z2(a);c?e[r]=c:H(Z_(r))}}}return e}assembleRowColumnHeaderData(e,r,n){const o={row:"y",column:"x",facet:void 0}[e],i=[],a=[],c=[];o&&n&&n[o]&&(r?(i.push(`distinct_${n[o]}`),a.push("max")):(i.push(n[o]),a.push("distinct")),c.push(`distinct_${n[o]}`));const{sortField:u,sortIndexField:s}=this[e];if(u){const{op:l=pm,field:d}=u;i.push(d),a.push(l),c.push(Q(u,{forAs:!0}))}else s&&(i.push(s),a.push("max"),c.push(s));return{name:this[e].name,source:r??this.data,transform:[{type:"aggregate",groupby:this[e].fields,...i.length?{fields:i,ops:a,as:c}:{}}]}}assembleFacetHeaderData(e){var u;const{columns:r}=this.model.layout,{layoutHeaders:n}=this.model.component,o=[],i={};for(const s of H2){for(const l of G2){const d=(n[s]&&n[s][l])??[];for(const f of d)if(((u=f.axes)==null?void 0:u.length)>0){i[s]=!0;break}}if(i[s]){const l=`length(data("${this.facet.name}"))`,d=s==="row"?r?{signal:`ceil(${l} / ${r})`}:1:r?{signal:`min(${l}, ${r})`}:{signal:l};o.push({name:`${this.facet.name}_${s}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:a,column:c}=i;return(a||c)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}assemble(){const e=[];let r=null;const n=this.getChildIndependentFieldsWithStep(),{column:o,row:i,facet:a}=this;if(o&&i&&(n.x||n.y)){r=`cross_${this.column.name}_${this.row.name}`;const c=[].concat(n.x??[],n.y??[]),u=c.map(()=>"distinct");e.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:c,ops:u}]})}for(const c of[ni,ri])this[c]&&e.push(this.assembleRowColumnHeaderData(c,r,n));if(a){const c=this.assembleFacetHeaderData(n);c&&e.push(...c)}return e}}function lD(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function A1t(t,e){const r=U_(t);if(e==="number")return`toNumber(${r})`;if(e==="boolean")return`toBoolean(${r})`;if(e==="string")return`toString(${r})`;if(e==="date")return`toDate(${r})`;if(e==="flatten")return r;if(e.startsWith("date:")){const n=lD(e.slice(5,e.length));return`timeParse(${r},'${n}')`}else if(e.startsWith("utc:")){const n=lD(e.slice(4,e.length));return`utcParse(${r},'${n}')`}else return H(Xgt(e)),null}function P1t(t){const e={};return Gh(t.filter,r=>{if(S4(r)){let n=null;n2(r)?n=Ur(r.equal):i2(r)?n=Ur(r.lte):o2(r)?n=Ur(r.lt):a2(r)?n=Ur(r.gt):c2(r)?n=Ur(r.gte):u2(r)?n=r.range[0]:s2(r)&&(n=(r.oneOf??r.in)[0]),n&&(Gc(n)?e[r.field]="date":Bt(n)?e[r.field]="number":J(n)&&(e[r.field]="string")),r.timeUnit&&(e[r.field]="date")}}),e}function N1t(t){const e={};function r(n){ls(n)?e[n.field]="date":n.type==="quantitative"&&$gt(n.aggregate)?e[n.field]="number":ns(n.field)>1?n.field in e||(e[n.field]="flatten"):Vc(n)&&fo(n.sort)&&ns(n.sort.field)>1&&(n.sort.field in e||(e[n.sort.field]="flatten"))}if((oe(t)||Mn(t))&&t.forEachFieldDef((n,o)=>{if(gr(n))r(n);else{const i=Wc(o),a=t.fieldDef(i);r({...n,type:a.type})}}),oe(t)){const{mark:n,markDef:o,encoding:i}=t;if(Sa(n)&&!t.encoding.order){const a=o.orient==="horizontal"?"y":"x",c=i[a];G(c)&&c.type==="quantitative"&&!(c.field in e)&&(e[c.field]="number")}}return e}function D1t(t){const e={};if(oe(t)&&t.component.selection)for(const r of B(t.component.selection)){const n=t.component.selection[r];for(const o of n.project.items)!o.channel&&ns(o.field)>1&&(e[o.field]="flatten")}return e}class Ye extends Ut{clone(){return new Ye(null,ht(this._parse))}constructor(e,r){super(e),this._parse=r}hash(){return`Parse ${Ot(this._parse)}`}static makeExplicit(e,r,n){var a;let o={};const i=r.data;return!Yi(i)&&((a=i==null?void 0:i.format)!=null&&a.parse)&&(o=i.format.parse),this.makeWithAncestors(e,o,{},n)}static makeWithAncestors(e,r,n,o){for(const c of B(n)){const u=o.getWithExplicit(c);u.value!==void 0&&(u.explicit||u.value===n[c]||u.value==="derived"||n[c]==="flatten"?delete n[c]:H(kN(c,n[c],u.value)))}for(const c of B(r)){const u=o.get(c);u!==void 0&&(u===r[c]?delete r[c]:H(kN(c,r[c],u)))}const i=new xi(r,n);o.copyAll(i);const a={};for(const c of B(i.combine())){const u=i.get(c);u!==null&&(a[c]=u)}return B(a).length===0||o.parseNothing?null:new Ye(e,a)}get parse(){return this._parse}merge(e){this._parse={...this._parse,...e.parse},e.remove()}assembleFormatParse(){const e={};for(const r of B(this._parse)){const n=this._parse[r];ns(r)===1&&(e[r]=n)}return e}producedFields(){return new Set(B(this._parse))}dependentFields(){return new Set(B(this._parse))}assembleTransforms(e=!1){return B(this._parse).filter(r=>e?ns(r)>1:!0).map(r=>{const n=A1t(r,this._parse[r]);return n?{type:"formula",expr:n,as:q_(r)}:null}).filter(r=>r!==null)}}class da extends Ut{clone(){return new da(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([In])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:In}}}class Af extends Ut{clone(){return new Af(null,this.params)}constructor(e,r){super(e),this.params=r}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ot(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Pf extends Ut{clone(){return new Pf(null,this.params)}constructor(e,r){super(e),this.params=r}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Ot(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Dc extends Ut{constructor(e){super(null),e??(e={name:"source"});let r;if(Yi(e)||(r=e.format?{...Sr(e.format,["parse"])}:{}),Pd(e))this._data={values:e.values};else if(ds(e)){if(this._data={url:e.url},!r.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];Et(["json","csv","tsv","dsv","topojson"],n)||(n="json"),r.type=n}}else BL(e)?this._data={values:[{type:"Sphere"}]}:(LL(e)||Yi(e))&&(this._data={});this._generator=Yi(e),e.name&&(this._name=e.name),r&&!qt(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var dD=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},j1t=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Il;function K2(t){return t instanceof Dc||t instanceof Af||t instanceof Pf}class Q2{constructor(){Il.set(this,void 0),dD(this,Il,!1,"f")}setModified(){dD(this,Il,!0,"f")}get modifiedFlag(){return j1t(this,Il,"f")}}Il=new WeakMap;class Xc extends Q2{getNodeDepths(e,r,n){n.set(e,r);for(const o of e.children)this.getNodeDepths(o,r+1,n);return n}optimize(e){const n=[...this.getNodeDepths(e,0,new Map).entries()].sort((o,i)=>i[1]-o[1]);for(const o of n)this.run(o[0]);return this.modifiedFlag}}class J2 extends Q2{optimize(e){this.run(e);for(const r of e.children)this.optimize(r);return this.modifiedFlag}}class T1t extends J2{mergeNodes(e,r){const n=r.shift();for(const o of r)e.removeChild(o),o.parent=n,o.remove()}run(e){const r=e.children.map(o=>o.hash()),n={};for(let o=0;o<r.length;o++)n[r[o]]===void 0?n[r[o]]=[e.children[o]]:n[r[o]].push(e.children[o]);for(const o of B(n))n[o].length>1&&(this.setModified(),this.mergeNodes(e,n[o]))}}class M1t extends J2{constructor(e){super(),this.requiresSelectionId=e&&W2(e)}run(e){e instanceof da&&(this.requiresSelectionId&&(K2(e.parent)||e.parent instanceof Tn||e.parent instanceof Ye)||(this.setModified(),e.remove()))}}class F1t extends Q2{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,r){let n=new Set;e instanceof ho&&(n=e.producedFields(),I_(n,r)&&(this.setModified(),e.removeFormulas(r),e.producedFields.length===0&&e.remove()));for(const o of e.children)this.run(o,new Set([...r,...n]))}}class z1t extends J2{constructor(){super()}run(e){e instanceof fr&&!e.isRequired()&&(this.setModified(),e.remove())}}class R1t extends Xc{run(e){if(!K2(e)&&!(e.numChildren()>1)){for(const r of e.children)if(r instanceof Ye)if(e instanceof Ye)this.setModified(),e.merge(r);else{if(B_(e.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}}class L1t extends Xc{run(e){const r=[...e.children],n=e.children.filter(o=>o instanceof Ye);if(e.numChildren()>1&&n.length>=1){const o={},i=new Set;for(const a of n){const c=a.parse;for(const u of B(c))u in o?o[u]!==c[u]&&i.add(u):o[u]=c[u]}for(const a of i)delete o[a];if(!qt(o)){this.setModified();const a=new Ye(e,o);for(const c of r){if(c instanceof Ye)for(const u of B(o))delete c.parse[u];e.removeChild(c),c.parent=a,c instanceof Ye&&B(c.parse).length===0&&c.remove()}}}}}class I1t extends Xc{run(e){e instanceof fr||e.numChildren()>0||e instanceof Rs||e instanceof Dc||(this.setModified(),e.remove())}}class B1t extends Xc{run(e){const r=e.children.filter(o=>o instanceof ho),n=r.pop();for(const o of r)this.setModified(),n.merge(o)}}class U1t extends Xc{run(e){const r=e.children.filter(o=>o instanceof Tn),n={};for(const o of r){const i=Ot(o.groupBy);i in n||(n[i]=[]),n[i].push(o)}for(const o of B(n)){const i=n[o];if(i.length>1){const a=i.pop();for(const c of i)a.merge(c)&&(e.removeChild(c),c.parent=a,c.remove(),this.setModified())}}}}class q1t extends Xc{constructor(e){super(),this.model=e}run(e){const r=!(K2(e)||e instanceof zs||e instanceof Ye||e instanceof da),n=[],o=[];for(const i of e.children)i instanceof po&&(r&&!B_(e.producedFields(),i.dependentFields())?n.push(i):o.push(i));if(n.length>0){const i=n.pop();for(const a of n)i.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof po?e.merge(i,this.model.renameSignal.bind(this.model)):i.swapWithParent()}if(o.length>1){const i=o.pop();for(const a of o)i.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class W1t extends Xc{run(e){const r=[...e.children];if(!_c(r,a=>a instanceof fr)||e.numChildren()<=1)return;const o=[];let i;for(const a of r)if(a instanceof fr){let c=a;for(;c.numChildren()===1;){const[u]=c.children;if(u instanceof fr)c=u;else break}o.push(...c.children),i?(e.removeChild(a),a.parent=i.parent,i.parent.removeChild(i),i.parent=c,this.setModified()):i=c}else o.push(a);if(o.length){this.setModified();for(const a of o)a.parent.removeChild(a),a.parent=i}}}class Kc extends Ut{clone(){return new Kc(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r}addDimensions(e){this.transform.groupby=co(this.transform.groupby.concat(e),r=>r)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map(r=>r.field).filter(r=>r!==void 0).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){return e.as??Q(e)}hash(){return`JoinAggregateTransform ${Ot(this.transform)}`}assemble(){const e=[],r=[],n=[];for(const i of this.transform.joinaggregate)r.push(i.op),n.push(this.getDefaultName(i)),e.push(i.field===void 0?null:i.field);const o=this.transform.groupby;return{type:"joinaggregate",as:n,ops:r,fields:e,...o!==void 0?{groupby:o}:{}}}}function H1t(t){return t.stack.stackBy.reduce((e,r)=>{const n=r.fieldDef,o=Q(n);return o&&e.push(o),e},[])}function G1t(t){return L(t)&&t.every(e=>J(e))&&t.length>1}class ii extends Ut{clone(){return new ii(null,ht(this._stack))}constructor(e,r){super(e),this._stack=r}static makeFromTransform(e,r){const{stack:n,groupby:o,as:i,offset:a="zero"}=r,c=[],u=[];if(r.sort!==void 0)for(const d of r.sort)c.push(d.field),u.push(ue(d.order,"ascending"));const s={field:c,order:u};let l;return G1t(i)?l=i:J(i)?l=[i,`${i}_end`]:l=[`${r.stack}_start`,`${r.stack}_end`],new ii(e,{dimensionFieldDefs:[],stackField:n,groupby:o,offset:a,sort:s,facetby:[],as:l})}static makeFromEncoding(e,r){const n=r.stack,{encoding:o}=r;if(!n)return null;const{groupbyChannels:i,fieldChannel:a,offset:c,impute:u}=n,s=i.map(h=>{const p=o[h];return ko(p)}).filter(h=>!!h),l=H1t(r),d=r.encoding.order;let f;if(L(d)||G(d))f=a4(d);else{const h=K4(d)?d.sort:a==="y"?"descending":"ascending";f=l.reduce((p,g)=>(p.field.push(g),p.order.push(h),p),{field:[],order:[]})}return new ii(e,{dimensionFieldDefs:s,stackField:r.vgField(a),facetby:[],stackby:l,sort:f,offset:c,impute:u,as:[r.vgField(a,{suffix:"start",forAs:!0}),r.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ot(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:e,impute:r,groupby:n}=this._stack;return e.length>0?e.map(o=>o.bin?r?[Q(o,{binSuffix:"mid"})]:[Q(o,{}),Q(o,{binSuffix:"end"})]:[Q(o)]).flat():n??[]}assemble(){const e=[],{facetby:r,dimensionFieldDefs:n,stackField:o,stackby:i,sort:a,offset:c,impute:u,as:s}=this._stack;if(u)for(const l of n){const{bandPosition:d=.5,bin:f}=l;if(f){const h=Q(l,{expr:"datum"}),p=Q(l,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:`${d}*${h}+${1-d}*${p}`,as:Q(l,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:o,groupby:[...i,...r],key:Q(l,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:o,sort:a,as:s,offset:c}),e}}class Ls extends Ut{clone(){return new Ls(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r}addDimensions(e){this.transform.groupby=co(this.transform.groupby.concat(e),r=>r)}dependentFields(){const e=new Set;return(this.transform.groupby??[]).forEach(e.add,e),(this.transform.sort??[]).forEach(r=>e.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>r!==void 0).forEach(e.add,e),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){return e.as??Q(e)}hash(){return`WindowTransform ${Ot(this.transform)}`}assemble(){const e=[],r=[],n=[],o=[];for(const d of this.transform.window)r.push(d.op),n.push(this.getDefaultName(d)),o.push(d.param===void 0?null:d.param),e.push(d.field===void 0?null:d.field);const i=this.transform.frame,a=this.transform.groupby;if(i&&i[0]===null&&i[1]===null&&r.every(d=>Q_(d)))return{type:"joinaggregate",as:n,ops:r,fields:e,...a!==void 0?{groupby:a}:{}};const c=[],u=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)c.push(d.field),u.push(d.order??"ascending");const s={field:c,order:u},l=this.transform.ignorePeers;return{type:"window",params:o,as:n,ops:r,fields:e,sort:s,...l!==void 0?{ignorePeers:l}:{},...a!==void 0?{groupby:a}:{},...i!==void 0?{frame:i}:{}}}}function Y1t(t){function e(r){if(!(r instanceof Rs)){const n=r.clone();if(n instanceof fr){const o=j1+n.getSource();n.setSource(o),t.model.component.data.outputNodes[o]=n}else(n instanceof Tn||n instanceof ii||n instanceof Ls||n instanceof Kc)&&n.addDimensions(t.fields);for(const o of r.children.flatMap(e))o.parent=n;return[n]}return r.children.flatMap(e)}return e}function D1(t){if(t instanceof Rs)if(t.numChildren()===1&&!(t.children[0]instanceof fr)){const e=t.children[0];(e instanceof Tn||e instanceof ii||e instanceof Ls||e instanceof Kc)&&e.addDimensions(t.fields),e.swapWithParent(),D1(t)}else{const e=t.model.component.data.main;jI(e);const r=Y1t(t),n=t.children.map(r).flat();for(const o of n)o.parent=e}else t.children.map(D1)}function jI(t){if(t instanceof fr&&t.type===Yt.Main&&t.numChildren()===1){const e=t.children[0];e instanceof Rs||(e.swapWithParent(),jI(t))}}const j1="scale_",ph=5;function T1(t){for(const e of t){for(const r of e.children)if(r.parent!==e)return!1;if(!T1(e.children))return!1}return!0}function gn(t,e){let r=!1;for(const n of e)r=t.optimize(n)||r;return r}function fD(t,e,r){let n=t.sources,o=!1;return o=gn(new z1t,n)||o,o=gn(new M1t(e),n)||o,n=n.filter(i=>i.numChildren()>0),o=gn(new I1t,n)||o,n=n.filter(i=>i.numChildren()>0),r||(o=gn(new R1t,n)||o,o=gn(new q1t(e),n)||o,o=gn(new F1t,n)||o,o=gn(new L1t,n)||o,o=gn(new U1t,n)||o,o=gn(new B1t,n)||o,o=gn(new T1t,n)||o,o=gn(new W1t,n)||o),t.sources=n,o}function V1t(t,e){T1(t.sources);let r=0,n=0;for(let o=0;o<ph&&fD(t,e,!0);o++)r++;t.sources.map(D1);for(let o=0;o<ph&&fD(t,e,!1);o++)n++;T1(t.sources),Math.max(r,n)===ph&&H(`Maximum optimization runs(${ph}) reached.`)}class Cr{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,r){return new Cr(()=>e(r))}}function TI(t){oe(t)?X1t(t):K1t(t)}function X1t(t){const e=t.component.scales;for(const r of B(e)){const n=J1t(t,r);if(e[r].setWithExplicit("domains",n),txt(t,r),t.component.data.isFaceted){let i=t;for(;!Mn(i)&&i.parent;)i=i.parent;if(i.component.resolve.scale[r]==="shared")for(const c of n.value)Jo(c)&&(c.data=j1+c.data.replace(j1,""))}}}function K1t(t){for(const r of t.children)TI(r);const e=t.component.scales;for(const r of B(e)){let n,o=null;for(const i of t.children){const a=i.component.scales[r];if(a){n===void 0?n=a.getWithExplicit("domains"):n=ua(n,a.getWithExplicit("domains"),"domains","scale",M1);const c=a.get("selectionExtent");o&&c&&o.param!==c.param&&H(Hgt),o=c}}e[r].setWithExplicit("domains",n),o&&e[r].set("selectionExtent",o,!0)}}function Q1t(t,e,r,n){if(t==="unaggregated"){const{valid:o,reason:i}=hD(e,r);if(!o){H(i);return}}else if(t===void 0&&n.useUnaggregatedDomain){const{valid:o}=hD(e,r);if(o)return"unaggregated"}return t}function J1t(t,e){const r=t.getScaleComponent(e).get("type"),{encoding:n}=t,o=Q1t(t.scaleDomain(e),t.typedFieldDef(e),r,t.config.scale);return o!==t.scaleDomain(e)&&(t.specifiedScales[e]={...t.specifiedScales[e],domain:o}),e==="x"&&he(n.x2)?he(n.x)?ua(Ei(r,o,t,"x"),Ei(r,o,t,"x2"),"domain","scale",M1):Ei(r,o,t,"x2"):e==="y"&&he(n.y2)?he(n.y)?ua(Ei(r,o,t,"y"),Ei(r,o,t,"y2"),"domain","scale",M1):Ei(r,o,t,"y2"):Ei(r,o,t,e)}function Z1t(t,e,r){return t.map(n=>({signal:`{data: ${ym(n,{timeUnit:r,type:e})}}`}))}function s0(t,e,r){var o;const n=(o=Oe(r))==null?void 0:o.unit;return e==="temporal"||n?Z1t(t,e,n):[t]}function Ei(t,e,r,n){const{encoding:o}=r,i=he(o[n]),{type:a}=i,c=i.timeUnit;if(bmt(e)){const d=Ei(t,void 0,r,n),f=s0(e.unionWith,a,c);return to([...f,...d.value])}else{if(at(e))return to([e]);if(e&&e!=="unaggregated"&&!j4(e))return to(s0(e,a,c))}const u=r.stack;if(u&&n===u.fieldChannel){if(u.offset==="normalize")return Lr([[0,1]]);const d=r.requestDataName(Yt.Main);return Lr([{data:d,field:r.vgField(n,{suffix:"start"})},{data:d,field:r.vgField(n,{suffix:"end"})}])}const s=vi(n)&&G(i)?ext(r,n,t):void 0;if(Mo(i)){const d=s0([i.datum],a,c);return Lr(d)}const l=i;if(e==="unaggregated"){const d=r.requestDataName(Yt.Main),{field:f}=i;return Lr([{data:d,field:Q({field:f,aggregate:"min"})},{data:d,field:Q({field:f,aggregate:"max"})}])}else if(Xt(l.bin)){if($e(t))return Lr(t==="bin-ordinal"?[]:[{data:Cd(s)?r.requestDataName(Yt.Main):r.requestDataName(Yt.Raw),field:r.vgField(n,Sf(l,n)?{binSuffix:"range"}:{}),sort:s===!0||!tt(s)?{field:r.vgField(n,{}),op:"min"}:s}]);{const{bin:d}=l;if(Xt(d)){const f=X2(r,l.field,d);return Lr([new Cr(()=>{const h=r.getSignalName(f);return`[${h}.start, ${h}.stop]`})])}else return Lr([{data:r.requestDataName(Yt.Main),field:r.vgField(n,{})}])}}else if(l.timeUnit&&Et(["time","utc"],t)&&X4(l,oe(r)?r.encoding[jo(n)]:void 0,r.markDef,r.config)){const d=r.requestDataName(Yt.Main);return Lr([{data:d,field:r.vgField(n)},{data:d,field:r.vgField(n,{suffix:"end"})}])}else return Lr(s?[{data:Cd(s)?r.requestDataName(Yt.Main):r.requestDataName(Yt.Raw),field:r.vgField(n),sort:s}]:[{data:r.requestDataName(Yt.Main),field:r.vgField(n)}])}function l0(t,e){const{op:r,field:n,order:o}=t;return{op:r??(e?"sum":pm),...n?{field:ln(n)}:{},...o?{order:o}:{}}}function txt(t,e){var c;const r=t.component.scales[e],n=t.specifiedScales[e].domain,o=(c=t.fieldDef(e))==null?void 0:c.bin,i=j4(n)&&n,a=Hc(o)&&cm(o.extent)&&o.extent;(i||a)&&r.set("selectionExtent",i??a,!0)}function ext(t,e,r){if(!$e(r))return;const n=t.fieldDef(e),o=n.sort;if(G4(o))return{op:"min",field:ps(n,e),order:"ascending"};const{stack:i}=t,a=i?new Set([...i.groupbyFields,...i.stackBy.map(c=>c.fieldDef.field)]):void 0;if(fo(o)){const c=i&&!a.has(o.field);return l0(o,c)}else if(H4(o)){const{encoding:c,order:u}=o,s=t.fieldDef(c),{aggregate:l,field:d}=s,f=i&&!a.has(d);if(si(l)||Oa(l))return l0({field:Q(s),order:u},f);if(Q_(l)||!l)return l0({op:l,field:d,order:u},f)}else{if(o==="descending")return{op:"min",field:t.vgField(e),order:"descending"};if(Et(["ascending",void 0],o))return!0}}function hD(t,e){const{aggregate:r,type:n}=t;return r?J(r)&&!Agt.has(r)?{valid:!1,reason:ybt(r)}:n==="quantitative"&&e==="log"?{valid:!1,reason:xbt(t)}:{valid:!0}:{valid:!1,reason:vbt(t)}}function M1(t,e,r,n){return t.explicit&&e.explicit&&H(Ebt(r,n,t.value,e.value)),{explicit:t.explicit,value:[...t.value,...e.value]}}function rxt(t){const e=co(t.map(a=>{if(Jo(a)){const{sort:c,...u}=a;return u}return a}),Ot),r=co(t.map(a=>{if(Jo(a)){const c=a.sort;return c!==void 0&&!Cd(c)&&("op"in c&&c.op==="count"&&delete c.field,c.order==="ascending"&&delete c.order),c}}).filter(a=>a!==void 0),Ot);if(e.length===0)return;if(e.length===1){const a=t[0];if(Jo(a)&&r.length>0){let c=r[0];if(r.length>1){H(ON);const u=r.filter(s=>tt(s)&&"op"in s&&s.op!=="min");r.every(s=>tt(s)&&"op"in s)&&u.length===1?c=u[0]:c=!0}else if(tt(c)&&"field"in c){const u=c.field;a.field===u&&(c=c.order?{order:c.order}:!0)}return{...a,sort:c}}return a}const n=co(r.map(a=>Cd(a)||!("op"in a)||J(a.op)&&a.op in Egt?a:(H($bt(a)),!0)),Ot);let o;n.length===1?o=n[0]:n.length>1&&(H(ON),o=!0);const i=co(t.map(a=>Jo(a)?a.data:null),a=>a);return i.length===1&&i[0]!==null?{data:i[0],fields:e.map(c=>c.field),...o?{sort:o}:{}}:{fields:e,...o?{sort:o}:{}}}function Z2(t){if(Jo(t)&&J(t.field))return t.field;if(Pgt(t)){let e;for(const r of t.fields)if(Jo(r)&&J(r.field)){if(!e)e=r.field;else if(e!==r.field)return H(Cbt),e}return H(Abt),e}else if(Ngt(t)){H(Pbt);const e=t.fields[0];return J(e)?e:void 0}}function Am(t,e){const n=t.component.scales[e].get("domains").map(o=>(Jo(o)&&(o.data=t.lookupDataSource(o.data)),o));return rxt(n)}function MI(t){return Is(t)||tO(t)?t.children.reduce((e,r)=>e.concat(MI(r)),pD(t)):pD(t)}function pD(t){return B(t.component.scales).reduce((e,r)=>{const n=t.component.scales[r];if(n.merged)return e;const o=n.combine(),{name:i,type:a,selectionExtent:c,domains:u,range:s,reverse:l,...d}=o,f=nxt(o.range,i,r,t),h=Am(t,r),p=c?Q0t(t,c,n,h):null;return e.push({name:i,type:a,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...l!==void 0?{reverse:l}:{},...d}),e},[])}function nxt(t,e,r,n){if(Se(r)){if(Ea(t))return{step:{signal:`${e}_step`}}}else if(tt(t)&&Jo(t))return{...t,data:n.lookupDataSource(t.data)};return t}class FI extends xi{constructor(e,r){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",r)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:_c(this.get("domains"),e=>L(e)&&e.length===2&&e[0]<=0&&e[1]>=0)}}const oxt=["range","scheme"];function ixt(t){const e=t.component.scales;for(const r of am){const n=e[r];if(!n)continue;const o=axt(r,t);n.setWithExplicit("range",o)}}function gD(t,e){const r=t.fieldDef(e);if(r!=null&&r.bin){const{bin:n,field:o}=r,i=Fr(e),a=t.getName(i);if(tt(n)&&n.binned&&n.step!==void 0)return new Cr(()=>{const c=t.scaleName(e),u=`(domain("${c}")[1] - domain("${c}")[0]) / ${n.step}`;return`${t.getSignalName(a)} / (${u})`});if(Xt(n)){const c=X2(t,o,n);return new Cr(()=>{const u=t.getSignalName(c),s=`(${u}.stop - ${u}.start) / ${u}.step`;return`${t.getSignalName(a)} / (${s})`})}}}function axt(t,e){const r=e.specifiedScales[t],{size:n}=e,i=e.getScaleComponent(t).get("type");for(const d of oxt)if(r[d]!==void 0){const f=v1(i,d),h=T4(t,d);if(!f)H(h4(i,d,t));else if(h)H(h);else switch(d){case"range":{const p=r.range;if(L(p)){if(Se(t))return to(p.map(g=>{if(g==="width"||g==="height"){const b=e.getName(g),m=e.getSignalName.bind(e);return Cr.fromName(m,b)}return g}))}else if(tt(p))return to({data:e.requestDataName(Yt.Main),field:p.field,sort:{op:"min",field:e.vgField(t)}});return to(p)}case"scheme":return to(cxt(r[d]))}}const a=t===te||t==="xOffset"?"width":"height",c=n[a];if(_o(c)){if(Se(t))if($e(i)){const d=zI(c,e,t);if(d)return to({step:d})}else H(p4(a));else if(Ts(t)){const d=t===ya?"x":"y";if(e.getScaleComponent(d).get("type")==="band"){const p=RI(c,i);if(p)return to(p)}}}const{rangeMin:u,rangeMax:s}=r,l=uxt(t,e);return(u!==void 0||s!==void 0)&&v1(i,"rangeMin")&&L(l)&&l.length===2?to([u??l[0],s??l[1]]):Lr(l)}function cxt(t){return gmt(t)?{scheme:t.name,...Sr(t,["name"])}:{scheme:t}}function uxt(t,e){const{size:r,config:n,mark:o,encoding:i}=e,a=e.getSignalName.bind(e),{type:c}=he(i[t]),s=e.getScaleComponent(t).get("type"),{domain:l,domainMid:d}=e.specifiedScales[t];switch(t){case te:case Ee:{if(Et(["point","band"],s)){const p=LI(t,r,n.view);if(_o(p))return{step:zI(p,e,t)}}const f=Fr(t),h=e.getName(f);return t===Ee&&Kr(s)?[Cr.fromName(a,h),0]:[0,Cr.fromName(a,h)]}case ya:case js:return sxt(t,e,s);case bi:{const f=e.component.scales[t].get("zero"),h=II(o,f,n),p=fxt(o,r,e,n);return cs(s)?dxt(h,p,lxt(s,n,l,t)):[h,p]}case hn:return[0,Math.PI*2];case qc:return[0,360];case Hn:return[0,new Cr(()=>{const f=e.getSignalName("width"),h=e.getSignalName("height");return`min(${f},${h})/2`})];case ka:return[n.scale.minStrokeWidth,n.scale.maxStrokeWidth];case _a:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Mr:return"symbol";case Tr:case No:case Do:return s==="ordinal"?c==="nominal"?"category":"ordinal":d!==void 0?"diverging":o==="rect"||o==="geoshape"?"heatmap":"ramp";case mi:case xa:case wa:return[n.scale.minOpacity,n.scale.maxOpacity]}}function zI(t,e,r){const{encoding:n}=e,o=e.getScaleComponent(r),i=Y_(r),a=n[i];if(EL({step:t,offsetIsDiscrete:pt(a)&&C4(a.type)})==="offset"&&cL(n,i)){const u=e.getScaleComponent(i);let l=`domain('${e.scaleName(i)}').length`;if(u.get("type")==="band"){const f=u.get("paddingInner")??u.get("padding")??0,h=u.get("paddingOuter")??u.get("padding")??0;l=`bandspace(${l}, ${f}, ${h})`}const d=o.get("paddingInner")??o.get("padding");return{signal:`${t.step} * ${l} / (1-${Mgt(d)})`}}else return t.step}function RI(t,e){if(EL({step:t,offsetIsDiscrete:$e(e)})==="offset")return{step:t.step}}function sxt(t,e,r){const n=t===ya?"x":"y",i=e.getScaleComponent(n).get("type"),a=e.scaleName(n);if(i==="band"){const c=LI(n,e.size,e.config.view);if(_o(c)){const u=RI(c,r);if(u)return u}return[0,{signal:`bandwidth('${a}')`}]}else{const c=e.encoding[n];if(G(c)&&c.timeUnit){const u=O4(c.timeUnit,l=>`scale('${a}', ${l})`),s=e.config.scale.bandWithNestedOffsetPaddingInner;if(s){const l=at(s)?`${s.signal}/2`:`${s/2}`,d=at(s)?`(1 - ${s.signal}/2)`:`${1-s/2}`;return[{signal:`${l} * (${u})`},{signal:`${d} * (${u})`}]}return[0,{signal:u}]}return j6(`Cannot use ${t} scale if ${n} scale is not discrete.`)}}function LI(t,e,r){const n=t===te?"width":"height",o=e[n];return o||Pg(r,n)}function lxt(t,e,r,n){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return r!==void 0&&L(r)?r.length+1:(H(Lbt(n)),3)}}function dxt(t,e,r){const n=()=>{const o=An(e),i=An(t),a=`(${o} - ${i}) / (${r} - 1)`;return`sequence(${i}, ${o} + ${a}, ${a})`};return at(e)?new Cr(n):{signal:n()}}function II(t,e,r){if(e)return at(e)?{signal:`${e.signal} ? 0 : ${II(t,!1,r)}`}:0;switch(t){case"bar":case"tick":return r.scale.minBandSize;case"line":case"trail":case"rule":return r.scale.minStrokeWidth;case"text":return r.scale.minFontSize;case"point":case"square":case"circle":return r.scale.minSize}throw new Error(um("size",t))}const bD=.95;function fxt(t,e,r,n){const o={x:gD(r,"x"),y:gD(r,"y")};switch(t){case"bar":case"tick":{if(n.scale.maxBandSize!==void 0)return n.scale.maxBandSize;const i=mD(e,o,n.view);return Bt(i)?i-1:new Cr(()=>`${i.signal} - 1`)}case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":{if(n.scale.maxSize)return n.scale.maxSize;const i=mD(e,o,n.view);return Bt(i)?Math.pow(bD*i,2):new Cr(()=>`pow(${bD} * ${i.signal}, 2)`)}}throw new Error(um("size",t))}function mD(t,e,r){const n=_o(t.width)?t.width.step:Ag(r,"width"),o=_o(t.height)?t.height.step:Ag(r,"height");return e.x||e.y?new Cr(()=>`min(${[e.x?e.x.signal:n,e.y?e.y.signal:o].join(", ")})`):Math.min(n,o)}function BI(t,e){oe(t)?hxt(t,e):qI(t,e)}function hxt(t,e){const r=t.component.scales,{config:n,encoding:o,markDef:i,specifiedScales:a}=t;for(const c of B(r)){const u=a[c],s=r[c],l=t.getScaleComponent(c),d=he(o[c]),f=u[e],h=l.get("type"),p=l.get("padding"),g=l.get("paddingInner"),b=v1(h,e),m=T4(c,e);if(f!==void 0&&(b?m&&H(m):H(h4(h,e,c))),b&&m===void 0)if(f!==void 0){const v=d.timeUnit,y=d.type;switch(e){case"domainMax":case"domainMin":Gc(u[e])||y==="temporal"||v?s.set(e,{signal:ym(u[e],{type:y,timeUnit:v})},!0):s.set(e,u[e],!0);break;default:s.copyKeyFromObject(e,u)}}else{const v=e in vD?vD[e]({model:t,channel:c,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:i,config:n,hasNestedOffsetScale:x1(o,c),hasSecondaryRangeChannel:!!o[jo(c)]}):n.scale[e];v!==void 0&&s.set(e,v,!1)}}}const vD={bins:({model:t,fieldOrDatumDef:e})=>G(e)?pxt(t,e):void 0,interpolate:({channel:t,fieldOrDatumDef:e})=>gxt(t,e.type),nice:({scaleType:t,channel:e,domain:r,domainMin:n,domainMax:o,fieldOrDatumDef:i})=>bxt(t,e,r,n,o,i),padding:({channel:t,scaleType:e,fieldOrDatumDef:r,markDef:n,config:o})=>mxt(t,e,o.scale,r,n,o.bar),paddingInner:({scalePadding:t,channel:e,markDef:r,scaleType:n,config:o,hasNestedOffsetScale:i})=>vxt(t,e,r.type,n,o.scale,i),paddingOuter:({scalePadding:t,channel:e,scaleType:r,scalePaddingInner:n,config:o,hasNestedOffsetScale:i})=>yxt(t,e,r,n,o.scale,i),reverse:({fieldOrDatumDef:t,scaleType:e,channel:r,config:n})=>{const o=G(t)?t.sort:void 0;return xxt(e,o,r,n.scale)},zero:({channel:t,fieldOrDatumDef:e,domain:r,markDef:n,scaleType:o,config:i,hasSecondaryRangeChannel:a})=>wxt(t,e,r,n,o,i.scale,a)};function UI(t){oe(t)?ixt(t):qI(t,"range")}function qI(t,e){const r=t.component.scales;for(const n of t.children)e==="range"?UI(n):BI(n,e);for(const n of B(r)){let o;for(const i of t.children){const a=i.component.scales[n];if(a){const c=a.getWithExplicit(e);o=ua(o,c,e,"scale",RL((u,s)=>{switch(e){case"range":return u.step&&s.step?u.step-s.step:0}return 0}))}}r[n].setWithExplicit(e,o)}}function pxt(t,e){const r=e.bin;if(Xt(r)){const n=X2(t,e.field,r);return new Cr(()=>t.getSignalName(n))}else if(Pe(r)&&Hc(r)&&r.step!==void 0)return{step:r.step}}function gxt(t,e){if(Et([Tr,No,Do],t)&&e!=="nominal")return"hcl"}function bxt(t,e,r,n,o,i){var a;if(!((a=ko(i))!=null&&a.bin||L(r)||o!=null||n!=null||Et([$r.TIME,$r.UTC],t)))return Se(e)?!0:void 0}function mxt(t,e,r,n,o,i){if(Se(t)){if(Pn(e)){if(r.continuousPadding!==void 0)return r.continuousPadding;const{type:a,orient:c}=o;if(a==="bar"&&!(G(n)&&(n.bin||n.timeUnit))&&(c==="vertical"&&t==="x"||c==="horizontal"&&t==="y"))return i.continuousBandSize}if(e===$r.POINT)return r.pointPadding}}function vxt(t,e,r,n,o,i=!1){if(t===void 0){if(Se(e)){const{bandPaddingInner:a,barBandPaddingInner:c,rectBandPaddingInner:u,bandWithNestedOffsetPaddingInner:s}=o;return i?s:ue(a,r==="bar"?c:u)}else if(Ts(e)&&n===$r.BAND)return o.offsetBandPaddingInner}}function yxt(t,e,r,n,o,i=!1){if(t===void 0){if(Se(e)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:c}=o;if(i)return c;if(r===$r.BAND)return ue(a,at(n)?{signal:`${n.signal}/2`}:n/2)}else if(Ts(e)){if(r===$r.POINT)return .5;if(r===$r.BAND)return o.offsetBandPaddingOuter}}}function xxt(t,e,r,n){if(r==="x"&&n.xReverse!==void 0)return Kr(t)&&e==="descending"?at(n.xReverse)?{signal:`!${n.xReverse.signal}`}:!n.xReverse:n.xReverse;if(Kr(t)&&e==="descending")return!0}function wxt(t,e,r,n,o,i,a){if(!!r&&r!=="unaggregated"&&Kr(o)){if(L(r)){const u=r[0],s=r[r.length-1];if(u<=0&&s>=0)return!0}return!1}if(t==="size"&&e.type==="quantitative"&&!cs(o))return!0;if(!(G(e)&&e.bin)&&Et([...To,...mgt],t)){const{orient:u,type:s}=n;return Et(["bar","area","line","trail"],s)&&(u==="horizontal"&&t==="y"||u==="vertical"&&t==="x")?!1:Et(["bar","area"],s)&&!a?!0:i==null?void 0:i.zero}return!1}function kxt(t,e,r,n,o=!1){const i=_xt(e,r,n,o),{type:a}=t;return vi(e)?a!==void 0?kmt(e,a)?G(r)&&!wmt(a,r.type)?(H(_bt(a,i)),i):a:(H(kbt(e,a,i)),i):i:null}function _xt(t,e,r,n){var o;switch(e.type){case"nominal":case"ordinal":{if(Pu(t)||e0(t)==="discrete")return t==="shape"&&e.type==="ordinal"&&H(r0(t,"ordinal")),"ordinal";if(Se(t)||Ts(t)){if(Et(["rect","bar","image","rule"],r.type)||n)return"band"}else if(r.type==="arc"&&t in K_)return"band";const i=r[Fr(t)];return Cc(i)||ss(e)&&((o=e.axis)!=null&&o.tickBand)?"band":"point"}case"temporal":return Pu(t)?"time":e0(t)==="discrete"?(H(r0(t,"temporal")),"ordinal"):G(e)&&e.timeUnit&&Oe(e.timeUnit).utc?"utc":"time";case"quantitative":return Pu(t)?G(e)&&Xt(e.bin)?"bin-ordinal":"linear":e0(t)==="discrete"?(H(r0(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(d4(e.type))}function Oxt(t,{ignoreRange:e}={}){WI(t),TI(t);for(const r of xmt)BI(t,r);e||UI(t)}function WI(t){oe(t)?t.component.scales=Ext(t):t.component.scales=$xt(t)}function Ext(t){const{encoding:e,mark:r,markDef:n}=t,o={};for(const i of am){const a=he(e[i]);if(a&&r===z4&&i===Mr&&a.type===Ms)continue;let c=a&&a.scale;if(Ts(i)){const u=X6(i);if(!x1(e,u)){c&&H(ubt(i));continue}}if(a&&c!==null&&c!==!1){c??(c={});const u=x1(e,i),s=kxt(c,i,a,n,u);o[i]=new FI(t.scaleName(`${i}`,!0),{value:s,explicit:c.type===s})}}return o}const Sxt=RL((t,e)=>SN(t)-SN(e));function $xt(t){var e;const r=t.component.scales={},n={},o=t.component.resolve;for(const i of t.children){WI(i);for(const a of B(i.component.scales))if((e=o.scale)[a]??(e[a]=wI(a,t)),o.scale[a]==="shared"){const c=n[a],u=i.component.scales[a].getWithExplicit("type");c?lmt(c.value,u.value)?n[a]=ua(c,u,"type","scale",Sxt):(o.scale[a]="independent",delete n[a]):n[a]=u}}for(const i of B(n)){const a=t.scaleName(i,!0),c=n[i];r[i]=new FI(a,c);for(const u of t.children){const s=u.component.scales[i];s&&(u.renameScale(s.get("name"),a),s.merged=!0)}}return r}class d0{constructor(){this.nameMap={}}rename(e,r){this.nameMap[e]=r}has(e){return this.nameMap[e]!==void 0}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function oe(t){return(t==null?void 0:t.type)==="unit"}function Mn(t){return(t==null?void 0:t.type)==="facet"}function tO(t){return(t==null?void 0:t.type)==="concat"}function Is(t){return(t==null?void 0:t.type)==="layer"}class eO{constructor(e,r,n,o,i,a,c){this.type=r,this.parent=n,this.config=i,this.correctDataNames=u=>{var s,l,d;return(s=u.from)!=null&&s.data&&(u.from.data=this.lookupDataSource(u.from.data)),(d=(l=u.from)==null?void 0:l.facet)!=null&&d.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=n,this.config=i,this.view=wr(c),this.name=e.name??o,this.title=Pi(e.title)?{text:e.title}:e.title?wr(e.title):void 0,this.scaleNameMap=n?n.scaleNameMap:new d0,this.projectionNameMap=n?n.projectionNameMap:new d0,this.signalNameMap=n?n.signalNameMap:new d0,this.data=e.data,this.description=e.description,this.transforms=T0t(e.transform??[]),this.layout=r==="layer"||r==="unit"?{}:Rvt(e,r,i),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:gm(e)||(n==null?void 0:n.component.data.isFaceted)&&e.data===void 0},layoutSize:new xi,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?ht(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Oxt(this)}parseProjection(){NI(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){SI(this)}assembleEncodeFromView(e){const{style:r,...n}=e,o={};for(const i of B(n)){const a=n[i];a!==void 0&&(o[i]=Qt(a))}return o}assembleGroupEncodeEntry(e){let r={};return this.view&&(r=this.assembleEncodeFromView(this.view)),!e&&(this.description&&(r.description=Qt(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...r??{}}:qt(r)?void 0:r}assembleLayout(){if(!this.layout)return;const{spacing:e,...r}=this.layout,{component:n,config:o}=this,i=Vyt(n.layoutHeaders,o);return{padding:e,...this.assembleDefaultLayout(),...r,...i?{titleBand:i}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let r=[];for(const n of rn)e[n].title&&r.push(Uyt(this,n));for(const n of H2)r=r.concat(qyt(this,n));return r}assembleAxes(){return Ayt(this.component.axes,this.config)}assembleLegends(){return CI(this)}assembleProjections(){return m1t(this)}assembleTitle(){const{encoding:e,...r}=this.title??{},n={...r4(this.config.title).nonMarkTitleProperties,...r,...e?{encode:{update:e}}:{}};if(n.text)return Et(["unit","layer"],this.type)?Et(["middle",void 0],n.anchor)&&(n.frame??(n.frame="group")):n.anchor??(n.anchor="start"),qt(n)?void 0:n}assembleGroup(e=[]){const r={};e=e.concat(this.assembleSignals()),e.length>0&&(r.signals=e);const n=this.assembleLayout();n&&(r.layout=n),r.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const o=!this.parent||Mn(this.parent)?MI(this):[];o.length>0&&(r.scales=o);const i=this.assembleAxes();i.length>0&&(r.axes=i);const a=this.assembleLegends();return a.length>0&&(r.legends=a),r}getName(e){return Zt((this.name?`${this.name}_`:"")+e)}getDataName(e){return this.getName(Yt[e].toLowerCase())}requestDataName(e){const r=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[r]=(n[r]||0)+1,r}getSizeSignalRef(e){if(Mn(this.parent)){const r=yI(e),n=im(r),o=this.component.scales[n];if(o&&!o.merged){const i=o.get("type"),a=o.get("range");if($e(i)&&Ea(a)){const c=o.get("name"),u=Am(this,n),s=Z2(u);if(s){const l=Q({aggregate:"distinct",field:s},{expr:"datum"});return{signal:vI(c,o,l)}}else return H(Z_(n)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const r=this.component.data.outputNodes[e];return r?r.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,r){this.signalNameMap.rename(e,r)}renameScale(e,r){this.scaleNameMap.rename(e,r)}renameProjection(e,r){this.projectionNameMap.rename(e,r)}scaleName(e,r){if(r)return this.getName(e);if(G6(e)&&vi(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e)))return this.scaleNameMap.get(this.getName(e))}projectionName(e){if(e)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const r=this.component.scales[e];return r&&!r.merged?r:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,r){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,r)),!n)throw new Error(Igt(r));return n}hasAxisOrientSignalRef(){var e,r;return((e=this.component.axes.x)==null?void 0:e.some(n=>n.hasOrientSignalRef()))||((r=this.component.axes.y)==null?void 0:r.some(n=>n.hasOrientSignalRef()))}}class HI extends eO{vgField(e,r={}){const n=this.fieldDef(e);if(n)return Q(n,r)}reduceFieldDef(e,r){return hvt(this.getMapping(),(n,o,i)=>{const a=ko(o);return a?e(n,a,i):n},r)}forEachFieldDef(e,r){$2(this.getMapping(),(n,o)=>{const i=ko(n);i&&e(i,o)},r)}}class Pm extends Ut{clone(){return new Pm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"value",n[1]??"density"],r.groupby&&r.minsteps==null&&r.maxsteps==null&&r.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ot(this.transform)}`}assemble(){const{density:e,...r}=this.transform;return{type:"kde",field:e,...r}}}class Nm extends Ut{clone(){return new Nm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Ot(this.transform)}`}assemble(){const{extent:e,param:r}=this.transform;return{type:"extent",field:e,signal:r}}}class Nd extends Ut{clone(){return new Nd(null,{...this.filter})}constructor(e,r){super(e),this.filter=r}static make(e,r){const{config:n,mark:o,markDef:i}=r;if(Lt("invalid",i,n)!=="filter")return null;const c=r.reduceFieldDef((u,s,l)=>{const d=vi(l)&&r.getScaleComponent(l);if(d){const f=d.get("type");Kr(f)&&s.aggregate!=="count"&&!Sa(o)&&(u[s.field]=s)}return u},{});return B(c).length?new Nd(e,c):null}dependentFields(){return new Set(B(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ot(this.filter)}`}assemble(){const e=B(this.filter).reduce((r,n)=>{const o=this.filter[n],i=Q(o,{expr:"datum"});return o!==null&&(o.type==="temporal"?r.push(`(isDate(${i}) || (isValid(${i}) && isFinite(+${i})))`):o.type==="quantitative"&&(r.push(`isValid(${i})`),r.push(`isFinite(+${i})`))),r},[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class Dm extends Ut{clone(){return new Dm(this.parent,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const{flatten:n,as:o=[]}=this.transform;this.transform.as=n.map((i,a)=>o[a]??i)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ot(this.transform)}`}assemble(){const{flatten:e,as:r}=this.transform;return{type:"flatten",fields:e,as:r}}}class jm extends Ut{clone(){return new jm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"key",n[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ot(this.transform)}`}assemble(){const{fold:e,as:r}=this.transform;return{type:"fold",fields:e,as:r}}}class ju extends Ut{clone(){return new ju(null,ht(this.fields),this.geojson,this.signal)}static parseAll(e,r){if(r.component.projection&&!r.component.projection.isFit)return e;let n=0;for(const o of[[Yn,Gn],[dn,Vn]]){const i=o.map(a=>{const c=he(r.encoding[a]);return G(c)?c.field:Mo(c)?{expr:`${c.datum}`}:Ln(c)?{expr:`${c.value}`}:void 0});(i[0]||i[1])&&(e=new ju(e,i,null,r.getName(`geojson_${n++}`)))}if(r.channelHasField(Mr)){const o=r.typedFieldDef(Mr);o.type===Ms&&(e=new ju(e,null,o.field,r.getName(`geojson_${n++}`)))}return e}constructor(e,r,n,o){super(e),this.fields=r,this.geojson=n,this.signal=o}dependentFields(){const e=(this.fields??[]).filter(J);return new Set([...this.geojson?[this.geojson]:[],...e])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ot(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Dd extends Ut{clone(){return new Dd(null,this.projection,ht(this.fields),ht(this.as))}constructor(e,r,n,o){super(e),this.projection=r,this.fields=n,this.as=o}static parseAll(e,r){if(!r.projectionName())return e;for(const n of[[Yn,Gn],[dn,Vn]]){const o=n.map(a=>{const c=he(r.encoding[a]);return G(c)?c.field:Mo(c)?{expr:`${c.datum}`}:Ln(c)?{expr:`${c.value}`}:void 0}),i=n[0]===dn?"2":"";(o[0]||o[1])&&(e=new Dd(e,r.projectionName(),o,[r.getName(`x${i}`),r.getName(`y${i}`)]))}return e}dependentFields(){return new Set(this.fields.filter(J))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ot(this.fields)} ${Ot(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class dc extends Ut{clone(){return new dc(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:r=0,stop:n,step:o}=e;return{signal:`sequence(${[r,n,...o?[o]:[]].join(",")})`}}static makeFromTransform(e,r){return new dc(e,r)}static makeFromEncoding(e,r){const n=r.encoding,o=n.x,i=n.y;if(G(o)&&G(i)){const a=o.impute?o:i.impute?i:void 0;if(a===void 0)return;const c=o.impute?i:i.impute?o:void 0,{method:u,value:s,frame:l,keyvals:d}=a.impute,f=sL(r.mark,n);return new dc(e,{impute:a.field,key:c.field,...u?{method:u}:{},...s!==void 0?{value:s}:{},...l?{frame:l}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${Ot(this.transform)}`}assemble(){const{impute:e,key:r,keyvals:n,method:o,groupby:i,value:a,frame:c=[null,null]}=this.transform,u={type:"impute",field:e,key:r,...n?{keyvals:g0t(n)?this.processSequence(n):n}:{},method:"value",...i?{groupby:i}:{},value:!o||o==="value"?a:null};if(o&&o!=="value"){const s={type:"window",as:[`imputed_${e}_value`],ops:[o],fields:[e],frame:c,ignorePeers:!1,...i?{groupby:i}:{}},l={type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e};return[u,s,l]}else return[u]}}class Tm extends Ut{clone(){return new Tm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??r.on,n[1]??r.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ot(this.transform)}`}assemble(){const{loess:e,on:r,...n}=this.transform;return{type:"loess",x:r,y:e,...n}}}class jd extends Ut{clone(){return new jd(null,ht(this.transform),this.secondary)}constructor(e,r,n){super(e),this.transform=r,this.secondary=n}static make(e,r,n,o){const i=r.component.data.sources,{from:a}=n;let c=null;if(b0t(a)){let u=VI(a.data,i);u||(u=new Dc(a.data),i.push(u));const s=r.getName(`lookup_${o}`);c=new fr(u,s,Yt.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[s]=c}else if(m0t(a)){const u=a.param;n={as:u,...n};let s;try{s=r.getSelectionComponent(Zt(u),u)}catch{throw new Error(qgt(u))}if(c=s.materialized,!c)throw new Error(Wgt(u))}return new jd(e,n,c.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Z(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ot({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e={values:this.transform.from.fields,...this.transform.as?{as:Z(this.transform.as)}:{}};else{let r=this.transform.as;J(r)||(H(Jgt),r="_lookup"),e={as:[r]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...e,...this.transform.default?{default:this.transform.default}:{}}}}class Mm extends Ut{clone(){return new Mm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"prob",n[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ot(this.transform)}`}assemble(){const{quantile:e,...r}=this.transform;return{type:"quantile",field:e,...r}}}class Fm extends Ut{clone(){return new Fm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r,this.transform=ht(r);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??r.on,n[1]??r.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ot(this.transform)}`}assemble(){const{regression:e,on:r,...n}=this.transform;return{type:"regression",x:r,y:e,...n}}}class zm extends Ut{clone(){return new zm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r}addDimensions(e){this.transform.groupby=co((this.transform.groupby??[]).concat(e),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Ot(this.transform)}`}assemble(){const{pivot:e,value:r,groupby:n,limit:o,op:i}=this.transform;return{type:"pivot",field:e,value:r,...o!==void 0?{limit:o}:{},...i!==void 0?{op:i}:{},...n!==void 0?{groupby:n}:{}}}}class Rm extends Ut{clone(){return new Rm(null,ht(this.transform))}constructor(e,r){super(e),this.transform=r}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ot(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function GI(t){let e=0;function r(n,o){if(n instanceof Dc&&!n.isGenerator&&!ds(n.data)&&(t.push(o),o={name:null,source:o.name,transform:[]}),n instanceof Ye&&(n.parent instanceof Dc&&!o.source?(o.format={...o.format??{},parse:n.assembleFormatParse()},o.transform.push(...n.assembleTransforms(!0))):o.transform.push(...n.assembleTransforms())),n instanceof Rs){o.name||(o.name=`data_${e++}`),!o.source||o.transform.length>0?(t.push(o),n.data=o.name):n.data=o.source,t.push(...n.assemble());return}switch((n instanceof Af||n instanceof Pf||n instanceof Nd||n instanceof zs||n instanceof hs||n instanceof Dd||n instanceof Tn||n instanceof jd||n instanceof Ls||n instanceof Kc||n instanceof jm||n instanceof Dm||n instanceof Pm||n instanceof Tm||n instanceof Mm||n instanceof Fm||n instanceof da||n instanceof Rm||n instanceof zm||n instanceof Nm)&&o.transform.push(n.assemble()),(n instanceof po||n instanceof ho||n instanceof dc||n instanceof ii||n instanceof ju)&&o.transform.push(...n.assemble()),n instanceof fr&&(o.source&&o.transform.length===0?n.setSource(o.source):n.parent instanceof fr?n.setSource(o.name):(o.name||(o.name=`data_${e++}`),n.setSource(o.name),n.numChildren()===1&&(t.push(o),o={name:null,source:o.name,transform:[]}))),n.numChildren()){case 0:n instanceof fr&&(!o.source||o.transform.length>0)&&t.push(o);break;case 1:r(n.children[0],o);break;default:{o.name||(o.name=`data_${e++}`);let i=o.name;!o.source||o.transform.length>0?t.push(o):i=o.source;for(const a of n.children)r(a,{name:null,source:i,transform:[]});break}}}return r}function Cxt(t){const e=[],r=GI(e);for(const n of t.children)r(n,{source:t.name,name:null,transform:[]});return e}function Axt(t,e){const r=[],n=GI(r);let o=0;for(const a of t.sources){a.hasName()||(a.dataName=`source_${o++}`);const c=a.assemble();n(a,c)}for(const a of r)a.transform.length===0&&delete a.transform;let i=0;for(const[a,c]of r.entries())(c.transform??[]).length===0&&!c.source&&r.splice(i++,0,r.splice(a,1)[0]);for(const a of r)for(const c of a.transform??[])c.type==="lookup"&&(c.from=t.outputNodes[c.from].getSource());for(const a of r)a.name in e&&(a.values=e[a.name]);return r}function Pxt(t){return t==="top"||t==="left"||at(t)?"header":"footer"}function Nxt(t){for(const e of rn)Dxt(t,e);yD(t,"x"),yD(t,"y")}function Dxt(t,e){var a;const{facet:r,config:n,child:o,component:i}=t;if(t.channelHasField(e)){const c=r[e],u=gs("title",null,n,e);let s=Nu(c,n,{allowDisabling:!0,includeDefault:u===void 0||!!u});o.component.layoutHeaders[e].title&&(s=L(s)?s.join(", "):s,s+=` / ${o.component.layoutHeaders[e].title}`,o.component.layoutHeaders[e].title=null);const l=gs("labelOrient",c.header,n,e),d=c.header!==null?ue((a=c.header)==null?void 0:a.labels,n.header.labels,!0):!1,f=Et(["bottom","right"],l)?"footer":"header";i.layoutHeaders[e]={title:c.header!==null?s:null,facetFieldDef:c,[f]:e==="facet"?[]:[YI(t,e,d)]}}}function YI(t,e,r){const n=e==="row"?"height":"width";return{labels:r,sizeSignal:t.child.component.layoutSize.get(n)?t.child.getSizeSignalRef(n):void 0,axes:[]}}function yD(t,e){const{child:r}=t;if(r.component.axes[e]){const{layoutHeaders:n,resolve:o}=t.component;if(o.axis[e]=V2(o,e),o.axis[e]==="shared"){const i=e==="x"?"column":"row",a=n[i];for(const c of r.component.axes[e]){const u=Pxt(c.get("orient"));a[u]??(a[u]=[YI(t,i,!1)]);const s=Ll(c,"main",t.config,{header:!0});s&&a[u][0].axes.push(s),c.mainExtracted=!0}}}}function jxt(t){rO(t),Tg(t,"width"),Tg(t,"height")}function Txt(t){rO(t);const e=t.layout.columns===1?"width":"childWidth",r=t.layout.columns===void 0?"height":"childHeight";Tg(t,e),Tg(t,r)}function rO(t){for(const e of t.children)e.parseLayoutSize()}function Tg(t,e){const r=yI(e),n=im(r),o=t.component.resolve,i=t.component.layoutSize;let a;for(const c of t.children){const u=c.component.layoutSize.getWithExplicit(r),s=o.scale[n]??wI(n,t);if(s==="independent"&&u.value==="step"){a=void 0;break}if(a){if(s==="independent"&&a.value!==u.value){a=void 0;break}a=ua(a,u,r,"")}else a=u}if(a){for(const c of t.children)t.renameSignal(c.getName(r),t.getName(e)),c.component.layoutSize.set(r,"merged",!1);i.setWithExplicit(e,a)}else i.setWithExplicit(e,{explicit:!1,value:void 0})}function Mxt(t){const{size:e,component:r}=t;for(const n of To){const o=Fr(n);if(e[o]){const i=e[o];r.layoutSize.set(o,_o(i)?"step":i,!0)}else{const i=Fxt(t,o);r.layoutSize.set(o,i,!1)}}}function Fxt(t,e){const r=e==="width"?"x":"y",n=t.config,o=t.getScaleComponent(r);if(o){const i=o.get("type"),a=o.get("range");if($e(i)){const c=Pg(n.view,e);return Ea(a)||_o(c)?"step":c}else return k1(n.view,e)}else{if(t.hasProjection||t.mark==="arc")return k1(n.view,e);{const i=Pg(n.view,e);return _o(i)?i.step:i}}}function F1(t,e,r){return Q(e,{suffix:`by_${Q(t)}`,...r??{}})}class rd extends HI{constructor(e,r,n,o){super(e,"facet",r,n,o,e.resolve),this.child=cO(e.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!Of(e))return{facet:this.initFacetFieldDef(e,"facet")};const r=B(e),n={};for(const o of r){if(![ri,ni].includes(o)){H(um(o,"facet"));break}const i=e[o];if(i.field===void 0){H(b1(i,o));break}n[o]=this.initFacetFieldDef(i,o)}return n}initFacetFieldDef(e,r){const n=E2(e,r);return n.header?n.header=wr(n.header):n.header===null&&(n.header=null),n}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=Lm(this),this.child.parseData()}parseLayoutSize(){rO(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Nxt(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const r of rn)for(const n of G2){const o=this.component.layoutHeaders[r],i=o[n],{facetFieldDef:a}=o;if(a){const c=gs("titleOrient",a.header,this.config,r);if(["right","bottom"].includes(c)){const u=$m(r,c);e.titleAnchor??(e.titleAnchor={}),e.titleAnchor[u]="end"}}if(i!=null&&i[0]){const c=r==="row"?"height":"width",u=n==="header"?"headerBand":"footerBand";r!=="facet"&&!this.child.component.layoutSize.get(c)&&(e[u]??(e[u]={}),e[u][r]=.5),o.title&&(e.offset??(e.offset={}),e.offset[r==="row"?"rowTitle":"columnTitle"]=10)}}return e}assembleDefaultLayout(){const{column:e,row:r}=this.facet,n=e?this.columnDistinctSignal():r?1:void 0;let o="all";return(!r&&this.component.resolve.scale.x==="independent"||!e&&this.component.resolve.scale.y==="independent")&&(o="none"),{...this.getHeaderLayoutMixins(),...n?{columns:n}:{},bounds:"full",align:o}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof rd))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(e){return this.parent&&this.parent instanceof rd?{...this.channelHasField("column")?{encode:{update:{columns:{field:Q(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(e)}:super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],r=[],n=[];if(this.child instanceof rd){if(this.child.channelHasField("column")){const o=Q(this.child.facet.column);e.push(o),r.push("distinct"),n.push(`distinct_${o}`)}}else for(const o of To){const i=this.child.component.scales[o];if(i&&!i.merged){const a=i.get("type"),c=i.get("range");if($e(a)&&Ea(c)){const u=Am(this.child,o),s=Z2(u);s?(e.push(s),r.push("distinct"),n.push(`distinct_${s}`)):H(Z_(o))}}}return{fields:e,ops:r,as:n}}assembleFacet(){const{name:e,data:r}=this.component.data.facetRoot,{row:n,column:o}=this.facet,{fields:i,ops:a,as:c}=this.getCardinalityAggregateForChild(),u=[];for(const l of rn){const d=this.facet[l];if(d){u.push(Q(d));const{bin:f,sort:h}=d;if(Xt(f)&&u.push(Q(d,{binSuffix:"end"})),fo(h)){const{field:p,op:g=pm}=h,b=F1(d,h);n&&o?(i.push(b),a.push("max"),c.push(b)):(i.push(p),a.push(g),c.push(b))}else if(L(h)){const p=ps(d,l);i.push(p),a.push("max"),c.push(p)}}}const s=!!n&&!!o;return{name:e,data:r,groupby:u,...s||i.length>0?{aggregate:{...s?{cross:s}:{},...i.length?{fields:i,ops:a,as:c}:{}}}:{}}}facetSortFields(e){const{facet:r}=this,n=r[e];return n?fo(n.sort)?[F1(n,n.sort,{expr:"datum"})]:L(n.sort)?[ps(n,e,{expr:"datum"})]:[Q(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:r}=this,n=r[e];if(n){const{sort:o}=n;return[(fo(o)?o.order:!L(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){var o;const{facet:e,config:r}=this;if(e.facet)return P1(e.facet,"facet",r);const n={row:["top","bottom"],column:["left","right"]};for(const i of H2)if(e[i]){const a=gs("labelOrient",(o=e[i])==null?void 0:o.header,r,i);if(n[i].includes(a))return P1(e[i],i,r)}}assembleMarks(){const{child:e}=this,r=this.component.data.facetRoot,n=Cxt(r),o=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),a=e.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...i?{title:i}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:rn.map(u=>this.facetSortFields(u)).flat(),order:rn.map(u=>this.facetSortOrder(u)).flat()},...n.length>0?{data:n}:{},...o?{encode:{update:o}}:{},...e.assembleGroup(Y0t(this,[]))}]}getMapping(){return this.facet}}function zxt(t,e){const{row:r,column:n}=e;if(r&&n){let o=null;for(const i of[r,n])if(fo(i.sort)){const{field:a,op:c=pm}=i.sort;t=o=new Kc(t,{joinaggregate:[{op:c,field:a,as:F1(i,i.sort,{forAs:!0})}],groupby:[Q(i)]})}return o}return null}function VI(t,e){var r,n,o,i;for(const a of e){const c=a.data;if(t.name&&a.hasName()&&t.name!==a.dataName)continue;const u=(r=t.format)==null?void 0:r.mesh,s=(n=c.format)==null?void 0:n.feature;if(u&&s)continue;const l=(o=t.format)==null?void 0:o.feature;if((l||s)&&l!==s)continue;const d=(i=c.format)==null?void 0:i.mesh;if(!((u||d)&&u!==d)){if(Pd(t)&&Pd(c)){if(ao(t.values,c.values))return a}else if(ds(t)&&ds(c)){if(t.url===c.url)return a}else if(LL(t)&&t.name===a.dataName)return a}}return null}function Rxt(t,e){if(t.data||!t.parent){if(t.data===null){const n=new Dc({values:[]});return e.push(n),n}const r=VI(t.data,e);if(r)return Yi(t.data)||(r.data.format=T6({},t.data.format,r.data.format)),!r.hasName()&&t.data.name&&(r.dataName=t.data.name),r;{const n=new Dc(t.data);return e.push(n),n}}else return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}function Lxt(t,e,r){let n=0;for(const o of e.transforms){let i,a;if($0t(o))a=t=new hs(t,o),i="derived";else if(R2(o)){const c=P1t(o);a=t=Ye.makeWithAncestors(t,{},c,r)??t,t=new zs(t,e,o.filter)}else if(TL(o))a=t=po.makeFromTransform(t,o,e),i="number";else if(A0t(o))i="date",r.getWithExplicit(o.field).value===void 0&&(t=new Ye(t,{[o.field]:i}),r.set(o.field,i,!1)),a=t=ho.makeFromTransform(t,o);else if(P0t(o))a=t=Tn.makeFromTransform(t,o),i="number",W2(e)&&(t=new da(t));else if(jL(o))a=t=jd.make(t,e,o,n++),i="derived";else if(O0t(o))a=t=new Ls(t,o),i="number";else if(E0t(o))a=t=new Kc(t,o),i="number";else if(N0t(o))a=t=ii.makeFromTransform(t,o),i="derived";else if(D0t(o))a=t=new jm(t,o),i="derived";else if(j0t(o))a=t=new Nm(t,o),i="derived";else if(S0t(o))a=t=new Dm(t,o),i="derived";else if(v0t(o))a=t=new zm(t,o),i="derived";else if(_0t(o))t=new Rm(t,o);else if(C0t(o))a=t=dc.makeFromTransform(t,o),i="derived";else if(y0t(o))a=t=new Pm(t,o),i="derived";else if(x0t(o))a=t=new Mm(t,o),i="derived";else if(w0t(o))a=t=new Fm(t,o),i="derived";else if(k0t(o))a=t=new Tm(t,o),i="derived";else{H(Qgt(o));continue}if(a&&i!==void 0)for(const c of a.producedFields()??[])r.set(c,i,!1)}return t}function Lm(t){var g;let e=Rxt(t,t.component.data.sources);const{outputNodes:r,outputNodeRefCounts:n}=t.component.data,o=t.data,a=!(o&&(Yi(o)||ds(o)||Pd(o)))&&t.parent?t.parent.component.data.ancestorParse.clone():new H0t;Yi(o)?(IL(o)?e=new Pf(e,o.sequence):L2(o)&&(e=new Af(e,o.graticule)),a.parseNothing=!0):((g=o==null?void 0:o.format)==null?void 0:g.parse)===null&&(a.parseNothing=!0),e=Ye.makeExplicit(e,t,a)??e,e=new da(e);const c=t.parent&&Is(t.parent);(oe(t)||Mn(t))&&c&&(e=po.makeFromEncoding(e,t)??e),t.transforms.length>0&&(e=Lxt(e,t,a));const u=D1t(t),s=N1t(t);e=Ye.makeWithAncestors(e,{},{...u,...s},a)??e,oe(t)&&(e=ju.parseAll(e,t),e=Dd.parseAll(e,t)),(oe(t)||Mn(t))&&(c||(e=po.makeFromEncoding(e,t)??e),e=ho.makeFromEncoding(e,t)??e,e=hs.parseAllForSortIndex(e,t));const l=t.getDataName(Yt.Raw),d=new fr(e,l,Yt.Raw,n);if(r[l]=d,e=d,oe(t)){const b=Tn.makeFromEncoding(e,t);b&&(e=b,W2(t)&&(e=new da(e))),e=dc.makeFromEncoding(e,t)??e,e=ii.makeFromEncoding(e,t)??e}oe(t)&&(e=Nd.make(e,t)??e);const f=t.getDataName(Yt.Main),h=new fr(e,f,Yt.Main,n);r[f]=h,e=h,oe(t)&&$yt(t,h);let p=null;if(Mn(t)){const b=t.getName("facet");e=zxt(e,t.facet)??e,p=new Rs(e,t,b,h.getSource()),r[b]=p}return{...t.component.data,outputNodes:r,outputNodeRefCounts:n,raw:d,main:h,facetRoot:p,ancestorParse:a}}class Ixt extends eO{constructor(e,r,n,o){var i,a,c,u;super(e,"concat",r,n,o,e.resolve),(((a=(i=e.resolve)==null?void 0:i.axis)==null?void 0:a.x)==="shared"||((u=(c=e.resolve)==null?void 0:c.axis)==null?void 0:u.y)==="shared")&&H(Vgt),this.children=this.getChildren(e).map((s,l)=>cO(s,this,this.getName(`concat_${l}`),void 0,o))}parseData(){this.component.data=Lm(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const r of B(e.component.selection))this.component.selection[r]=e.component.selection[r]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return km(e)?e.vconcat:F2(e)?e.hconcat:e.concat}parseLayoutSize(){Txt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce((r,n)=>n.assembleSelectionTopLevelSignals(r),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){const e=Y2(this);for(const r of this.children)e.push(...r.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce((r,n)=>n.assembleSelectionData(r),e)}assembleMarks(){return this.children.map(e=>{const r=e.assembleTitle(),n=e.assembleGroupStyle(),o=e.assembleGroupEncodeEntry(!1);return{type:"group",name:e.getName("group"),...r?{title:r}:{},...n?{style:n}:{},...o?{encode:{update:o}}:{},...e.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const e=this.layout.columns;return{...e!=null?{columns:e}:{},bounds:"full",align:"each"}}}function Bxt(t){return t===!1||t===null}const Uxt={disable:1,gridScale:1,scale:1,...iL,labelExpr:1,encode:1},XI=B(Uxt);class nO extends xi{constructor(e={},r={},n=!1){super(),this.explicit=e,this.implicit=r,this.mainExtracted=n}clone(){return new nO(ht(this.explicit),ht(this.implicit),this.mainExtracted)}hasAxisPart(e){return e==="axis"?!0:e==="grid"||e==="title"?!!this.get(e):!Bxt(this.get(e))}hasOrientSignalRef(){return at(this.explicit.orient)}}function qxt(t,e,r){const{encoding:n,config:o}=t,i=he(n[e])??he(n[jo(e)]),a=t.axis(e)||{},{format:c,formatType:u}=a;if(Ac(u))return{text:Nn({fieldOrDatumDef:i,field:"datum.value",format:c,formatType:u,config:o}),...r};if(c===void 0&&u===void 0&&o.customFormatTypes){if(us(i)==="quantitative"){if(ss(i)&&i.stack==="normalize"&&o.normalizedNumberFormatType)return{text:Nn({fieldOrDatumDef:i,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o}),...r};if(o.numberFormatType)return{text:Nn({fieldOrDatumDef:i,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}),...r}}if(us(i)==="temporal"&&o.timeFormatType&&G(i)&&!i.timeUnit)return{text:Nn({fieldOrDatumDef:i,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o}),...r}}return r}function Wxt(t){return To.reduce((e,r)=>(t.component.scales[r]&&(e[r]=[Qxt(r,t)]),e),{})}const Hxt={bottom:"top",top:"bottom",left:"right",right:"left"};function Gxt(t){const{axes:e,resolve:r}=t.component,n={top:0,bottom:0,right:0,left:0};for(const o of t.children){o.parseAxesAndHeaders();for(const i of B(o.component.axes))r.axis[i]=V2(t.component.resolve,i),r.axis[i]==="shared"&&(e[i]=Yxt(e[i],o.component.axes[i]),e[i]||(r.axis[i]="independent",delete e[i]))}for(const o of To){for(const i of t.children)if(i.component.axes[o]){if(r.axis[o]==="independent"){e[o]=(e[o]??[]).concat(i.component.axes[o]);for(const a of i.component.axes[o]){const{value:c,explicit:u}=a.getWithExplicit("orient");if(!at(c)){if(n[c]>0&&!u){const s=Hxt[c];n[c]>n[s]&&a.set("orient",s,!1)}n[c]++}}}delete i.component.axes[o]}if(r.axis[o]==="independent"&&e[o]&&e[o].length>1)for(const[i,a]of(e[o]||[]).entries())i>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function Yxt(t,e){if(t){if(t.length!==e.length)return;const r=t.length;for(let n=0;n<r;n++){const o=t[n],i=e[n];if(!!o!=!!i)return;if(o&&i){const a=o.getWithExplicit("orient"),c=i.getWithExplicit("orient");if(a.explicit&&c.explicit&&a.value!==c.value)return;t[n]=Vxt(o,i)}}}else return e.map(r=>r.clone());return t}function Vxt(t,e){for(const r of XI){const n=ua(t.getWithExplicit(r),e.getWithExplicit(r),r,"axis",(o,i)=>{switch(r){case"title":return s4(o,i);case"gridScale":return{explicit:o.explicit,value:ue(o.value,i.value)}}return Om(o,i,r,"axis")});t.setWithExplicit(r,n)}return t}function Xxt(t,e,r,n,o){if(e==="disable")return r!==void 0;switch(r=r||{},e){case"titleAngle":case"labelAngle":return t===(at(r.labelAngle)?r.labelAngle:Ad(r.labelAngle));case"values":return!!r.values;case"encode":return!!r.encoding||!!r.labelAngle;case"title":if(t===pI(n,o))return!0}return t===r[e]}const Kxt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Qxt(t,e){var m,v;let r=e.axis(t);const n=new nO,o=he(e.encoding[t]),{mark:i,config:a}=e,c=(r==null?void 0:r.orient)||((m=a[t==="x"?"axisX":"axisY"])==null?void 0:m.orient)||((v=a.axis)==null?void 0:v.orient)||zyt(t),u=e.getScaleComponent(t).get("type"),s=Pyt(t,u,c,e.config),l=r!==void 0?!r:C1("disable",a.style,r==null?void 0:r.style,s).configValue;if(n.set("disable",l,r!==void 0),l)return n;r=r||{};const d=Tyt(o,r,t,a.style,s),f=q4(r.formatType,o,u),h=U4(o,o.type,r.format,r.formatType,a,!0),p={fieldOrDatumDef:o,axis:r,channel:t,model:e,scaleType:u,orient:c,labelAngle:d,format:h,formatType:f,mark:i,config:a};for(const y of XI){const x=y in oD?oD[y](p):jN(y)?r[y]:void 0,k=x!==void 0,_=Xxt(x,y,r,e,t);if(k&&_)n.set(y,x,_);else{const{configValue:w=void 0,configFrom:O=void 0}=jN(y)&&y!=="values"?C1(y,a.style,r.style,s):{},C=w!==void 0;k&&!C?n.set(y,x,_):(O!=="vgAxisConfig"||Kxt.has(y)&&C||$f(w)||at(w))&&n.set(y,w,!1)}}const g=r.encoding??{},b=oL.reduce((y,x)=>{if(!n.hasAxisPart(x))return y;const k=xI(g[x]??{},e),_=x==="labels"?qxt(e,t,k):k;return _!==void 0&&!qt(_)&&(y[x]={update:_}),y},{});return qt(b)||n.set("encode",b,!!r.encoding||r.labelAngle!==void 0),n}function Jxt({encoding:t,size:e}){for(const r of To){const n=Fr(r);_o(e[n])&&Bi(t[r])&&(delete e[n],H(p4(n)))}return e}const Zxt={vgMark:"arc",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ge("x",t,{defaultPos:"mid"}),...Ge("y",t,{defaultPos:"mid"}),...sa(t,"radius"),...sa(t,"theta")})},twt={vgMark:"area",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Ng("x",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:t.markDef.orient==="horizontal"}),...Ng("y",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:t.markDef.orient==="vertical"}),...q2(t)})},ewt={vgMark:"rect",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...sa(t,"x"),...sa(t,"y")})},rwt={vgMark:"shape",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:t=>{const{encoding:e}=t,r=e.shape;return[{type:"geoshape",projection:t.projectionName(),...r&&G(r)&&r.type===Ms?{field:Q(r,{expr:"datum"})}:{}}]}},nwt={vgMark:"image",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...sa(t,"x"),...sa(t,"y"),...B2(t,"url")})},owt={vgMark:"line",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ge("x",t,{defaultPos:"mid"}),...Ge("y",t,{defaultPos:"mid"}),...ve("size",t,{vgChannel:"strokeWidth"}),...q2(t)})},iwt={vgMark:"trail",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ge("x",t,{defaultPos:"mid"}),...Ge("y",t,{defaultPos:"mid"}),...ve("size",t),...q2(t)})};function oO(t,e){const{config:r}=t;return{...pn(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ge("x",t,{defaultPos:"mid"}),...Ge("y",t,{defaultPos:"mid"}),...ve("size",t),...ve("angle",t),...awt(t,r,e)}}function awt(t,e,r){return r?{shape:{value:r}}:ve("shape",t)}const cwt={vgMark:"symbol",encodeEntry:t=>oO(t)},uwt={vgMark:"symbol",encodeEntry:t=>oO(t,"circle")},swt={vgMark:"symbol",encodeEntry:t=>oO(t,"square")},lwt={vgMark:"rect",encodeEntry:t=>({...pn(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...sa(t,"x"),...sa(t,"y")})},dwt={vgMark:"rule",encodeEntry:t=>{const{markDef:e}=t,r=e.orient;return!t.encoding.x&&!t.encoding.y&&!t.encoding.latitude&&!t.encoding.longitude?{}:{...pn(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ng("x",t,{defaultPos:r==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:r!=="vertical"}),...Ng("y",t,{defaultPos:r==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:r!=="horizontal"}),...ve("size",t,{vgChannel:"strokeWidth"})}}},fwt={vgMark:"text",encodeEntry:t=>{const{config:e,encoding:r}=t;return{...pn(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ge("x",t,{defaultPos:"mid"}),...Ge("y",t,{defaultPos:"mid"}),...B2(t),...ve("size",t,{vgChannel:"fontSize"}),...ve("angle",t),...tD("align",hwt(t.markDef,r,e)),...tD("baseline",pwt(t.markDef,r,e)),...Ge("radius",t,{defaultPos:null}),...Ge("theta",t,{defaultPos:null})}}};function hwt(t,e,r){if(Lt("align",t,r)===void 0)return"center"}function pwt(t,e,r){if(Lt("baseline",t,r)===void 0)return"middle"}const gwt={vgMark:"rect",encodeEntry:t=>{const{config:e,markDef:r}=t,n=r.orient,o=n==="horizontal"?"width":"height",i=n==="horizontal"?"height":"width";return{...pn(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ge("x",t,{defaultPos:"mid",vgChannel:"xc"}),...Ge("y",t,{defaultPos:"mid",vgChannel:"yc"}),...ve("size",t,{defaultValue:bwt(t),vgChannel:o}),[i]:Qt(Lt("thickness",r,e))}}};function bwt(t){const{config:e,markDef:r}=t,{orient:n}=r,o=n==="horizontal"?"width":"height",i=t.getScaleComponent(n==="horizontal"?"x":"y"),a=Lt("size",r,e,{vgChannel:o})??e.tick.bandSize;if(a!==void 0)return a;{const c=i?i.get("range"):void 0;return c&&Ea(c)&&Bt(c.step)?c.step*3/4:Ag(e.view,o)*3/4}}const gh={arc:Zxt,area:twt,bar:ewt,circle:uwt,geoshape:rwt,image:nwt,line:owt,point:cwt,rect:lwt,rule:dwt,square:swt,text:fwt,tick:gwt,trail:iwt};function mwt(t){if(Et([fm,lm,Emt],t.mark)){const e=sL(t.mark,t.encoding);if(e.length>0)return vwt(t,e)}else if(t.mark===dm){const e=g1.some(r=>Lt(r,t.markDef,t.config));if(t.stack&&!t.fieldDef("size")&&e)return ywt(t)}return iO(t)}const xD="faceted_path_";function vwt(t,e){return[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:xD+t.requestDataName(Yt.Main),data:t.requestDataName(Yt.Main),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:iO(t,{fromPrefix:xD})}]}const wD="stack_group_";function ywt(t){var s;const[e]=iO(t,{fromPrefix:wD}),r=t.scaleName(t.stack.fieldChannel),n=(l={})=>t.vgField(t.stack.fieldChannel,l),o=(l,d)=>{const f=[n({prefix:"min",suffix:"start",expr:d}),n({prefix:"max",suffix:"start",expr:d}),n({prefix:"min",suffix:"end",expr:d}),n({prefix:"max",suffix:"end",expr:d})];return`${l}(${f.map(h=>`scale('${r}',${h})`).join(",")})`};let i,a;t.stack.fieldChannel==="x"?(i={...rs(e.encode.update,["y","yc","y2","height",...g1]),x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},e.encode.update={...Sr(e.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(i={...rs(e.encode.update,["x","xc","x2","width"]),y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},e.encode.update={...Sr(e.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const l of g1){const d=li(l,t.markDef,t.config);e.encode.update[l]?(i[l]=e.encode.update[l],delete e.encode.update[l]):d&&(i[l]=Qt(d)),d&&(e.encode.update[l]={value:0})}const c=[];if(((s=t.stack.groupbyChannels)==null?void 0:s.length)>0)for(const l of t.stack.groupbyChannels){const d=t.fieldDef(l),f=Q(d);f&&c.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&c.push(Q(d,{binSuffix:"end"}))}return i=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((l,d)=>{if(e.encode.update[d])return{...l,[d]:e.encode.update[d]};{const f=li(d,t.markDef,t.config);return f!==void 0?{...l,[d]:Qt(f)}:l}},i),i.stroke&&(i.strokeForeground={value:!0},i.strokeOffset={value:0}),[{type:"group",from:{facet:{data:t.requestDataName(Yt.Main),name:wD+t.requestDataName(Yt.Main),groupby:c,aggregate:{fields:[n({suffix:"start"}),n({suffix:"start"}),n({suffix:"end"}),n({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:i},marks:[{type:"group",encode:{update:a},marks:[e]}]}]}function xwt(t){var c;const{encoding:e,stack:r,mark:n,markDef:o,config:i}=t,a=e.order;if(!(!L(a)&&Ln(a)&&h1(a.value)||!a&&h1(Lt("order",o,i)))){if((L(a)||G(a))&&!r)return a4(a,{expr:"datum"});if(Sa(n)){const u=o.orient==="horizontal"?"y":"x",s=e[u];if(G(s)){const l=s.sort;if(L(l))return{field:Q(s,{prefix:u,suffix:"sort_index",expr:"datum"})};if(fo(l))return{field:Q({aggregate:S2(t.encoding)?l.op:void 0,field:l.field},{expr:"datum"})};if(H4(l)){const d=t.fieldDef(l.encoding);return{field:Q(d,{expr:"datum"}),order:l.order}}else return l===null?void 0:{field:Q(s,{binSuffix:(c=t.stack)!=null&&c.impute?"mid":void 0,expr:"datum"})}}return}}}function iO(t,e={fromPrefix:""}){const{mark:r,markDef:n,encoding:o,config:i}=t,a=ue(n.clip,wwt(t),kwt(t)),c=o4(n),u=o.key,s=xwt(t),l=_wt(t),d=Lt("aria",n,i),f=gh[r].postEncodingTransform?gh[r].postEncodingTransform(t):null;return[{name:t.getName("marks"),type:gh[r].vgMark,...a?{clip:!0}:{},...c?{style:c}:{},...u?{key:u.field}:{},...s?{sort:s}:{},...l||{},...d===!1?{aria:d}:{},from:{data:e.fromPrefix+t.requestDataName(Yt.Main)},encode:{update:gh[r].encodeEntry(t)},...f?{transform:f}:{}}]}function wwt(t){const e=t.getScaleComponent("x"),r=t.getScaleComponent("y");return e!=null&&e.get("selectionExtent")||r!=null&&r.get("selectionExtent")?!0:void 0}function kwt(t){const e=t.component.projection;return e&&!e.isFit?!0:void 0}function _wt(t){if(!t.component.selection)return null;const e=B(t.component.selection).length;let r=e,n=t.parent;for(;n&&r===0;)r=B(n.component.selection).length,n=n.parent;return r?{interactive:e>0||t.mark==="geoshape"||!!t.encoding.tooltip}:null}class KI extends HI{constructor(e,r,n,o={},i){super(e,"unit",r,n,i,void 0,MN(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=wo(e.mark)?{...e.mark}:{type:e.mark},c=a.type;a.filled===void 0&&(a.filled=c0t(a,i,{graticule:e.data&&L2(e.data)}));const u=this.encoding=dvt(e.encoding||{},c,a.filled,i);this.markDef=PL(a,u,i),this.size=Jxt({encoding:u,size:MN(e)?{...o,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}}:o}),this.stack=AL(this.markDef,u),this.specifiedScales=this.initScales(c,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=e.projection,this.selection=(e.params??[]).filter(s=>T2(s))}get hasProjection(){const{encoding:e}=this,r=this.mark===z4,n=e&&sgt.some(o=>pt(e[o]));return r||n}scaleDomain(e){const r=this.specifiedScales[e];return r?r.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,r){return am.reduce((n,o)=>{const i=he(r[o]);return i&&(n[o]=this.initScale(i.scale??{})),n},{})}initScale(e){const{domain:r,range:n}=e,o=wr(e);return L(r)&&(o.domain=r.map(Ur)),L(n)&&(o.range=n.map(Ur)),o}initAxes(e){return To.reduce((r,n)=>{const o=e[n];if(pt(o)||n===te&&pt(e.x2)||n===Ee&&pt(e.y2)){const i=pt(o)?o.axis:void 0;r[n]=i&&this.initAxis({...i})}return r},{})}initAxis(e){const r=B(e),n={};for(const o of r){const i=e[o];n[o]=$f(i)?n4(i):Ur(i)}return n}initLegends(e){return vgt.reduce((r,n)=>{const o=he(e[n]);if(o&&xgt(n)){const i=o.legend;r[n]=i&&wr(i)}return r},{})}parseData(){this.component.data=Lm(this)}parseLayoutSize(){Mxt(this)}parseSelections(){this.component.selection=Syt(this,this.selection)}parseMarkGroup(){this.component.mark=mwt(this)}parseAxesAndHeaders(){this.component.axes=Wxt(this)}assembleSelectionTopLevelSignals(e){return V0t(this,e)}assembleSignals(){return[...dI(this),...G0t(this,[])]}assembleSelectionData(e){return X0t(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return Y2(this)}assembleMarks(){let e=this.component.mark??[];return(!this.parent||!Is(this.parent))&&(e=qL(this,e)),e.map(this.correctDataNames)}assembleGroupStyle(){const{style:e}=this.view||{};return e!==void 0?e:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return sc(this.encoding,e)}fieldDef(e){const r=this.encoding[e];return ko(r)}typedFieldDef(e){const r=this.fieldDef(e);return gr(r)?r:null}}class aO extends eO{constructor(e,r,n,o,i){super(e,"layer",r,n,i,e.resolve,e.view);const a={...o,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}};this.children=e.layer.map((c,u)=>{if(_m(c))return new aO(c,this,this.getName(`layer_${u}`),a,i);if(yi(c))return new KI(c,this,this.getName(`layer_${u}`),a,i);throw new Error(J_(c))})}parseData(){this.component.data=Lm(this);for(const e of this.children)e.parseData()}parseLayoutSize(){jxt(this)}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const r of B(e.component.selection))this.component.selection[r]=e.component.selection[r]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){Gxt(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((r,n)=>n.assembleSelectionTopLevelSignals(r),e)}assembleSignals(){return this.children.reduce((e,r)=>e.concat(r.assembleSignals()),dI(this))}assembleLayoutSignals(){return this.children.reduce((e,r)=>e.concat(r.assembleLayoutSignals()),Y2(this))}assembleSelectionData(e){return this.children.reduce((r,n)=>n.assembleSelectionData(r),e)}assembleGroupStyle(){const e=new Set;for(const n of this.children)for(const o of Z(n.assembleGroupStyle()))e.add(o);const r=Array.from(e);return r.length>1?r:r.length===1?r[0]:void 0}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const r of this.children)if(e=r.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return K0t(this,this.children.flatMap(e=>e.assembleMarks()))}assembleLegends(){return this.children.reduce((e,r)=>e.concat(r.assembleLegends()),CI(this))}}function cO(t,e,r,n,o){if(gm(t))return new rd(t,e,r,o);if(_m(t))return new aO(t,e,r,n,o);if(yi(t))return new KI(t,e,r,n,o);if(Mvt(t))return new Ixt(t,e,r,o);throw new Error(J_(t))}function Owt(t,e={}){e.logger&&Ibt(e.logger),e.fieldTitle&&eL(e.fieldTitle);try{const r=CL(vs(e.config,t.config)),n=zL(t,r),o=cO(n,null,"",void 0,r);return o.parse(),V1t(o.component.data,o),{spec:Swt(o,Ewt(t,n.autosize,r,o),t.datasets,t.usermeta),normalized:n}}finally{e.logger&&Bbt(),e.fieldTitle&&rvt()}}function Ewt(t,e,r,n){const o=n.component.layoutSize.get("width"),i=n.component.layoutSize.get("height");if(e===void 0?(e={type:"pad"},n.hasAxisOrientSignalRef()&&(e.resize=!0)):J(e)&&(e={type:e}),o&&i&&U0t(e.type)){if(o==="step"&&i==="step")H(yN()),e.type="pad";else if(o==="step"||i==="step"){const a=o==="step"?"width":"height";H(yN(im(a)));const c=a==="width"?"height":"width";e.type=q0t(c)}}return{...B(e).length===1&&e.type?e.type==="pad"?{}:{autosize:e.type}:{autosize:e},...YN(r,!1),...YN(t,!0)}}function Swt(t,e,r={},n){const o=t.config?Xvt(t.config):void 0,i=[].concat(t.assembleSelectionData([]),Axt(t.component.data,r)),a=t.assembleProjections(),c=t.assembleTitle(),u=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!0);let l=t.assembleLayoutSignals();l=l.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(e[h.name]=+h.value,!1):!0);const{params:d,...f}=e;return{$schema:"https://vega.github.io/schema/vega/v5.json",...t.description?{description:t.description}:{},...f,...c?{title:c}:{},...u?{style:u}:{},...s?{encode:{update:s}}:{},data:i,...a.length>0?{projections:a}:{},...t.assembleGroup([...l,...t.assembleSelectionTopLevelSignals([]),...OL(d)]),...o?{config:o}:{},...n?{usermeta:n}:{}}}const $wt=Zpt.version;var Cwt=Object.freeze({__proto__:null,accessPathDepth:ns,accessPathWithDatum:U_,compile:Owt,contains:Et,deepEqual:ao,deleteNestedProperty:yg,duplicate:ht,entries:aa,every:L_,fieldIntersection:B_,flatAccessWithDatum:F6,getFirstDefined:ue,hasIntersection:I_,hash:Ot,internalField:L6,isBoolean:Cd,isEmpty:qt,isEqual:igt,isInternalField:I6,isNullOrFalse:h1,isNumeric:Zb,keys:B,logicalExpr:td,mergeDeep:T6,never:j6,normalize:zL,normalizeAngle:Ad,omit:Sr,pick:rs,prefixGenerator:p1,removePathFromField:q_,replaceAll:Oc,replacePathInField:ln,resetIdCounter:cgt,setEqual:M6,some:_c,stringify:Vt,titleCase:vf,unique:co,uniqueId:R6,vals:Te,varName:Zt,version:$wt});function QI(t){const[e,r]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(t).slice(1,3);return{library:e,version:r}}var Awt="vega-themes",Pwt="2.14.0",Nwt="Themes for stylized Vega and Vega-Lite visualizations.",Dwt=["vega","vega-lite","themes","style"],jwt="BSD-3-Clause",Twt={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Mwt=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],Fwt="build/vega-themes.js",zwt="build/vega-themes.module.js",Rwt="build/vega-themes.min.js",Lwt="build/vega-themes.min.js",Iwt="build/vega-themes.module.d.ts",Bwt={type:"git",url:"https://github.com/vega/vega-themes.git"},Uwt=["src","build"],qwt={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},Wwt={"@babel/core":"^7.22.9","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-transform-runtime":"^7.22.9","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.1.0","@rollup/plugin-terser":"^0.4.3","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","browser-sync":"^2.29.3",concurrently:"^8.2.0",eslint:"^8.45.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^5.0.0","gh-pages":"^5.0.0",prettier:"^3.0.0","release-it":"^16.1.0",rollup:"^3.26.2","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.1.6",vega:"^5.25.0","vega-lite":"^5.9.3"},Hwt={vega:"*","vega-lite":"*"},Gwt={},Ywt={name:Awt,version:Pwt,description:Nwt,keywords:Dwt,license:jwt,author:Twt,contributors:Mwt,main:Fwt,module:zwt,unpkg:Rwt,jsdelivr:Lwt,types:Iwt,repository:Bwt,files:Uwt,scripts:qwt,devDependencies:Wwt,peerDependencies:Hwt,dependencies:Gwt};const du="#fff",kD="#888",Vwt={background:"#333",view:{stroke:kD},title:{color:du,subtitleColor:du},style:{"guide-label":{fill:du},"guide-title":{fill:du}},axis:{domainColor:du,gridColor:kD,tickColor:du}},Ta="#4572a7",Xwt={background:"#fff",arc:{fill:Ta},area:{fill:Ta},line:{stroke:Ta,strokeWidth:2},path:{stroke:Ta},rect:{fill:Ta},shape:{stroke:Ta},symbol:{fill:Ta,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ma="#30a2da",f0="#cbcbcb",Kwt="#999",Qwt="#333",_D="#f0f0f0",OD="#333",Jwt={arc:{fill:Ma},area:{fill:Ma},axis:{domainColor:f0,grid:!0,gridColor:f0,gridWidth:1,labelColor:Kwt,labelFontSize:10,titleColor:Qwt,tickColor:f0,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:_D,group:{fill:_D},legend:{labelColor:OD,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:OD,titleFontSize:14,titlePadding:10},line:{stroke:Ma,strokeWidth:2},path:{stroke:Ma,strokeWidth:.5},rect:{fill:Ma},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ma},bar:{binSpacing:2,fill:Ma,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Fa="#000",Zwt={group:{fill:"#e5e5e5"},arc:{fill:Fa},area:{fill:Fa},line:{stroke:Fa},path:{stroke:Fa},rect:{fill:Fa},shape:{stroke:Fa},symbol:{fill:Fa,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},tkt=22,ekt="normal",ED="Benton Gothic, sans-serif",SD=11.5,rkt="normal",za="#82c6df",h0="Benton Gothic Bold, sans-serif",$D="normal",CD=13,pl={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},nkt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:h0,fontSize:tkt,fontWeight:ekt},arc:{fill:za},area:{fill:za},line:{stroke:za,strokeWidth:2},path:{stroke:za},rect:{fill:za},shape:{stroke:za},symbol:{fill:za,size:30},axis:{labelFont:ED,labelFontSize:SD,labelFontWeight:rkt,titleFont:h0,titleFontSize:CD,titleFontWeight:$D},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:ED,labelFontSize:SD,symbolType:"square",titleFont:h0,titleFontSize:CD,titleFontWeight:$D},range:{category:pl["category-6"],diverging:pl["fireandice-6"],heatmap:pl["fire-7"],ordinal:pl["fire-7"],ramp:pl["fire-7"]}},Ra="#ab5787",bh="#979797",okt={background:"#f9f9f9",arc:{fill:Ra},area:{fill:Ra},line:{stroke:Ra},path:{stroke:Ra},rect:{fill:Ra},shape:{stroke:Ra},symbol:{fill:Ra,size:30},axis:{domainColor:bh,domainWidth:.5,gridWidth:.2,labelColor:bh,tickColor:bh,tickWidth:.2,titleColor:bh},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},La="#3e5c69",ikt={background:"#fff",arc:{fill:La},area:{fill:La},line:{stroke:La},path:{stroke:La},rect:{fill:La},shape:{stroke:La},symbol:{fill:La},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Jr="#1696d2",AD="#000000",akt="#FFFFFF",mh="Lato",p0="Lato",ckt="Lato",ukt="#DEDDDD",skt=18,gl={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},lkt={background:akt,title:{anchor:"start",fontSize:skt,font:mh},axisX:{domain:!0,domainColor:AD,domainWidth:1,grid:!1,labelFontSize:12,labelFont:p0,labelAngle:0,tickColor:AD,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:mh},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:ukt,gridWidth:1,labelFontSize:12,labelFont:p0,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:mh,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:p0,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:mh,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:gl["six-groups-cat-1"],diverging:gl["diverging-colors"],heatmap:gl["diverging-colors"],ordinal:gl["six-groups-seq"],ramp:gl["shades-blue"]},area:{fill:Jr},rect:{fill:Jr},line:{color:Jr,stroke:Jr,strokeWidth:5},trail:{color:Jr,stroke:Jr,strokeWidth:0,size:1},path:{stroke:Jr,strokeWidth:.5},point:{filled:!0},text:{font:ckt,color:Jr,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Jr,stroke:null}},arc:{fill:Jr},shape:{stroke:Jr},symbol:{fill:Jr,size:30}},Ia="#3366CC",PD="#ccc",vh="Arial, sans-serif",dkt={arc:{fill:Ia},area:{fill:Ia},path:{stroke:Ia},rect:{fill:Ia},shape:{stroke:Ia},symbol:{stroke:Ia},circle:{fill:Ia},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:vh,fontSize:12},"guide-title":{font:vh,fontSize:12},"group-title":{font:vh,fontSize:12}},title:{font:vh,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:PD,tickColor:PD,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},uO=t=>t*(1/3+1),ND=uO(9),DD=uO(10),jD=uO(12),bl="Segoe UI",TD="wf_standard-font, helvetica, arial, sans-serif",MD="#252423",ml="#605E5C",FD="transparent",fkt="#C8C6C4",mn="#118DFF",hkt="#12239E",pkt="#E66C37",gkt="#6B007B",bkt="#E044A7",mkt="#744EC2",vkt="#D9B300",ykt="#D64550",JI=mn,ZI="#DEEFFF",zD=[ZI,JI],xkt=[ZI,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",JI],wkt={view:{stroke:FD},background:FD,font:bl,header:{titleFont:TD,titleFontSize:jD,titleColor:MD,labelFont:bl,labelFontSize:DD,labelColor:ml},axis:{ticks:!1,grid:!1,domain:!1,labelColor:ml,labelFontSize:ND,titleFont:TD,titleColor:MD,titleFontSize:jD,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:fkt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:mn},line:{stroke:mn,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:bl,fontSize:ND,fill:ml},arc:{fill:mn},area:{fill:mn,line:!0,opacity:.6},path:{stroke:mn},rect:{fill:mn},point:{fill:mn,filled:!0,size:75},shape:{stroke:mn},symbol:{fill:mn,strokeWidth:1.5,size:50},legend:{titleFont:bl,titleFontWeight:"bold",titleColor:ml,labelFont:bl,labelFontSize:DD,labelColor:ml,symbolType:"circle",symbolSize:75},range:{category:[mn,hkt,pkt,gkt,bkt,mkt,vkt,ykt],diverging:zD,heatmap:zD,ordinal:xkt}},g0='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',RD=400,kkt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],_kt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function Im({type:t,background:e}){const r=t==="dark"?"#161616":"#ffffff",n=t==="dark"?"#f4f4f4":"#161616",o=t==="dark"?kkt:_kt,i=t==="dark"?"#d4bbff":"#6929c4";return{background:e,arc:{fill:i},area:{fill:i},path:{stroke:i},rect:{fill:i},shape:{stroke:i},symbol:{stroke:i},circle:{fill:i},view:{fill:r,stroke:r},group:{fill:r},title:{color:n,anchor:"start",dy:-15,fontSize:16,font:g0,fontWeight:600},axis:{labelColor:n,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:n,labelAngle:0},style:{"guide-label":{font:g0,fill:n,fontWeight:RD},"guide-title":{font:g0,fill:n,fontWeight:RD}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Okt=Im({type:"light",background:"#ffffff"}),Ekt=Im({type:"light",background:"#f4f4f4"}),Skt=Im({type:"dark",background:"#262626"}),$kt=Im({type:"dark",background:"#161616"}),Ckt=Ywt.version;var Akt=Object.freeze({__proto__:null,carbong10:Ekt,carbong100:$kt,carbong90:Skt,carbonwhite:Okt,dark:Vwt,excel:Xwt,fivethirtyeight:Jwt,ggplot2:Zwt,googlecharts:dkt,latimes:nkt,powerbi:wkt,quartz:okt,urbaninstitute:lkt,version:Ckt,vox:ikt});function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Pkt(t,e){if(Td(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nkt(t){var e=Pkt(t,"string");return Td(e)==="symbol"?e:String(e)}function Dkt(t,e,r){return e=Nkt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jkt(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function Tkt(t,e){if(t==null)return{};var r=jkt(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const Mkt=["title","image"];function Fkt(t,e,r){if(L(t))return`[${t.map(n=>e(J(n)?n:LD(n,r))).join(", ")}]`;if(tt(t)){let n="";const o=t,{title:i,image:a}=o,c=Tkt(o,Mkt);i&&(n+=`<h2>${e(i)}</h2>`),a&&(n+=`<img src="${e(a)}">`);const u=Object.keys(c);if(u.length>0){n+="<table>";for(const s of u){let l=c[s];l!==void 0&&(tt(l)&&(l=LD(l,r)),n+=`<tr><td class="key">${e(s)}:</td><td class="value">${e(l)}</td></tr>`)}n+="</table>"}return n||"{}"}return e(t)}function zkt(t){const e=[];return function(r,n){if(typeof n!="object"||n===null)return n;const o=e.indexOf(this)+1;return e.length=o,e.length>t?"[Object]":e.indexOf(n)>=0?"[Circular]":(e.push(n),n)}}function LD(t,e){return JSON.stringify(t,zkt(e))}var Rkt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const t8="vg-tooltip-element",Lkt={offsetX:10,offsetY:10,id:t8,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Ikt,maxDepth:2,formatTooltip:Fkt};function Ikt(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Bkt(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return Rkt.toString().replace(t8,t)}function Ukt(t,e,r,n){let o=t.clientX+r;o+e.width>window.innerWidth&&(o=+t.clientX-r-e.width);let i=t.clientY+n;return i+e.height>window.innerHeight&&(i=+t.clientY-n-e.height),{x:o,y:i}}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){Dkt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}class qkt{constructor(e){this.options=BD(BD({},Lkt),e);const r=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const n=document.createElement("style");n.setAttribute("id",this.options.styleId),n.innerHTML=Bkt(r);const o=document.head;o.childNodes.length>0?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)}}tooltipHandler(e,r,n,o){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),o==null||o===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:a}=Ukt(r,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${a}px`,this.el.style.left=`${i}px`}}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Wkt(t,e){if(Md(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Md(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hkt(t){var e=Wkt(t,"string");return Md(e)==="symbol"?e:String(e)}function Gkt(t,e,r){return e=Hkt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ykt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b0,UD;function Vkt(){return UD||(UD=1,b0=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),b0}var Xkt=Tt;Tt.Node=jc;Tt.create=Tt;function Tt(t){var e=this;if(e instanceof Tt||(e=new Tt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Tt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Tt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Tt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Tt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Qkt(this,arguments[t]);return this.length};Tt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Jkt(this,arguments[t]);return this.length};Tt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Tt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Tt.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Tt.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Tt.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Tt.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Tt.prototype.map=function(t,e){e=e||this;for(var r=new Tt,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Tt.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Tt,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Tt.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)r=t(r,n.value,o),n=n.next;return r};Tt.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)r=t(r,n.value,o),n=n.prev;return r};Tt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Tt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Tt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Tt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,o=this.head;o!==null&&n<t;n++)o=o.next;for(;o!==null&&n<e;n++,o=o.next)r.push(o.value);return r};Tt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Tt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,o=this.tail;o!==null&&n>e;n--)o=o.prev;for(;o!==null&&n>t;n--,o=o.prev)r.push(o.value);return r};Tt.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;o!==null&&n<t;n++)o=o.next;for(var i=[],n=0;o&&n<e;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=Kkt(this,o,r[n]);return i};Tt.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Kkt(t,e,r){var n=e===t.head?new jc(r,null,e,t):new jc(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Qkt(t,e){t.tail=new jc(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Jkt(t,e){t.head=new jc(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function jc(t,e,r,n){if(!(this instanceof jc))return new jc(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Vkt()(Tt)}catch{}const Zkt=Xkt,Ka=Symbol("max"),Ho=Symbol("length"),fu=Symbol("lengthCalculator"),nd=Symbol("allowStale"),ec=Symbol("maxAge"),Uo=Symbol("dispose"),qD=Symbol("noDisposeOnSet"),me=Symbol("lruList"),vn=Symbol("cache"),e8=Symbol("updateAgeOnGet"),m0=()=>1;class t_t{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Ka]=e.max||1/0;const r=e.length||m0;if(this[fu]=typeof r!="function"?m0:r,this[nd]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ec]=e.maxAge||0,this[Uo]=e.dispose,this[qD]=e.noDisposeOnSet||!1,this[e8]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ka]=e||1/0,vl(this)}get max(){return this[Ka]}set allowStale(e){this[nd]=!!e}get allowStale(){return this[nd]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ec]=e,vl(this)}get maxAge(){return this[ec]}set lengthCalculator(e){typeof e!="function"&&(e=m0),e!==this[fu]&&(this[fu]=e,this[Ho]=0,this[me].forEach(r=>{r.length=this[fu](r.value,r.key),this[Ho]+=r.length})),vl(this)}get lengthCalculator(){return this[fu]}get length(){return this[Ho]}get itemCount(){return this[me].length}rforEach(e,r){r=r||this;for(let n=this[me].tail;n!==null;){const o=n.prev;WD(this,e,n,r),n=o}}forEach(e,r){r=r||this;for(let n=this[me].head;n!==null;){const o=n.next;WD(this,e,n,r),n=o}}keys(){return this[me].toArray().map(e=>e.key)}values(){return this[me].toArray().map(e=>e.value)}reset(){this[Uo]&&this[me]&&this[me].length&&this[me].forEach(e=>this[Uo](e.key,e.value)),this[vn]=new Map,this[me]=new Zkt,this[Ho]=0}dump(){return this[me].map(e=>Mg(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[me]}set(e,r,n){if(n=n||this[ec],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[fu](r,e);if(this[vn].has(e)){if(i>this[Ka])return Tu(this,this[vn].get(e)),!1;const u=this[vn].get(e).value;return this[Uo]&&(this[qD]||this[Uo](e,u.value)),u.now=o,u.maxAge=n,u.value=r,this[Ho]+=i-u.length,u.length=i,this.get(e),vl(this),!0}const a=new e_t(e,r,i,o,n);return a.length>this[Ka]?(this[Uo]&&this[Uo](e,r),!1):(this[Ho]+=a.length,this[me].unshift(a),this[vn].set(e,this[me].head),vl(this),!0)}has(e){if(!this[vn].has(e))return!1;const r=this[vn].get(e).value;return!Mg(this,r)}get(e){return v0(this,e,!0)}peek(e){return v0(this,e,!1)}pop(){const e=this[me].tail;return e?(Tu(this,e),e.value):null}del(e){Tu(this,this[vn].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const o=e[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const a=i-r;a>0&&this.set(o.k,o.v,a)}}}prune(){this[vn].forEach((e,r)=>v0(this,r,!1))}}const v0=(t,e,r)=>{const n=t[vn].get(e);if(n){const o=n.value;if(Mg(t,o)){if(Tu(t,n),!t[nd])return}else r&&(t[e8]&&(n.value.now=Date.now()),t[me].unshiftNode(n));return o.value}},Mg=(t,e)=>{if(!e||!e.maxAge&&!t[ec])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[ec]&&r>t[ec]},vl=t=>{if(t[Ho]>t[Ka])for(let e=t[me].tail;t[Ho]>t[Ka]&&e!==null;){const r=e.prev;Tu(t,e),e=r}},Tu=(t,e)=>{if(e){const r=e.value;t[Uo]&&t[Uo](r.key,r.value),t[Ho]-=r.length,t[vn].delete(r.key),t[me].removeNode(e)}};class e_t{constructor(e,r,n,o,i){this.key=e,this.value=r,this.length=n,this.now=o,this.maxAge=i||0}}const WD=(t,e,r,n)=>{let o=r.value;Mg(t,o)&&(Tu(t,r),t[nd]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};var r_t=t_t;const n_t=Object.freeze({loose:!0}),o_t=Object.freeze({}),i_t=t=>t?typeof t!="object"?n_t:t:o_t;var sO=i_t,z1={exports:{}};const a_t="2.0.0",r8=256,c_t=Number.MAX_SAFE_INTEGER||9007199254740991,u_t=16,s_t=r8-6,l_t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var lO={MAX_LENGTH:r8,MAX_SAFE_COMPONENT_LENGTH:u_t,MAX_SAFE_BUILD_LENGTH:s_t,MAX_SAFE_INTEGER:c_t,RELEASE_TYPES:l_t,SEMVER_SPEC_VERSION:a_t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const d_t=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Bm=d_t;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=lO,i=Bm;e=t.exports={};const a=e.re=[],c=e.safeRe=[],u=e.src=[],s=e.t={};let l=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",o],[d,n]],h=g=>{for(const[b,m]of f)g=g.split(`${b}*`).join(`${b}{0,${m}}`).split(`${b}+`).join(`${b}{1,${m}}`);return g},p=(g,b,m)=>{const v=h(b),y=l++;i(g,y,b),s[g]=y,u[y]=b,a[y]=new RegExp(b,m?"g":void 0),c[y]=new RegExp(v,m?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${u[s.NUMERICIDENTIFIER]})\\.(${u[s.NUMERICIDENTIFIER]})\\.(${u[s.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[s.NUMERICIDENTIFIERLOOSE]})\\.(${u[s.NUMERICIDENTIFIERLOOSE]})\\.(${u[s.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[s.NUMERICIDENTIFIER]}|${u[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[s.NUMERICIDENTIFIERLOOSE]}|${u[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[s.PRERELEASEIDENTIFIER]}(?:\\.${u[s.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[s.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${u[s.BUILDIDENTIFIER]}(?:\\.${u[s.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[s.MAINVERSION]}${u[s.PRERELEASE]}?${u[s.BUILD]}?`),p("FULL",`^${u[s.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[s.MAINVERSIONLOOSE]}${u[s.PRERELEASELOOSE]}?${u[s.BUILD]}?`),p("LOOSE",`^${u[s.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[s.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[s.XRANGEIDENTIFIER]})(?:\\.(${u[s.XRANGEIDENTIFIER]})(?:\\.(${u[s.XRANGEIDENTIFIER]})(?:${u[s.PRERELEASE]})?${u[s.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[s.XRANGEIDENTIFIERLOOSE]})(?:${u[s.PRERELEASELOOSE]})?${u[s.BUILD]}?)?)?`),p("XRANGE",`^${u[s.GTLT]}\\s*${u[s.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[s.GTLT]}\\s*${u[s.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",u[s.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${u[s.LONETILDE]}${u[s.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[s.LONETILDE]}${u[s.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${u[s.LONECARET]}${u[s.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[s.LONECARET]}${u[s.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[s.GTLT]}\\s*(${u[s.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[s.GTLT]}\\s*(${u[s.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[s.GTLT]}\\s*(${u[s.LOOSEPLAIN]}|${u[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[s.XRANGEPLAIN]})\\s+-\\s+(${u[s.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[s.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(z1,z1.exports);var dO=z1.exports;const HD=/^[0-9]+$/,n8=(t,e)=>{const r=HD.test(t),n=HD.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},f_t=(t,e)=>n8(e,t);var h_t={compareIdentifiers:n8,rcompareIdentifiers:f_t};const yh=Bm,{MAX_LENGTH:GD,MAX_SAFE_INTEGER:xh}=lO,{safeRe:YD,t:VD}=dO,p_t=sO,{compareIdentifiers:hu}=h_t;let g_t=class Jn{constructor(e,r){if(r=p_t(r),e instanceof Jn){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>GD)throw new TypeError(`version is longer than ${GD} characters`);yh("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?YD[VD.LOOSE]:YD[VD.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>xh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const i=+o;if(i>=0&&i<xh)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(yh("SemVer.compare",this.version,this.options,e),!(e instanceof Jn)){if(typeof e=="string"&&e===this.version)return 0;e=new Jn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Jn||(e=new Jn(e,this.options)),hu(this.major,e.major)||hu(this.minor,e.minor)||hu(this.patch,e.patch)}comparePre(e){if(e instanceof Jn||(e=new Jn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],o=e.prerelease[r];if(yh("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return hu(n,o)}while(++r)}compareBuild(e){e instanceof Jn||(e=new Jn(e,this.options));let r=0;do{const n=this.build[r],o=e.build[r];if(yh("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return hu(n,o)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let i=[r,o];n===!1&&(i=[r]),hu(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var fO=g_t;const XD=fO,b_t=(t,e,r)=>new XD(t,r).compare(new XD(e,r));var Bs=b_t;const m_t=Bs,v_t=(t,e,r)=>m_t(t,e,r)===0;var y_t=v_t;const x_t=Bs,w_t=(t,e,r)=>x_t(t,e,r)!==0;var k_t=w_t;const __t=Bs,O_t=(t,e,r)=>__t(t,e,r)>0;var E_t=O_t;const S_t=Bs,$_t=(t,e,r)=>S_t(t,e,r)>=0;var C_t=$_t;const A_t=Bs,P_t=(t,e,r)=>A_t(t,e,r)<0;var N_t=P_t;const D_t=Bs,j_t=(t,e,r)=>D_t(t,e,r)<=0;var T_t=j_t;const M_t=y_t,F_t=k_t,z_t=E_t,R_t=C_t,L_t=N_t,I_t=T_t,B_t=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return M_t(t,r,n);case"!=":return F_t(t,r,n);case">":return z_t(t,r,n);case">=":return R_t(t,r,n);case"<":return L_t(t,r,n);case"<=":return I_t(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var U_t=B_t,y0,KD;function q_t(){if(KD)return y0;KD=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,d){if(d=r(d),l instanceof e){if(l.loose===!!d.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),a("comparator",l,d),this.options=d,this.loose=!!d.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(l){const d=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],f=l.match(d);if(!f)throw new TypeError(`Invalid comparator: ${l}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new c(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(a("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new c(l,this.options)}catch{return!1}return i(l,this.operator,this.semver,this.options)}intersects(l,d){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(l.value,d).test(this.value):l.operator===""?l.value===""?!0:new u(this.value,d).test(l.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||i(this.semver,"<",l.semver,d)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||i(this.semver,">",l.semver,d)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}y0=e;const r=sO,{safeRe:n,t:o}=dO,i=U_t,a=Bm,c=fO,u=o8();return y0}var x0,QD;function o8(){if(QD)return x0;QD=1;class t{constructor(P,E){if(E=n(E),P instanceof t)return P.loose===!!E.loose&&P.includePrerelease===!!E.includePrerelease?P:new t(P.raw,E);if(P instanceof o)return this.raw=P.value,this.set=[[P]],this.format(),this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=P.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(D=>!p(D[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&g(D[0])){this.set=[D];break}}}this.format()}format(){return this.range=this.set.map(P=>P.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(P){const N=((this.options.includePrerelease&&f)|(this.options.loose&&h))+":"+P,D=r.get(N);if(D)return D;const F=this.options.loose,I=F?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];P=P.replace(I,A(this.options.includePrerelease)),i("hyphen replace",P),P=P.replace(c[u.COMPARATORTRIM],s),i("comparator trim",P),P=P.replace(c[u.TILDETRIM],l),i("tilde trim",P),P=P.replace(c[u.CARETTRIM],d),i("caret trim",P);let rt=P.split(" ").map(_t=>m(_t,this.options)).join(" ").split(/\s+/).map(_t=>S(_t,this.options));F&&(rt=rt.filter(_t=>(i("loose invalid filter",_t,this.options),!!_t.match(c[u.COMPARATORLOOSE])))),i("range list",rt);const it=new Map,gt=rt.map(_t=>new o(_t,this.options));for(const _t of gt){if(p(_t))return[_t];it.set(_t.value,_t)}it.size>1&&it.has("")&&it.delete("");const Pt=[...it.values()];return r.set(N,Pt),Pt}intersects(P,E){if(!(P instanceof t))throw new TypeError("a Range is required");return this.set.some(N=>b(N,E)&&P.set.some(D=>b(D,E)&&N.every(F=>D.every(I=>F.intersects(I,E)))))}test(P){if(!P)return!1;if(typeof P=="string")try{P=new a(P,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(T(this.set[E],P,this.options))return!0;return!1}}x0=t;const e=r_t,r=new e({max:1e3}),n=sO,o=q_t(),i=Bm,a=fO,{safeRe:c,t:u,comparatorTrimReplace:s,tildeTrimReplace:l,caretTrimReplace:d}=dO,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:h}=lO,p=$=>$.value==="<0.0.0-0",g=$=>$.value==="",b=($,P)=>{let E=!0;const N=$.slice();let D=N.pop();for(;E&&N.length;)E=N.every(F=>D.intersects(F,P)),D=N.pop();return E},m=($,P)=>(i("comp",$,P),$=k($,P),i("caret",$),$=y($,P),i("tildes",$),$=w($,P),i("xrange",$),$=C($,P),i("stars",$),$),v=$=>!$||$.toLowerCase()==="x"||$==="*",y=($,P)=>$.trim().split(/\s+/).map(E=>x(E,P)).join(" "),x=($,P)=>{const E=P.loose?c[u.TILDELOOSE]:c[u.TILDE];return $.replace(E,(N,D,F,I,rt)=>{i("tilde",$,N,D,F,I,rt);let it;return v(D)?it="":v(F)?it=`>=${D}.0.0 <${+D+1}.0.0-0`:v(I)?it=`>=${D}.${F}.0 <${D}.${+F+1}.0-0`:rt?(i("replaceTilde pr",rt),it=`>=${D}.${F}.${I}-${rt} <${D}.${+F+1}.0-0`):it=`>=${D}.${F}.${I} <${D}.${+F+1}.0-0`,i("tilde return",it),it})},k=($,P)=>$.trim().split(/\s+/).map(E=>_(E,P)).join(" "),_=($,P)=>{i("caret",$,P);const E=P.loose?c[u.CARETLOOSE]:c[u.CARET],N=P.includePrerelease?"-0":"";return $.replace(E,(D,F,I,rt,it)=>{i("caret",$,D,F,I,rt,it);let gt;return v(F)?gt="":v(I)?gt=`>=${F}.0.0${N} <${+F+1}.0.0-0`:v(rt)?F==="0"?gt=`>=${F}.${I}.0${N} <${F}.${+I+1}.0-0`:gt=`>=${F}.${I}.0${N} <${+F+1}.0.0-0`:it?(i("replaceCaret pr",it),F==="0"?I==="0"?gt=`>=${F}.${I}.${rt}-${it} <${F}.${I}.${+rt+1}-0`:gt=`>=${F}.${I}.${rt}-${it} <${F}.${+I+1}.0-0`:gt=`>=${F}.${I}.${rt}-${it} <${+F+1}.0.0-0`):(i("no pr"),F==="0"?I==="0"?gt=`>=${F}.${I}.${rt}${N} <${F}.${I}.${+rt+1}-0`:gt=`>=${F}.${I}.${rt}${N} <${F}.${+I+1}.0-0`:gt=`>=${F}.${I}.${rt} <${+F+1}.0.0-0`),i("caret return",gt),gt})},w=($,P)=>(i("replaceXRanges",$,P),$.split(/\s+/).map(E=>O(E,P)).join(" ")),O=($,P)=>{$=$.trim();const E=P.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return $.replace(E,(N,D,F,I,rt,it)=>{i("xRange",$,N,D,F,I,rt,it);const gt=v(F),Pt=gt||v(I),_t=Pt||v(rt),Gt=_t;return D==="="&&Gt&&(D=""),it=P.includePrerelease?"-0":"",gt?D===">"||D==="<"?N="<0.0.0-0":N="*":D&&Gt?(Pt&&(I=0),rt=0,D===">"?(D=">=",Pt?(F=+F+1,I=0,rt=0):(I=+I+1,rt=0)):D==="<="&&(D="<",Pt?F=+F+1:I=+I+1),D==="<"&&(it="-0"),N=`${D+F}.${I}.${rt}${it}`):Pt?N=`>=${F}.0.0${it} <${+F+1}.0.0-0`:_t&&(N=`>=${F}.${I}.0${it} <${F}.${+I+1}.0-0`),i("xRange return",N),N})},C=($,P)=>(i("replaceStars",$,P),$.trim().replace(c[u.STAR],"")),S=($,P)=>(i("replaceGTE0",$,P),$.trim().replace(c[P.includePrerelease?u.GTE0PRE:u.GTE0],"")),A=$=>(P,E,N,D,F,I,rt,it,gt,Pt,_t,Gt,Fo)=>(v(N)?E="":v(D)?E=`>=${N}.0.0${$?"-0":""}`:v(F)?E=`>=${N}.${D}.0${$?"-0":""}`:I?E=`>=${E}`:E=`>=${E}${$?"-0":""}`,v(gt)?it="":v(Pt)?it=`<${+gt+1}.0.0-0`:v(_t)?it=`<${gt}.${+Pt+1}.0-0`:Gt?it=`<=${gt}.${Pt}.${_t}-${Gt}`:$?it=`<${gt}.${Pt}.${+_t+1}-0`:it=`<=${it}`,`${E} ${it}`.trim()),T=($,P,E)=>{for(let N=0;N<$.length;N++)if(!$[N].test(P))return!1;if(P.prerelease.length&&!E.includePrerelease){for(let N=0;N<$.length;N++)if(i($[N].semver),$[N].semver!==o.ANY&&$[N].semver.prerelease.length>0){const D=$[N].semver;if(D.major===P.major&&D.minor===P.minor&&D.patch===P.patch)return!0}return!1}return!0};return x0}const W_t=o8(),H_t=(t,e,r)=>{try{e=new W_t(e,r)}catch{return!1}return e.test(t)};var G_t=H_t,i8=Ykt(G_t);function Y_t(t,e,r){const n=t.open(e),o=1e4,i=250,{origin:a}=new URL(e);let c=~~(o/i);function u(l){l.source===n&&(c=0,t.removeEventListener("message",u,!1))}t.addEventListener("message",u,!1);function s(){c<=0||(n.postMessage(r,a),setTimeout(s,i),c-=1)}setTimeout(s,i)}var V_t=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function a8(t,...e){for(const r of e)X_t(t,r);return t}function X_t(t,e){for(const r of Object.keys(e))ys(t,r,e[r],!0)}function JD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(r),!0).forEach(function(n){Gkt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const yn=xpt;let Fd=Cwt;const wh=typeof window<"u"?window:void 0;var oj;Fd===void 0&&((oj=wh==null?void 0:wh.vl)!=null&&oj.compile)&&(Fd=wh.vl);const K_t={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Q_t={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Bl={vega:"Vega","vega-lite":"Vega-Lite"},Fg={vega:yn.version,"vega-lite":Fd?Fd.version:"not available"},J_t={vega:t=>t,"vega-lite":(t,e)=>Fd.compile(t,{config:e}).spec},Z_t=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,t2t="chart-wrapper";function e2t(t){return typeof t=="function"}function ZD(t,e,r,n){const o=`<html><head>${e}</head><body><pre><code class="json">`,i=`</code></pre>${r}</body></html>`,a=window.open("");a.document.write(o+t+i),a.document.title=`${Bl[n]} JSON Source`}function r2t(t,e){if(t.$schema){const r=QI(t.$schema);e&&e!==r.library&&console.warn(`The given visualization spec is written in ${Bl[r.library]}, but mode argument sets ${Bl[e]??e}.`);const n=r.library;return i8(Fg[n],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${Bl[n]} ${r.version}, but the current version of ${Bl[n]} is v${Fg[n]}.`),n}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":e??"vega"}function n2t(t){return!!(t&&"load"in t)}function tj(t){return n2t(t)?t:yn.loader(t)}function o2t(t){var r;const e=((r=t.usermeta)==null?void 0:r.embedOptions)??{};return J(e.defaultStyle)&&(e.defaultStyle=!1),e}async function i2t(t,e,r={}){let n,o;J(e)?(o=tj(r.loader),n=JSON.parse(await o.load(e))):n=e;const i=o2t(n),a=i.loader;(!o||a)&&(o=tj(r.loader??a));const c=await ej(i,o),u=await ej(r,o),s=Vi(Vi({},a8(u,c)),{},{config:vs(u.config??{},c.config??{})});return await c2t(t,n,s,o)}async function ej(t,e){const r=J(t.config)?JSON.parse(await e.load(t.config)):t.config??{},n=J(t.patch)?JSON.parse(await e.load(t.patch)):t.patch;return Vi(Vi(Vi({},t),n?{patch:n}:{}),r?{config:r}:{})}function a2t(t){const e=t.getRootNode?t.getRootNode():document;return e instanceof ShadowRoot?{root:e,rootContainer:e}:{root:document,rootContainer:document.head??document.body}}async function c2t(t,e,r={},n){const o=r.theme?vs(Akt[r.theme],r.config??{}):r.config,i=fa(r.actions)?r.actions:a8({},K_t,r.actions??{}),a=Vi(Vi({},Q_t),r.i18n),c=r.renderer??"canvas",u=r.logLevel??yn.Warn,s=r.downloadFileName??"visualization",l=typeof t=="string"?document.querySelector(t):t;if(!l)throw new Error(`${t} does not exist`);if(r.defaultStyle!==!1){const k="vega-embed-style",{root:_,rootContainer:w}=a2t(l);if(!_.getElementById(k)){const O=document.createElement("style");O.id=k,O.innerHTML=r.defaultStyle===void 0||r.defaultStyle===!0?V_t.toString():r.defaultStyle,w.appendChild(O)}}const d=r2t(e,r.mode);let f=J_t[d](e,o);if(d==="vega-lite"&&f.$schema){const k=QI(f.$schema);i8(Fg.vega,`^${k.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${k.version}, but current version is v${Fg.vega}.`)}l.classList.add("vega-embed"),i&&l.classList.add("has-actions"),l.innerHTML="";let h=l;if(i){const k=document.createElement("div");k.classList.add(t2t),l.appendChild(k),h=k}const p=r.patch;if(p&&(f=p instanceof Function?p(f):Rg(f,p,!0,!1).newDocument),r.formatLocale&&yn.formatLocale(r.formatLocale),r.timeFormatLocale&&yn.timeFormatLocale(r.timeFormatLocale),r.expressionFunctions)for(const k in r.expressionFunctions){const _=r.expressionFunctions[k];"fn"in _?yn.expressionFunction(k,_.fn,_.visitor):_ instanceof Function&&yn.expressionFunction(k,_)}const{ast:g}=r,b=yn.parse(f,d==="vega-lite"?{}:o,{ast:g}),m=new(r.viewClass||yn.View)(b,Vi({loader:n,logLevel:u,renderer:c},g?{expr:yn.expressionInterpreter??r.expr??Ppt}:{}));if(m.addSignalListener("autosize",(k,_)=>{const{type:w}=_;w=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):w=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):w=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),r.tooltip!==!1){const k=e2t(r.tooltip)?r.tooltip:new qkt(r.tooltip===!0?{}:r.tooltip).call;m.tooltip(k)}let{hover:v}=r;if(v===void 0&&(v=d==="vega"),v){const{hoverSet:k,updateSet:_}=typeof v=="boolean"?{}:v;m.hover(k,_)}r&&(r.width!=null&&m.width(r.width),r.height!=null&&m.height(r.height),r.padding!=null&&m.padding(r.padding)),await m.initialize(h,r.bind).runAsync();let y;if(i!==!1){let k=l;if(r.defaultStyle!==!1){const w=document.createElement("details");w.title=a.CLICK_TO_VIEW_ACTIONS,l.append(w),k=w;const O=document.createElement("summary");O.innerHTML=Z_t,w.append(O),y=C=>{w.contains(C.target)||w.removeAttribute("open")},document.addEventListener("click",y)}const _=document.createElement("div");if(k.append(_),_.classList.add("vega-actions"),i===!0||i.export!==!1){for(const w of["svg","png"])if(i===!0||i.export===!0||i.export[w]){const O=a[`${w.toUpperCase()}_ACTION`],C=document.createElement("a"),S=tt(r.scaleFactor)?r.scaleFactor[w]:r.scaleFactor;C.text=O,C.href="#",C.target="_blank",C.download=`${s}.${w}`,C.addEventListener("mousedown",async function(A){A.preventDefault();const T=await m.toImageURL(w,S);this.href=T}),_.append(C)}}if(i===!0||i.source!==!1){const w=document.createElement("a");w.text=a.SOURCE_ACTION,w.href="#",w.addEventListener("click",function(O){ZD(Vm(e),r.sourceHeader??"",r.sourceFooter??"",d),O.preventDefault()}),_.append(w)}if(d==="vega-lite"&&(i===!0||i.compiled!==!1)){const w=document.createElement("a");w.text=a.COMPILED_ACTION,w.href="#",w.addEventListener("click",function(O){ZD(Vm(f),r.sourceHeader??"",r.sourceFooter??"","vega"),O.preventDefault()}),_.append(w)}if(i===!0||i.editor!==!1){const w=r.editorUrl??"https://vega.github.io/editor/",O=document.createElement("a");O.text=a.EDITOR_ACTION,O.href="#",O.addEventListener("click",function(C){Y_t(window,w,{config:o,mode:d,renderer:c,spec:Vm(e)}),C.preventDefault()}),_.append(O)}}function x(){y&&document.removeEventListener("click",y),m.finalize()}return{view:m,spec:e,vgSpec:f,finalize:x,embedOptions:r}}function u2t(t){return!!t&&{}.toString.call(t)==="[object Function]"}function s2t(t,e,r){r&&(u2t(r)?r(t.data(e)):t.change(e,yn.changeset().remove(()=>!0).insert(r)))}function l2t(t,e){Object.keys(e).forEach(r=>{s2t(t,r,e[r])})}function c8(t){const e=new Set;return t.forEach(r=>{Object.keys(r).forEach(n=>{e.add(n)})}),e}const u8=()=>{};function w0(t,e){const r=Object.keys(e);return r.forEach(n=>{try{t.addSignalListener(n,e[n])}catch(o){console.warn("Cannot add invalid signal listener.",o)}}),r.length>0}function d2t(t,e){if(t===e)return!1;const r={width:!1,height:!1,isExpensive:!1},n=c8([t,e]);return n.has("width")&&(!("width"in t)||!("width"in e)||t.width!==e.width)&&("width"in t&&typeof t.width=="number"?r.width=t.width:r.isExpensive=!0),n.has("height")&&(!("height"in t)||!("height"in e)||t.height!==e.height)&&("height"in t&&typeof t.height=="number"?r.height=t.height:r.isExpensive=!0),n.delete("width"),n.delete("height"),[...n].some(o=>!(o in t)||!(o in e)||!D6(t[o],e[o]))&&(r.isExpensive=!0),r.width!==!1||r.height!==!1||r.isExpensive?r:!1}function rj(t,e){const r=Object.keys(e);return r.forEach(n=>{try{t.removeSignalListener(n,e[n])}catch(o){console.warn("Cannot remove invalid signal listener.",o)}}),r.length>0}function k0(t){const{spec:e,width:r,height:n}=t;return typeof r<"u"&&typeof n<"u"?{...e,width:r,height:n}:typeof r<"u"?{...e,width:r}:typeof n<"u"?{...e,height:n}:e}function Ul(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class s8 extends _u.PureComponent{constructor(){super(...arguments),Ul(this,"containerRef",_u.createRef()),Ul(this,"resultPromise",void 0),Ul(this,"handleError",e=>{const{onError:r=u8}=this.props;r(e,this.containerRef.current),console.warn(e)}),Ul(this,"modifyView",e=>{this.resultPromise&&this.resultPromise.then(r=>(r&&e(r.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(e){const r=c8([this.props,e]);if(r.delete("className"),r.delete("signalListeners"),r.delete("spec"),r.delete("style"),r.delete("width"),r.delete("height"),Array.from(r).some(n=>this.props[n]!==e[n]))this.clearView(),this.createView();else{const n=d2t(k0(this.props),k0(e)),{signalListeners:o}=this.props,{signalListeners:i}=e;if(n)if(n.isExpensive)this.clearView(),this.createView();else{const a=!E0(o,i);this.modifyView(c=>{n.width!==!1&&c.width(n.width),n.height!==!1&&c.height(n.height),a&&(i&&rj(c,i),o&&w0(c,o)),c.run()})}else E0(o,i)||this.modifyView(a=>{i&&rj(a,i),o&&w0(a,o),a.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:e,onNewView:r,signalListeners:n={},width:o,height:i,...a}=this.props;if(this.containerRef.current){const c=k0(this.props);this.resultPromise=i2t(this.containerRef.current,c,a).then(u=>{if(u){const{view:s}=u;w0(s,n)&&s.run()}return u}).catch(this.handleError),r&&this.modifyView(r)}}clearView(){return this.resultPromise&&this.resultPromise.then(e=>{e&&e.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:e,style:r}=this.props;return _u.createElement("div",{ref:this.containerRef,className:e,style:r})}}Ul(s8,"propTypes",{className:E$.string,onError:E$.func});function R1(){return R1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function L1(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const f2t={};class l8 extends _u.PureComponent{constructor(){super(...arguments),L1(this,"vegaEmbed",_u.createRef()),L1(this,"handleNewView",e=>{this.update();const{onNewView:r=u8}=this.props;r(e)})}componentDidMount(){this.update()}componentDidUpdate(e){E0(this.props.data,e.data)||this.update()}update(){const{data:e}=this.props;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView(r=>{l2t(r,e),r.resize().run()})}render(){const{data:e,...r}=this.props;return _u.createElement(s8,R1({ref:this.vegaEmbed},r,{onNewView:this.handleNewView}))}}L1(l8,"defaultProps",{data:f2t});var h2t=["actions","className","config","label"];function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var p2t={font:"var(--utrecht-vega-visualization-font-family, var(--utrecht-document-font-family))",title:{fontSize:20,anchor:"start",offset:32,subtitleFontSize:16},range:{category:{scheme:"set1"}},axis:{labelFontSize:16,titleFontSize:16,labelFontWeight:"bold",titleFontWeight:"normal",labelAngle:0,ticks:!1,labelPadding:12,domainColor:"var(--utrecht-vega-visualization-axis-domain-color, black)",gridColor:"var(--utrecht-vega-visualization-axis-grid-color, gray)",tickColor:"var(--utrecht-vega-visualization-axis-tick-color, black)"},axisY:{titleAngle:0,titleX:0,titleY:7,titleAlign:"left",titleFontWeight:"bold",domain:!1},legend:{labelFontSize:16,titleFontSize:16},bar:{width:{band:.85}},view:{stroke:null},padding:{left:20,top:20,right:25,bottom:20},locale:{number:{decimal:",",thousands:".",grouping:[3],currency:[""," €"]},time:{dateTime:"%a %e %B %Y %X",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}}},cOt=function(e){var r=e.actions,n=r===void 0?!1:r,o=e.className,i=e.config,a=e.label,c=W(e,h2t);return j("div",{className:q("utrecht-vega-visualisation",o),role:"image","aria-label":a,children:j("div",{"aria-hidden":!0,children:j(l8,kh(kh({},c),{},{actions:n,renderer:"svg",config:kh(kh({},p2t),i)}))})})};export{zg as $,Q7 as A,wj as B,oU as C,jU as D,zU as E,JU as F,DW as G,_q as H,k2t as I,_2t as J,Kq as K,kj as L,tW as M,nW as N,uW as O,EW as P,qq as Q,FW as R,eH as S,$H as T,MH as U,cOt as V,Iq as W,Dq as X,Aq as Y,$q as Z,Eq as _,jH as a,uq as a0,YU as a1,XU as a2,OU as a3,iB as a4,hU as a5,lU as a6,cU as a7,wB as a8,_B as a9,kB as aa,pB as ab,dB as ac,uB as ad,Yq as ae,V7 as af,H7 as ag,qm as ah,Us as ai,g9 as aj,qs as ak,w2t as al,y8 as am,O8 as an,_8 as ao,gj as ap,aW as b,oq as c,eq as d,PU as e,NU as f,PH as g,dW as h,kW as i,gW as j,yq as k,wq as l,DU as m,WW as n,zd as o,yW as p,ZW as q,dq as r,wU as s,$B as t,z7 as u,oH as v,KW as w,YW as x,IW as y,BW as z};
//# sourceMappingURL=index-3a754f1b.js.map
