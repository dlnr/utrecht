{"version":3,"file":"ButtonLink-27568c91.js","sources":["../../../component-library-react/src/ButtonLink.tsx"],"sourcesContent":["/**\n * @license EUPL-1.2\n * Copyright (c) 2021 Gemeente Utrecht\n * Copyright (c) 2021 Robbert Broersma\n */\n\nimport clsx from 'clsx';\nimport { AnchorHTMLAttributes, ForwardedRef, forwardRef, KeyboardEvent, PropsWithChildren } from 'react';\n\n// Somehow `placeholder` incorrectly is a global HTML attribute in React, ignore that\nexport interface ButtonLinkProps extends Omit<AnchorHTMLAttributes<HTMLAnchorElement>, 'placeholder'> {\n  appearance?: string;\n  external?: boolean;\n  placeholder?: boolean;\n}\n\nconst onKeyDown = (evt: KeyboardEvent<HTMLAnchorElement>) => {\n  if (evt.key === ' ' && typeof (evt.target as HTMLElement)?.click === 'function') {\n    // Prevent other side-effects, such as scrolling\n    evt.preventDefault();\n\n    // Navigate to the link target\n    (evt.target as HTMLElement).click();\n  }\n};\n\nexport const ButtonLink = forwardRef(\n  (\n    {\n      appearance,\n      children,\n      className,\n      external,\n      href,\n      placeholder,\n      role,\n      ...restProps\n    }: PropsWithChildren<ButtonLinkProps>,\n    ref: ForwardedRef<HTMLAnchorElement>,\n  ) => {\n    let props = restProps;\n\n    if (role === 'button') {\n      // When this link is announced as button by accessibility tools,\n      // it should also behave like a button. Links are not activated\n      // using `Space`, so we need to implement that behaviour here\n      // to reach parity with the `button` element.\n      props = {\n        ...restProps,\n        onKeyDown,\n      };\n    }\n\n    return (\n      <a\n        href={placeholder ? undefined : href}\n        ref={ref}\n        role={role || (placeholder ? 'link' : undefined)}\n        className={clsx(\n          'utrecht-button-link',\n          'utrecht-button-link--html-a',\n          {\n            'utrecht-button-link--external': external,\n            'utrecht-button-link--primary-action': appearance === 'primary-action-button',\n            'utrecht-button-link--secondary-action': appearance === 'secondary-action-button',\n            'utrecht-button-link--subtle': appearance === 'subtle-button',\n            'utrecht-button-link--placeholder': placeholder,\n          },\n          className,\n        )}\n        rel={external ? 'external noopener noreferrer' : undefined}\n        aria-disabled={placeholder ? 'true' : undefined}\n        {...props}\n      >\n        {children}\n      </a>\n    );\n  },\n);\n\nButtonLink.displayName = 'ButtonLink';\n"],"names":["onKeyDown","evt","_a","ButtonLink","forwardRef","appearance","children","className","external","href","placeholder","role","restProps","ref","props","jsx","clsx"],"mappings":"+HAgBA,MAAAA,EAAAC,GAAA,OACEA,EAAA,MAAA,KAAA,QAAAC,EAAAD,EAAA,SAAA,YAAAC,EAAA,QAAA,aAEED,EAAA,eAAA,EAGAA,EAAA,OAAA,QAEJ,EAEOE,EAAAC,EAAA,WAAmB,CAAA,CAEtB,WAAAC,EACE,SAAAC,EACA,UAAAC,EACA,SAAAC,EACA,KAAAC,EACA,YAAAC,EACA,KAAAC,EACA,GAAAC,CACG,EAAAC,IAAA,CAIL,IAAAC,EAAAF,EAEA,OAAAD,IAAA,WAKEG,EAAA,CAAQ,GAAAF,EACH,UAAAZ,CACH,GAIJe,EACE,IAAC,CAAA,KAAAL,EAAA,OAAAD,EACiC,IAAAI,EAChC,KAAAF,IAAAD,EAAA,OAAA,QACsC,UAAAM,EAC3B,sBACT,8BACA,CACA,gCAAAR,EACmC,sCAAAH,IAAA,wBACqB,wCAAAA,IAAA,0BACE,8BAAAA,IAAA,gBACV,mCAAAK,CACV,EACtCH,CACA,EACF,IAAAC,EAAA,+BAAA,OACiD,gBAAAE,EAAA,OAAA,OACX,GAAAI,EAClC,SAAAR,CAEH,CAAA,CACH,CAGN,EAEAH,EAAA,YAAA"}