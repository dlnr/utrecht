var R=["::-webkit-scrollbar-thumb"],u={hover:"hover",active:"active",focusVisible:"focus-visible",focusWithin:"focus-within",focus:"focus",visited:"visited",link:"link",target:"target"},y=e=>e.indexOf("@")===0,v=e=>{if(y(e))return[e];let n=[],r=0,t=0,a="";for(let s=0,i=e.length;s<i;s++){const o=e[s];if(o==="(")r+=1;else if(o===")")r-=1;else if(o==="[")t+=1;else if(o==="]")t-=1;else if(o===","&&!r&&!t){n.push(a.trim()),a="";continue}a+=o}return n.push(a.trim()),n},d=Object.values(u),O=new RegExp(`:(${d.join("|")})`),T=new RegExp(`:(${d.join("|")})`,"g"),p=new Set,S=e=>{p.has(e)||(console.warn(e),p.add(e))},D=(e,n)=>R.some(r=>e.endsWith(`${r}:${n}`)),g=({cssText:e,selectorText:n},r)=>e.replace(n,v(n).flatMap(t=>{if(t.includes(".pseudo-"))return[];if(!O.test(t))return[t];const a=[],s=t.replace(T,(l,c)=>(a.push(c),"")),i=a.reduce((l,c)=>D(t,c)?"":l.replace(new RegExp(`(?<!Y):${c}`,"g"),`.pseudo-${c}`),t);if(t.startsWith(":host(")||t.startsWith("::slotted("))return[t,i].filter(Boolean);const o=r?`:host(${a.map(l=>`.pseudo-${l}`).join("")}) ${s}`:`${a.map(l=>`.pseudo-${l}`).join("")} ${s}`;return[t,i,o].filter(l=>l&&!l.includes(":not()"))}).join(", ")),w=(e,n,r)=>{if(!e.__pseudoStatesRewritten){e.__pseudoStatesRewritten=!0;try{let t=0;for(const a of e.cssRules){if(!("selectorText"in a))continue;const s=a;if(O.test(s.selectorText)){const i=g(s,n);e.deleteRule(t),e.insertRule(i,t),n&&r&&r.add(n.host)}if(t++,t>1e3){S("Reached maximum of 1000 pseudo selectors per sheet, skipping the rest.");break}}}catch(t){String(t).includes("cssRules")?S(`Can't access cssRules, likely due to CORS restrictions: ${e.href}`):console.error(t,e.href)}}},_=__STORYBOOK_MODULE_PREVIEW_API__.addons.getChannel(),E=new Set,h=(e,n)=>{Object.values(u).forEach(r=>e.classList.remove(`pseudo-${r}`)),n.forEach(r=>e.classList.add(r))},A=(e,n)=>{const r=new Map([[e,new Set]]),t=(a,s)=>r.set(a,new Set([...r.get(a)||[],s]));Object.entries(n||{}).forEach(([a,s])=>{typeof s=="boolean"?s&&t(e,a):typeof s=="string"?e.querySelectorAll(s).forEach(i=>t(i,a)):Array.isArray(s)&&s.forEach(i=>e.querySelectorAll(i).forEach(o=>t(o,a)))}),r.forEach((a,s)=>{const i=new Set;a.forEach(o=>u[o]&&i.add(`pseudo-${u[o]}`)),h(s,i)})},m=e=>{const n=new Set;for(let r=e.parentElement;r;r=r.parentElement)r.className&&r.className.split(" ").filter(t=>t.indexOf("pseudo-")===0).forEach(t=>n.add(t));h(e,n)},$=(e,{viewMode:n,parameters:r,id:t,globals:a})=>{const{pseudo:s}=r,{pseudo:i}=a,o=__STORYBOOK_MODULE_PREVIEW_API__.useMemo(()=>n==="docs"?document.getElementById(`story--${t}`):document.getElementById("storybook-root")||document.getElementById("root"),[n,t]);return __STORYBOOK_MODULE_PREVIEW_API__.useEffect(()=>{s!==i&&n==="story"&&_.emit(__STORYBOOK_MODULE_CORE_EVENTS__.UPDATE_GLOBALS,{globals:{pseudo:s}})},[s,n]),__STORYBOOK_MODULE_PREVIEW_API__.useEffect(()=>{if(!o)return;const l=setTimeout(()=>{A(o,i||s),E.forEach(m)},0);return()=>clearTimeout(l)},[o,i,s]),e()},f=e=>{var r;let n=Array.from(e?e.styleSheets:document.styleSheets);(r=e==null?void 0:e.adoptedStyleSheets)!=null&&r.length&&(n=e.adoptedStyleSheets),n.forEach(t=>w(t,e,E))};_.on(__STORYBOOK_MODULE_CORE_EVENTS__.STORY_CHANGED,()=>E.clear());_.on(__STORYBOOK_MODULE_CORE_EVENTS__.STORY_RENDERED,()=>f());_.on(__STORYBOOK_MODULE_CORE_EVENTS__.DOCS_RENDERED,()=>f());Element.prototype.attachShadow&&(Element.prototype._attachShadow=Element.prototype.attachShadow,Element.prototype.attachShadow=function(n){const r=this._attachShadow({...n,mode:"open"});return requestAnimationFrame(()=>{f(r),m(r.host)}),r});var b=[$];export{b as decorators};
//# sourceMappingURL=preview-3f5cd387.js.map
